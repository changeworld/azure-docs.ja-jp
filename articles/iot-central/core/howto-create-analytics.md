---
title: Azure IoT Central アプリケーションでデバイス データを分析する | Microsoft Docs
description: Azure IoT Central アプリケーションでデバイス データを分析します。
author: ankitscribbles
ms.author: ankitgup
ms.date: 11/27/2019
ms.topic: how-to
ms.service: iot-central
services: iot-central
manager: abjork
ms.openlocfilehash: 40460b58ede0ca0da8fe25475906bdbe41bfffe0
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/28/2020
ms.locfileid: "80158284"
---
# <a name="how-to-use-analytics-to-analyze-device-data"></a>分析を使用してデバイス データを分析する方法

*この記事は、オペレーター、ビルダー、および管理者に適用されます。*



Azure IoT Central では、履歴の傾向を分析し、デバイスからのさまざまなテレメトリを関連付けるための豊富な分析機能を利用できます。 最初に、左側のプレーンで **[分析]** を選択します。

## <a name="understanding-the-analytics-ui"></a>分析 UI について
[分析] ユーザー インターフェイスは、3 つの主要なコンポーネントで構成されています。
- **データ構成パネル:** 構成パネルでは、まず、データを分析するデバイス グループを選択します。 次に、分析するテレメトリを選択して、それぞれのテレメトリの集計方法を選択します。 **[分割基準]** コントロールは、デバイス プロパティをディメンションとして使用してデータをグループ化するのに役立ちます。

- **タイム コントロール:** タイム コントロールを使用して、データを分析する期間を選択します。 タイム スライダーのいずれかの端をドラッグして、期間を選択できます。 タイム コントロールには **[Interval size]\(間隔サイズ\)** スライダーもあり、データ集計に使用するバケットまたは間隔サイズを制御できます。 

- **グラフ コントロール:** グラフ コントロールでは、データが折れ線グラフで視覚化されます。 グラフの凡例を操作すると、特定の線の表示を切り替えることができます。 


  ![[分析] UI の概要](media/howto-create-analytics/analyticsui.png)


## <a name="querying-your-data"></a>データのクエリ

まず、分析する **[デバイス グループ]** とテレメトリを選択する必要があります。 それが終わったら、 **[分析]** を選択してデータの視覚化を開始します。

- **[デバイス グループ]:** [デバイス グループ](tutorial-use-device-groups.md)は、ユーザーが定義したデバイスのグループです。 たとえば、オークランドのすべての冷蔵庫や、すべてのバージョン 2.0 の風力タービンなどです。

- **テレメトリ:** 分析して調査するテレメトリを選択します。 複数のテレメトリを選択して、まとめて分析することもできます。 既定の集計方法は、数値データ型は [平均]、文字列データ型は [回数] にそれぞれ設定されています。 数値データ型でサポートされている集計方法は、[平均]、[最大]、[最小]、[回数]、[合計] です。  文字列データ型でサポートされている集計方法は、[回数] です。

- **分割基準:** [分割基準] コントロールは、デバイス プロパティをディメンションとして使用してデータをグループ化するのに役立ちます。 デバイスおよびクラウドのプロパティの値は、テレメトリがデバイスから送信され次第、テレメトリと結合されます。 クラウドまたはデバイスのプロパティが更新されると、グラフ上でテレメトリが異なる値によってグループ化されていることが確認できます。

    > [!TIP]
    > 各デバイスのデータを個別に表示するには、[分割基準] コントロールでデバイス ID を選択します。

## <a name="interacting-with-your-data"></a>データの操作

データにクエリを実行したら、折れ線グラフ上で視覚化を開始できます。 テレメトリの表示と非表示の切り替え、期間の変更、データ グリッドでのテレメトリの表示を行うことができます。

- **期間編集パネル:** 既定では、過去 1 日分のデータが取得されます。 タイム スライダーのいずれかの端をドラッグして、期間を変更できます。 カレンダー コントロールを使用して、事前定義された時間バケットの 1 つを選択することも、カスタムの時間の範囲を選択することもできます。 タイム コントロールには **[Interval size]\(間隔サイズ\)** スライダーもあり、データ集計に使用するバケットまたは間隔サイズを制御できます。

    ![期間編集](media/howto-create-analytics/timeeditorpanel.png)

    - **内部日付範囲スライダー ツール**:2 つの終端コントロールをドラッグして、目的の時間範囲を調整します。 この内部日付範囲は、外部日付範囲スライダー コントロールによって制限されます。
    
   
    - **外部日付範囲スライダー コントロール**:終端コントロールを使用して、内部日付範囲コントロールで使用できる外部日付範囲を選択します。

    - **日付範囲の拡大縮小ボタン**:いずれかのボタンを選択して、目的の期間になるように時間範囲を広げたり狭めたりします。

    - **[間隔サイズ] スライダー**:同じ時間範囲で間隔を拡大縮小するために使用します。 この操作により、大きい時間スライスの間での動きをより細かく制御できます。 これを使用して、さらに細かく高い解像度 (最小でミリ秒の単位) でデータを見ることができます。 スライダーの既定の開始点は、解像度、クエリ速度、粒度のバランスを考慮して、選択された範囲のデータを最適に表示できる位置に設定されています。
    
    - **日付の範囲の選択**:この Web コントロールを使用すると、目的の日付と時刻の範囲を簡単に選択できます。 コントロールを使用して、異なるタイム ゾーンに切り替えることもできます。 変更を行った後、現在のワークスペースに適用するには、[保存] を選択します。

    > [!TIP]
    > 間隔サイズは、選択された期間に基づいて動的に決定されます。 期間を短くすると、最小で数秒という非常に細やかな間隔でデータを集計できるようになります。


- **グラフの凡例:** グラフの凡例は、グラフ上の選択されたテレメトリを示します。 凡例の各項目をポイントすると、グラフ上で強調表示されます。 [分割基準] を使用すると、テレメトリは選択されたディメンションのそれぞれの値でグループ化されます。 グループ名をクリックして、それぞれ特定のテレメトリとグループ全体の視覚化を切り替えられます。  


- **Y 軸の形式コントロール:** Y 軸のモードは、利用可能な Y 軸ビュー オプション間を順に切り替わります。 このコントロールが利用できるのは、複数のテレメトリが視覚化されている場合のみです。 Y 軸を設定するには、次の 3 つのモードから選択することができます。

    - **積み上げ:** すべてのテレメトリのグラフが積み上げられ、各グラフに独自の Y 軸があります。 このモードは既定値として設定されています。
    - **共有:** すべてのテレメトリのグラフが、同じ Y 軸に対してプロットされます。
    - **重複:** 複数の線を同じ Y 軸に対して積み上げる場合に使用します。Y 軸のデータは選択されている線に応じて変化します。

  ![異なる視覚化モードで Y 軸にデータを配置する](media/howto-create-analytics/yaxiscontrol.png)

- **ズーム コントロール:** ズームを使えば、データをさらに拡大することができます。 結果セットの中に注目したい期間がある場合、マウス ポインターを使用して領域を選択し、望みのエンドポイントまでドラッグします。 その後、選択された領域を右クリックして、[ズーム] をクリックします。

  ![データをズームする](media/howto-create-analytics/zoom.png)

省略記号の下には、データを操作するための他のグラフ コントロールがあります。

- **[グリッドの表示]:** 結果が表形式で表示され、各データ ポイントの特定の値を見ることができます。

- **[Drop a Marker]\(マーカーのドロップ\):** [Drop Marker]\(マーカーのドロップ\) コントロールでは、グラフ上の特定のデータ ポイントを固定できます。 この機能は、異なる期間の複数の線のデータを比較する際に役立ちます。

  ![分析のグリッド ビューの表示](media/howto-create-analytics/additionalchartcontrols.png)