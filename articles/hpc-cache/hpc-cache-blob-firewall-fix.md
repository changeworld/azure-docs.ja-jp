---
title: ストレージのファイアウォール設定を回避する
description: Azure HPC Cache に Azure Blob ストレージ ターゲットを作成するとき、ストレージ アカウントのネットワーク ファイアウォール設定によってエラーが発生することがあります。 この記事では、ソフトウェア修正プログラムが整うまでの間、この制限を回避する方法について説明します。
author: ekpgh
ms.service: hpc-cache
ms.topic: conceptual
ms.date: 11/7/2019
ms.author: rohogue
ms.openlocfilehash: 6643662d498db8cbcffcb120a9ceabc46cfc04cb
ms.sourcegitcommit: 4821b7b644d251593e211b150fcafa430c1accf0
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/19/2019
ms.locfileid: "74174184"
---
# <a name="work-around-blob-storage-account-firewall-settings"></a>BLOB ストレージ アカウントのファイアウォール設定を回避する

ストレージ アカウントの特定のファイアウォール設定により、ご自分の Blob ストレージ ターゲットの作成が失敗することがあります。 この問題に対応するソフトウェア修正プログラムは、Azure HPC Cache チームが着手していますが、この記事の手順に従うとこの問題を回避できます。

キャッシュは、"選択されたネットワーク" からのアクセスのみを許可するファイアウォール設定によって、Blob ストレージ ターゲットを作成できなくなります。 この構成は、ストレージ アカウントの **[ファイアウォールと仮想ネットワーク]** 設定ページにあります。

これは、キャッシュ サービスが、お客様の環境とは別の非表示のサービス仮想ネットワークを使用するためです。 このネットワークに、お使いのストレージ アカウントへのアクセスを明示的に承認させることはできません。

キャッシュ サービスは、Blob ストレージ ターゲットを作成するとき、このネットワークを使用してコンテナーが空かどうかを確認します。 ファイアウォールが非表示のネットワークからのアクセスを許可しない場合、チェックは失敗し、ストレージ ターゲットの作成は失敗します。

この問題を回避するには、ストレージ ターゲットの作成中は一時的にお使いのファイアウォールの設定を変更します。

1. ストレージ アカウント **[ファイアウォールと仮想ネットワーク]** ページに移動し、[許可するアクセス元] の設定を **[すべてのネットワーク]** に変更します。
1. お使いの Azure HPC Cache で Blob ストレージ ターゲットを作成します。
1. ストレージ ターゲットが正常に作成されたら、アカウントのファイアウォール設定を **[選択したネットワーク]** に戻します。

Azure HPC Cache は、完成しているストレージ ターゲットへのアクセスにはサービス仮想ネットワークを使用しません。

この回避策のサポートが必要な場合は、[Microsoft サービスにお問い合わせ](hpc-cache-support-ticket.md)ください。
