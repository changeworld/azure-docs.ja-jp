---
title: StorSimple のローカル固定ボリュームに関してよく寄せられる質問 | Microsoft Docs
description: StorSimple のローカル固定ボリュームに関してよく寄せられる質問とその回答を示します。
services: storsimple
documentationcenter: NA
author: manuaery
manager: syadav
editor: ''
ms.assetid: ''
ms.service: storsimple
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 06/26/2017
ms.author: manuaery
ms.openlocfilehash: aa69d8b07d31b5cf0386e34c113475cbf4191891
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/27/2020
ms.locfileid: "60319549"
---
# <a name="storsimple-locally-pinned-volumes-frequently-asked-questions-faq"></a>StorSimple のローカル固定ボリューム: よく寄せられる質問 (FAQ)
## <a name="overview"></a>概要
以下に示す情報は、StorSimple のローカル固定ボリュームの作成、階層化ボリュームからローカル固定ボリュームへの変換 (およびその逆)、ローカル固定ボリュームのバックアップと復元などを行う場合に予想される質問とその回答です。

質問と回答は次の各カテゴリに分類されます。

* ローカル固定ボリュームの作成
* ローカル固定ボリュームのバックアップ
* 階層化ボリュームからローカル固定ボリュームへの変換
* ローカル固定ボリュームの復元
* ローカル固定ボリュームのフェールオーバー

## <a name="questions-about-creating-a-locally-pinned-volume"></a>ローカル固定ボリュームの作成に関する質問
**Q.** 8000 シリーズのデバイス上に作成できるローカル固定ボリュームの最大サイズを教えてください。

**A** StorSimple 8000 シリーズ Update 3.0 を実行しているデバイスでは、ローカル固定のボリュームを 8.5 TB まで、階層化されたボリュームを 200 TB まで、8100 デバイスにプロビジョニングできます。 より大きな 8600 デバイスでは、ローカル固定ボリュームを 22.5 TB まで、階層化ボリュームを 500 TB までプロビジョニングできます。

**Q.** 最近 8100 デバイスを Update 3.0 にアップグレードしましたが、ローカル固定ボリュームを作成しようとすると、使用可能な最大サイズが 8.5 TB ではなく 6 TB しかありません。 8\.5 TB のボリュームを作成できないのはなぜですか。

**A** ご使用のデバイスで Update 3.0 が実行されている場合は、ローカル固定のボリュームを 8.5 TB まで、階層化されたボリュームを 200 TB まで、8100 デバイスにプロビジョニングできます。 ご利用のデバイスに既に階層化ボリュームが含まれている場合は、その分、ローカル固定ボリュームの作成に使用できる領域が、この上限よりも小さくなります。 たとえば、8100 デバイスに約 106 TB (階層化ボリューム容量の半分) の階層化ボリュームが既にプロビジョニングされている場合、それに応じて 8100 デバイス上に作成できるローカル ボリュームの最大サイズは 4 TB (ローカル固定ボリューム容量の最大値の約半分) に減少します。

階層化ボリュームのワーキング セットをホストするためにデバイスのローカル領域の一部が使用されるため、デバイスに階層化ボリュームが含まれている場合はローカル固定ボリュームの作成に使用できる領域が減少します。 反対に、ローカル固定ボリュームを作成すると、それに比例して階層化ボリュームに使用できる領域が減少します。 次の表は、ローカル固定ボリュームが作成されている場合に 8100 デバイスと 8600 デバイスそれぞれで使用できる階層化ボリューム容量をまとめたものです。

#### <a name="update-30"></a>Update 3.0 

| ローカル固定ボリュームのプロビジョニング済み容量 | 階層化ボリュームのプロビジョニングに使用できる容量 - 8100 | 階層化ボリュームのプロビジョニングに使用できる容量 - 8600 |
| --- | --- | --- |
| 0 |200 TB |500 TB |
| 1 TB (テラバイト) |176.5 TB |477.8 TB |
| 4 TB |105.9 TB |411.1 TB |
| 8.5 TB |0 TB |311.1 TB |
| 10 TB |NA |277.8 TB |
| 15 TB |NA |166.7 TB |
| 22.5 TB |NA |0 TB |

**Q.** ローカル固定ボリュームの作成操作に長い実行時間がかかるのはなぜですか。

**A.** ローカル固定ボリュームはシック プロビジョニングされます。 デバイスのローカル層に領域を作成するため、プロビジョニング プロセス中に、既存の階層化ボリュームから一部のデータがクラウドにプッシュされることがあります。 この操作はプロビジョニング対象のボリュームのサイズ、デバイス上の既存データ、クラウドへの利用可能な帯域幅などに依存するため、ローカル ボリュームの作成には数時間を要する場合があります。

**Q.** ローカル固定ボリュームの作成にかかる時間を教えてください。

**A.** ローカル固定ボリュームはシック プロビジョニングされるため、プロビジョニング プロセス中に、階層化ボリュームから一部の既存データがクラウドにプッシュされることがあります。 そのため、ローカル固定ボリュームの作成にかかる時間は、ボリュームのサイズ、デバイス上のデータ、利用可能な帯域幅など、複数の要因によって決まります。 インストールしたばかりでボリュームがないデバイスの場合、ローカル固定ボリュームの作成時間は 1 TB のデータあたり約 10 分となります。 ただし、ローカル ボリュームの作成にかかる時間は、使用しているデバイスでの前述した要因に基づき、数時間に及ぶ場合もあります。

**Q.** ローカル固定ボリュームを作成します。 認識しておくことが必要なベスト プラクティスはありますか。

**A.** ローカル固定ボリュームは、常にデータがローカルで保証されることを必要とし、クラウドの待機時間による影響を受けやすいワークロードに適しています。 ワークロードに対するローカル ボリュームの使用率を考慮しながら、以下の点にも注意してください。

* ローカル固定ボリュームはシック プロビジョニングされることから、ローカル ボリュームの作成は階層化ボリュームに使用できる領域に影響します。 そのため、まずは小さいサイズのボリュームから始めて、ストレージ要件の増大に合わせてスケールアップすることをお勧めします。
* ローカル ボリュームのプロビジョニングは実行時間の長い操作であり、場合によっては階層化ボリュームの既存データをクラウドにプッシュすることも必要になります。 その結果、これらのボリュームでパフォーマンスが低下することがあります。
* ローカル ボリュームのプロビジョニングは時間がかかる操作です。 実際に必要となる時間は、プロビジョニング対象のボリュームのサイズ、デバイス上のデータ、利用可能な帯域幅などの複数の要因によって異なります。 既存のボリュームをクラウドにバックアップしていない場合、ボリュームの作成にかかる時間はさらに長くなります。 ローカル ボリュームをプロビジョニングする前に、既存のボリュームのクラウド スナップショットを取得することをお勧めします。
* 既存の階層化ボリュームをローカル固定ボリュームに変換できますが、この変換には、変換先のローカル固定ボリューム用にデバイス上の領域をプロビジョニングする操作も伴います (クラウドに階層化データがある場合はそのダウンロードも行います)。 これも実行時間の長い操作であり、必要な時間は前述した要因によって異なります。 既存のボリュームがバックアップされていないと変換プロセスがさらに低速になるため、変換前に既存のボリュームをバックアップしておくことをお勧めします。 このプロセス中に、デバイスでのパフォーマンスが低下する場合もあります。

ローカル固定ボリュームの作成方法の詳細については、 [こちら](storsimple-8000-manage-volumes-u2.md#add-a-volume)

**Q.** 複数のローカル固定ボリュームを同時に作成することはできますか。

**A.** はい。ただし、ローカル固定ボリュームの作成ジョブと拡張ジョブは順番に処理されます。

ローカル固定ボリュームはシック プロビジョニングされるため、デバイス上にローカル領域を作成する必要があります (この結果、プロビジョニング プロセス中に階層化ボリュームの既存データがクラウドにプッシュされることがあります)。 そのため、プロビジョニング ジョブが進行中の場合、そのジョブが完了するまで他のローカル ボリュームの作成ジョブはキューに配置されます。

同様に、既存のローカル ボリュームの拡張や、階層化ボリュームからローカル固定ボリュームへの変換が行われている場合、新しいローカル固定ボリュームの作成ジョブは前のジョブが完了するまでキューに配置されます。 ローカル固定ボリュームのサイズを拡張する場合は、そのボリューム用に既存のローカル領域を拡張します。 階層化ボリュームからローカル固定ボリュームに変換する場合も、変換先のローカル固定ボリューム用にローカル領域を作成します。 どちらの操作でも、ローカル領域の作成または拡張は実行時間の長いジョブになります。

これらのジョブは、StorSimple デバイス マネージャー サービスの **[ジョブ]** ブレードで確認できます。 アクティブに処理中のジョブは、領域のプロビジョニングの進行状況を反映するよう継続的に更新されます。 残りのローカル固定ボリュームのジョブは実行中としてマークされますが、その進行状況は停止し、キューに配置された順に選択されます。

**Q.** ローカル固定ボリュームを削除しました。 新しいボリュームを作成しようとしても、使用可能な領域の表示に回収された領域が反映されないのはなぜですか。

**A.** ローカル固定ボリュームを削除する場合、新しいボリュームで使用可能な領域がすぐに更新されない可能性があります。 StorSimple デバイス マネージャー サービスは、ローカルで使用可能な領域を約 1 時間ごとに更新します。 新しいボリュームを作成するときは、その前に 1 時間待つことをお勧めします。

**Q.** ローカル固定ボリュームは、クラウド アプライアンスではサポートされていますか。

**A.** ローカル固定ボリュームは、クラウド アプライアンスではサポートされていません (8010 デバイスと 8020 デバイスは、以前は StorSimple 仮想デバイスと呼ばれていました)。

**Q.** Azure PowerShell コマンドレットを使用してローカル固定ボリュームを作成および管理できますか。

**A.** いいえ。Azure PowerShell コマンドレットを使用してローカル固定ボリュームを作成することはできません (Azure PowerShell を使用して作成したボリュームはすべて階層化されます)。 また、Azure PowerShell コマンドレットを使用してローカル固定ボリュームのプロパティを変更すると、ボリュームの種類が階層化に変更されるという望ましくない影響があるため、この方法での変更は行わないようお勧めします。

## <a name="questions-about-backing-up-a-locally-pinned-volume"></a>ローカル固定ボリュームのバックアップに関する質問
**Q.** ローカル固定ボリュームのローカル スナップショットはサポートされていますか。

**A.** はい。ローカル固定ボリュームのローカル スナップショットを取得できます。 ただし、クラウド スナップショットでローカル固定ボリュームを定期的にバックアップし、障害などの不測の事態において確実にデータを保護できるようにすることを強くお勧めします。

ローカル固定ボリュームのローカル スナップショットはクラウドに階層化されることもあり、デバイスのローカル層にとどまっている保証はないのでご注意ください。

**Q.** ローカル固定ボリュームのローカル スナップショットの管理に関するガイドラインはありますか。

**A.** ローカル固定ボリューム内のデータの大きな変化に加え、頻繁にローカル スナップショットを取得することでデバイスのローカル領域が急速に消費され、結果として階層化ボリュームのデータがクラウドにプッシュされる場合があります。 そのため、ローカル スナップショットの数は最小限に抑えることをお勧めします。

**Q.** ローカル固定ボリュームのローカル スナップショットが無効化される可能性があることを示す警告を受け取りました。 この警告はどのような場合に発生しますか。

**A.** ローカル固定ボリューム内のデータの大きな変化に加え、頻繁にローカル スナップショットを取得することでデバイスのローカル領域が急速に消費される場合があります。 デバイスのローカル層の使用頻度が高い場合、拡張クラウドの停止によってデバイスがいっぱいになり、さらにボリュームに対して書き込みが行われるとスナップショットが無効になることがあります (上書きされた古いデータ ブロックを参照するスナップショットを更新するための領域が存在しないため)。 このような状況では、ボリュームに対する書き込みの処理は継続されますが、ローカル スナップショットは無効になることがあります。 既存のクラウド スナップショットへの影響はありません。

この警告の目的は、このような状況が発生する可能性があることを通知し、ローカル スナップショットのスケジュールを見直してスナップショットの取得頻度を少なくするか、必要なくなった以前のローカル スナップショットを削除することで、同じような状況にすばやく対処できるようにすることです。

ローカル スナップショットが無効になった場合、特定のバックアップ ポリシーのローカル スナップショットが無効になったことと共に、無効になったローカル スナップショットのタイムスタンプのリストを通知する、情報アラートが届きます。 これらのスナップショットは自動削除され、Azure Portal の **[バックアップ カタログ]** ブレードでは確認できなくなります。

## <a name="questions-about-converting-a-tiered-volume-to-a-locally-pinned-volume"></a>階層化ボリュームからローカル固定ボリュームへの変換に関する質問
**Q.** 階層化ボリュームからローカル固定ボリュームへの変換中にデバイスでパフォーマンスが低下しています。 パフォーマンスが低下しているのはなぜですか。

**A.** 変換プロセスには次の 2 つの手順があります。

1. 変換される直前のローカル固定ボリューム用にデバイスの領域をプロビジョニングする。
2. ローカルで保証されるようにクラウドから階層化データをダウンロードする。

これらの手順はどちらも実行時間の長い操作であり、変換対象のボリュームのサイズ、デバイス上のデータ、利用可能な帯域幅などに応じて操作にかかる時間は異なります。 プロビジョニング プロセスの一環として、既存の階層化ボリュームから一部のデータがクラウドにあふれることがあり、その際デバイスではパフォーマンスが低下する場合があります。 さらに、次のような場合に変換プロセスによってパフォーマンスが低下することがあります。

* 既存のボリュームがクラウドにバックアップされていない。この場合は、変換を開始する前にボリュームをバックアップすることをお勧めします。
* 帯域幅スロットル ポリシーが適用されていると、クラウドへの利用可能な帯域幅が制限されることがある。この場合は、40 Mbps 以上の専用接続でクラウドに接続することをお勧めします。
* 前述した複数の要因によって変換プロセスに数時間を要することがある。そのため、この操作はピーク時以外か週末に実行し、エンド ユーザーへの影響を回避することをお勧めします。

ローカル固定ボリュームの作成方法の詳細については、 [こちら](storsimple-8000-manage-volumes-u2.md#change-the-volume-type)

**Q.** ボリュームの変換操作を取り消すことはできますか。

**A.** いいえ。変換操作は一度開始すると取り消すことができません。 前の質問で説明したように、変換プロセス中に発生することがある潜在的なパフォーマンスの問題について認識し、変換を計画するときは上に挙げたベスト プラクティスに従ってください。

**Q.** 変換操作に失敗した場合、ボリュームはどうなりますか。

**A.** クラウド接続の問題によってボリュームの変換に失敗することがあります。 クラウドからの階層化データのダウンロードに連続して失敗すると、最終的にデバイスによって変換プロセスが停止されることがあります。 このような場合、ボリュームの種類は変換前のソース ボリュームの種類のままで、さらに次のような処理が行われます。

* ボリュームの変換エラーを通知する重大なアラートが生成されます。 ローカル固定ボリュームに関連するアラートの詳細については、 [こちら](storsimple-8000-manage-alerts.md#locally-pinned-volume-alerts)
* 階層化ボリュームをローカル固定ボリュームに変換している場合、データがまだクラウド上に存在する可能性があるため、ボリュームには階層化ボリュームのプロパティが引き続き表示されます。 接続の問題を解決してから、変換操作をやり直すことをお勧めします。
* 同様に、ローカル固定ボリュームから階層化ボリュームへの変換に失敗した場合、ボリュームはローカル固定ボリュームとしてマークされますが、階層化ボリュームとして機能します (データがクラウドにあふれた可能性があるため)。 ただし、このボリュームは、デバイスのローカル層の領域を占有し続けます。 この領域は他のローカル固定ボリュームには使用できなくなります。 この操作をやり直し、ボリューム変換が完了してデバイスのローカル領域が再利用可能になったことを確認することをお勧めします。

## <a name="questions-about-restoring-a-locally-pinned-volume"></a>ローカル固定ボリュームの復元に関する質問
**Q.** ローカル固定ボリュームはすぐに復元できますか。

**A.** はい。ローカル固定ボリュームはすぐに復元できます。 復元操作の一環としてボリュームのメタデータ情報がクラウドから取得されると、そのボリュームはすぐにオンラインになり、ホストからアクセスできるようになります。 ただし、すべてのデータがクラウドからダウンロードされるまでボリューム データはローカルで保証されません。また、復元の実行中はこれらのボリュームでパフォーマンスが低下することがあります。

**Q.** ローカル固定ボリュームの復元にかかる時間を教えてください。

**A.** ローカル固定ボリュームは、ボリュームのメタデータ情報がクラウドから取得されるとすぐに復元されてオンラインになり、その間バックグラウンドではボリューム データのダウンロードを継続することができます。 この復元操作の後半部分、つまりボリューム データをもう一度ローカルで保証されるようにする操作は実行時間の長い操作であり、すべてのデータが再度ローカルになるまでに数時間かかる場合があります。 同様の操作を完了するためにかかる時間は、復元対象のボリュームのサイズや利用可能な帯域幅など、複数の要因によって異なります。 復元対象である元のボリュームが削除されている場合、復元操作の一環としてデバイスのローカル領域を作成するため、さらに時間がかかります。

**Q.** 既存のローカル固定ボリュームを以前のスナップショット (ボリュームを階層化したときに取得したもの) に復元する必要があります。 この場合、ボリュームは階層化ボリュームとして復元されるのでしょうか。

**A.** いいえ。ボリュームはローカル固定ボリュームとして復元されます。 スナップショットはボリュームが階層化された日付のものですが、既存のボリュームの復元中、StorSimple は、現時点で存在する、ディスク上のボリュームの種類を常に使用します。

**Q.** 最近ローカル固定ボリュームを拡張しましたが、今よりボリューム サイズが小さかったときのデータに復元することが必要になりました。 復元すると、現在のボリューム サイズは変更されますか。また、復元の完了後にボリューム サイズの拡張は必要になりますか。

**A.** はい。復元によってボリューム サイズが変更され、復元の完了後にボリューム サイズの拡張が必要になります。

**Q.** 復元中にボリュームの種類を変更できますか。

**A.** いいえ。復元中にボリュームの種類を変更することはできません。

* 削除されたボリュームは、スナップショットに保存されている種類で復元されます。
* 既存のボリュームは、スナップショットに保存されている種類に関係なく、その現在の種類に基づいて復元されます (前の 2 つの質問を参照)。

**Q.** ローカル固定ボリュームを復元する必要がありますが、復元ポイントとするスナップショットの選択が間違っていました。 現在の復元操作を取り消すことはできますか。

**A.** はい。進行中の復元操作を取り消すことができます。 ボリュームの状態は復元の開始時点の状態までロールバックされます。 ただし、復元の処理中に行われたボリュームへの書き込みはすべて失われます。

**Q.** ローカル固定ボリュームの 1 つで復元操作を開始したところ、現在バックログ カタログ内に作成した覚えのないスナップショットが表示されています。 これは何に使用するものなのでしょうか。

**A.** これは復元操作の前に作成される一時的なスナップショットで、復元が取り消されるか失敗した場合のロールバックに使用されます。 このスナップショットは削除しないでください。復元が完了すると、自動的に削除されます。 この動作は、復元ジョブにローカル固定ボリュームのみが存在する場合、またはローカル固定ボリュームと階層化されたボリュームが混在する場合に発生することがあります。 復元ジョブに階層化されたボリュームのみが含まれている場合、この動作は発生しません。

**Q.** ローカル固定ボリュームを複製することはできますか。

**A.** はい、できます。 ただし、ローカル固定ボリュームは、既定では階層化ボリュームとして複製されます。 ローカル固定ボリュームの作成方法の詳細については、[こちら](storsimple-8000-clone-volume-u2.md)を参照してください。

## <a name="questions-about-failing-over-a-locally-pinned-volume"></a>ローカル固定ボリュームのフェールオーバーに関する質問
**Q.** デバイスを別の物理デバイスにフェールオーバーする必要があります。 ローカル固定ボリュームをローカル固定ボリュームまたは階層化ボリュームとしてフェールオーバーできますか。

**A.** ターゲット デバイスで StorSimple 8000 シリーズ Update 3 以上が実行されている場合、ローカル固定ボリュームはローカル固定としてフェールオーバーされます。

ローカル固定ボリュームに関連するアラートの詳細については、 [こちら](storsimple-8000-device-failover-disaster-recovery.md#device-failover-across-software-versions)

**Q.** ローカル固定ボリュームはディザスター リカバリー (DR) 時にすぐに復元されますか。

**A.** はい。ローカル固定ボリュームはフェールオーバー時にすぐに復元されます。 フェールオーバー操作の一環としてボリュームのメタデータ情報がクラウドから取得されると、そのボリュームはすぐにターゲット デバイス上でオンラインになり、ホストからアクセスできるようになります。 その間、バックグラウンドではボリューム データのダウンロードが継続されるため、フェールオーバー中はこれらのボリュームでパフォーマンスが低下することがあります。

**Q.** フェールオーバー ジョブが完了したことはわかりますが、ターゲット デバイス上で復元されているローカル固定ボリュームの進行状況を追跡するには、どうすればよいのでしょうか。

**A.** フェールオーバー操作中、フェールオーバー セットに含まれるすべてのボリュームがターゲット デバイス上で瞬時に復元されてオンラインになると、フェールオーバー ジョブは完了としてマークされます。 これにはフェールオーバーされた可能性のあるすべてのローカル固定ボリュームが含まれますが、ボリュームのすべてのデータがダウンロードされるまでデータはローカルで保証されません。 この進行状況は、フェールオーバーされたローカル固定ボリュームごとに、フェールオーバーの一環として作成された、対応する復元ジョブを監視することで追跡できます。 このような個々の復元ジョブは、ローカル固定ボリュームに対してのみ作成されます。

**Q.** フェールオーバー中にボリュームの種類を変更できますか。

**A.** いいえ。フェールオーバー中にボリュームの種類を変更することはできません。 StorSimple 8000 シリーズ Update 3 が実行されている別の物理デバイスにフェールオーバーする場合、ボリュームはスナップショットに保存されているボリュームの種類に基づいてフェールオーバーされます。

**Q.** ローカル固定ボリュームを含むボリューム コンテナーをクラウド アプライアンスにフェールオーバーできますか。

**A.** はい、できます。 ローカル固定ボリュームは階層化ボリュームとしてフェールオーバーされます。 ローカル固定ボリュームに関連するアラートの詳細については、 [こちら](storsimple-8000-device-failover-disaster-recovery.md#common-considerations-for-device-failover)

