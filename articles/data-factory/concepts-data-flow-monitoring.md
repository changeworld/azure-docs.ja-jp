---
title: Azure Data Factory のマッピング データ フローの視覚的な監視
description: Azure Data Factory のデータ フローを視覚的に監視する方法
author: kromerm
ms.author: makromer
ms.reviewer: douglasl
ms.service: data-factory
ms.topic: conceptual
ms.date: 10/07/2019
ms.openlocfilehash: e522ede7da669f6e684fc9a07adcc506a69e77e9
ms.sourcegitcommit: 653e9f61b24940561061bd65b2486e232e41ead4
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/21/2019
ms.locfileid: "74267902"
---
# <a name="monitor-data-flows"></a>データ フローの監視



データ フローの作成とデバッグが完了したら、データ フローをスケジュールし、そのスケジュールに基づいて、パイプラインのコンテキスト内でデータ フローを実行する必要があります。 Azure Data Factory からパイプラインをスケジュールするときは、トリガーを使用します。 Azure Data Factory のパイプライン ビルダーから [Trigger Now]\(今すぐトリガー\) オプションを使用して単体実行を行い、パイプラインのコンテキスト内でデータ フローをテストすることもできます。

パイプラインを実行するときは、パイプラインとその中に含まれるすべてのアクティビティ (データ フロー アクティビティなど) を監視できます。 左側の Azure Data Factory UI パネル内にある監視アイコンをクリックします。 次のような画面が表示されます。 強調表示されているアイコンを使用して、パイプライン内のアクティビティ (データ フロー アクティビティなど) にドリルダウンできます。

![データ フローの監視](media/data-flow/mon001.png "データ フローの監視")

実行時間や状態など、このレベルでの統計も表示されます。 アクティビティ レベルの実行 ID は、パイプライン レベルの実行 ID とは異なります。 以前のレベルの実行 ID は、パイプラインの実行 ID です。 眼鏡をクリックすると、データ フローの実行に関する詳細が表示されます。

![データ フローの監視](media/data-flow/mon002.png "データ フローの監視")

グラフィカルなノード監視ビューを開いているときは、表示専用のシンプルなバージョンのデータ フロー グラフが表示されます。

![データ フローの監視](media/data-flow/mon003.png "データ フローの監視")

## <a name="view-data-flow-execution-plans"></a>データ フローの実行プランの表示

データ フローが Spark で実行されると、データ フロー全体に基づいて、最適なコード パスが決定されます。 実行パスが別のスケールアウト ノードやデータ パーティション上に出現する場合もあります。 したがって、監視グラフでは、変換の実行パスを考慮して、フローのデザインが表示されています。 個々 のノードをクリックすると、クラスター上で同時に実行されたコードを表す "グループ" が表示されます。 表示されるタイミングとカウントは、デザイン内の個々のステップではなく、それらのグループを表しています。

![データ フローの監視](media/data-flow/mon004.png "データ フローの監視")

* 監視ウィンドウ内の空間をクリックすると、下部のウィンドウ内の統計に、各シンクのタイミングと行数、および変換系列のシンク データの基になる変換が表示されます。

* 個々の変換を選択すると、パーティションの統計、列数、歪度 (パーティション全体に分散されたデータの均等さ)、 および尖度 (データのスパイクの程度) を示す追加のフィードバックが右側のパネルに表示されます。

* ノード ビュー内で [シンク] をクリックすると、列の系列が表示されます。 データ フローを通じてシンクのランドに列が累積される方法には、3 種類あります。 次に例を示します。

  * 計算:列は、条件付き処理、またはデータ フローの式内で使用しますが、シンク内には置かないでください。
  * 派生:列は、フロー内で生成した新しい列です (ソース内には存在していなかったものです)。
  * マップ:列は、ソースから発生しており、シンク フィールドにマッピングされています。
  * データ フローの状態:実行の現在の状態
  * クラスターの起動時間:データ フロー実行のための JIT Spark コンピューティング環境を取得する時間
  * 変換の数:フロー内で実行されている変換ステップの数
  
![データ フローの監視](media/data-flow/monitornew.png "データ フローの監視 新規")  
  
## <a name="monitor-icons"></a>監視アイコン

このアイコンは、変換データが既にクラスターにキャッシュされており、タイミングと実行パスでそのことが考慮されていることを示します。

![データ フローの監視](media/data-flow/mon004.png "データ フローの監視")

変換内には、緑色の円のアイコンも表示されます。 これは、データ送信先のシンク数のカウントを示しています。
