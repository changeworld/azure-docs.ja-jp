<properties
   pageTitle="パフォーマンスとスケールの概要 | Microsoft Azure"
   description="SQL Data Warehouse のパフォーマンスおよびスケール機能の紹介。"
   services="sql-data-warehouse"
   documentationCenter="NA"
   authors="TwoUnder"
   manager="barbkess"
   editor=""/>

<tags
   ms.service="sql-data-warehouse"
   ms.devlang="NA"
   ms.topic="article"
   ms.tgt_pltfrm="NA"
   ms.workload="data-services"
   ms.date="09/22/2015"
   ms.author="barbkess;JRJ@BigBangData.co.uk;mausher;nicw"/>

# パフォーマンスとスケールの概要
データ ウェアハウスをクラウドに置くことにより、低レベルのハードウェア問題に対処する必要はなくなりました。データ ウェアハウスで優れたパフォーマンスを実現するために必要なストレージのタイプ、メモリ量、およびプロセッサのタイプを調査する必要があったのは遠い過去のことになりました。その代わりに、SQL Data Warehouse ではデータをどの程度高速処理する必要があるかということが検討事項になります。

SQL Data Warehouse はクラウド ベースの分散データベース プラットフォームであり、クエリの解決に使用されるリソースを完全に制御できるだけの規模ですばらしいパフォーマンスが実現されるように設計されています。データ ウェアハウスに割り当てられたデータ ウェアハウス ユニットの数を単に調整するだけで、ウェアハウス リソースのサイズを数秒で柔軟に調整できます。分散型のスケール アウト プラットフォームである SQL Data Warehouse を使用すると、データ ウェアハウスで膨大な量のデータを効率的かつ効果的に処理しながら、ソリューションのコストを完全に制御できます。

次の情報は、プレビューでリリースされているとおりに Azure SQL Data Warehouse に適用されます。この情報は、サービスが GA に向けて拡張されるのに伴い、プレビュー中に継続的に更新されます。

SQL Data Warehouse に関する目標は次のとおりです。- ペタバイト単位のデータに対する予測可能なパフォーマンスおよび線形拡張性。- サービス レベル アグリーメント (SLA) によって裏付けされたすべてのデータ ウェアハウス操作に対する高い信頼性。- リレーショナル データと非リレーショナル データ全体に対するデータ ロードからデータ分析に要する時間の短縮

Microsoft では完全一般公開 (GA) 前のプレビュー中にそれらの目標を達成できるよう継続的に努力しています。

>[AZURE.NOTE]次のセクションでは、パブリック ビューでの公開時の Azure SQL Data Warehouse サービスについて説明します。この情報は、サービスが GA に向けて拡張されるのに伴い、プレビュー中に継続的に更新されます。

## データ保護
SQL Data Warehouse は、geo 冗長 BLOB を使用して Azure Storage にすべてのデータを格納します。3 つの同期されたデータ コピーがローカルの Azure リージョンに保持され、ローカルで生じた障害 (ストレージ デバイスの障害など) が発生した場合には、透過的なデータ保護が保証されます。また、さらに 3 つの非同期コピーがリモート Azure リージョンに保持され、地域での障害が発生した場合にデータの保護が保証されます (障害復旧)。ローカルとリモートのリージョンが組み合わされて容認可能な同期待機時間が維持されます (米国東部と米国西部など)。

## データベースの復元
SQL Data Warehouse は Azure Storage Snapshots を使用して 4 時間おきにすべてのデータをバックアップします。これらのスナップショットは、7 日間無料で保持されます。これにより、最後のスナップショットが取得された時刻から過去 7 日間までの 42 の時点でデータを復元できます。プレビュー中に、さまざまな保有期間の値を指定する機能が導入されます。データは、PowerShell または REST API を使用してスナップショットから復元できます。スナップショットはリモートの Azure リージョンに非同期コピーされ、リージョンで障害が発生した場合に回復性が得られます (障害復旧)。

## 信頼性
SQL Data Warehouse は複数のコンポーネントで形成された分散システムであり、Data Warehouse ユニット (DWU) 数の増加に伴い、コンポーネントの数も増えていきます。SQL Data Warehouse はコンピューティング障害を自動的に検出して軽減しますが、個々のコンピューティング障害により、操作 (データ ロードやクエリなど) は失敗する可能性があります。プレビュー中に、クエリの信頼性を継続的に強化し、障害が発生しても大部分の操作が正常に完了するようにします。

収集された製品利用統計情報データに基づいて、SQL Data Warehouse の信頼性は一般的なデータ ウェアハウスのワークロードに関して 98% であると推定されます。つまり、システム エラーによって 100 回のクエリのうち平均して 2 回が失敗する可能性があるということです。これは、プレビューの SLA ではなく、実行するクエリの予測信頼性を示すものです。クエリ失敗の可能性は実行時間に伴って増加します (たとえば、2 時間を超えるクエリは 10 分未満のクエリよりも失敗する可能性がかなり高くなります)。プレビュー中に、実行時間に関係なく、操作に対して同じレベルの信頼性を保証できるように、継続的な強化を行います。GA リリースで完全な SLA を提供するという目標を持って、これらの強化点をリリースしながら、予測信頼性を高めていきます。

プレビュー中は、SQL Data Warehouse に重要なフィックスをインストールするために、1 か月間に最大で 5 回のメンテナンス イベントが発生する可能性があります。各イベントによって、最大 2 時間のクエリ失敗が発生する可能性がありますが、この時間は、SQL Data Warehouse インスタンスによって使用される DWU の量によって異なります。適切な計画を立てられるように、これらのイベントの 48 時間前には、お客様にイベントの通知を行うことができるように最大限の努力をします。

## パフォーマンスと拡張性
SQL Data Warehouse には、多数のノードにわたって収集されたコンピューティング リソースの抽象化 (CPU、メモリ、ストレージ I/O) として Data Warehouse ユニット (DWU) が導入されています。DWU の数が増えると、収集される SQL Data Warehouse インスタンスのコンピューティング リソースが増えます。SQL Data Warehouse は、操作 (データ ロードやクエリなど) をインスタンス内のすべてのコンピューティング インフラストラクチャにわたって分散し、システムのスケールアップまたはスケールダウンに従ってロードやクエリのパフォーマンスを増減します。

すべてのデータ ウェアハウスには、次の 2 つの基本的なパフォーマンス メトリックがあります。- **ロード レート**: 1 秒当たりにデータ ウェアハウスにロードできるレコード数。PolyBase を介して Azure BLOB ストレージからテーブルに、クラスタ化された列ストア インデックスを使用してインポートできるレコード数を具体的に測定します。- **スキャン レート**: 1 秒当たりにデータ ウェアハウスから順番に取得できるレコードの数。このメトリックは、クラスタ化された列ストア インデックスを使用してテーブルからクエリによって返されたレコード数を具体的に測定します。

プレビュー中に、これらのレートを高めて予想どおりにスケールできるように、継続的な拡張を行います。

## 主要なパフォーマンスの概念

その他の主要なパフォーマンスとスケールの概念を理解するために、次の記事を参照してください。

- [パフォーマンスとスケール][]
- [同時実行モデル][]
- [テーブルの設計][]
- [テーブルのハッシュ分散キーの選択][]
- [パフォーマンスを向上させる統計][]

## 次のステップ
SQL Data Warehouse ソリューションの作成に関するガイダンスについては、[開発の概要][]に関する記事を参照してください。

<!--Image references-->

<!--Article references-->

[パフォーマンスとスケール]: sql-data-warehouse-performance-scale.md
[同時実行モデル]: sql-data-warehouse-develop-concurrency.md
[テーブルの設計]: sql-data-warehouse-develop-table-design.md
[テーブルのハッシュ分散キーの選択]: sql-data-warehouse-develop-hash-distribution-key
[パフォーマンスを向上させる統計]: sql-data-warehouse-develop-statistics.md
[開発の概要]: sql-data-warehouse-overview-develop.md

<!--MSDN references-->

<!--Other web references-->

<!---HONumber=Oct15_HO1-->