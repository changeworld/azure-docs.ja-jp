---
title: ジョブをスケジュールする
description: タスクを管理するにはジョブ スケジュールを使用します。
ms.topic: how-to
ms.date: 02/20/2020
ms.custom: seodec18
ms.openlocfilehash: c75f635a937dcddd2c1c02cc717f96f1441efe81
ms.sourcegitcommit: 6fd8dbeee587fd7633571dfea46424f3c7e65169
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/21/2020
ms.locfileid: "83726640"
---
# <a name="schedule-jobs-for-efficiency"></a>効率のためにジョブのスケジュールを設定する

バッチ ジョブをスケジュールすると、他のタスクに依存するタスクを考慮しながら、先に実行するジョブの優先順位を設定できます。 ジョブをスケジュールすることで、使用するリソースを最小限に抑えることができます。 不要になったノードは使用を停止できます。他のタスクに依存するタスクはすぐにスピンアップされ、必要なときにワークフローが最適化されます。 一度に 1 つのジョブのみが実行されます。 新しいものは、前のものが完了するまで開始されません。 ジョブのオートコンプリートを設定することができます。 

## <a name="benefit-of-job-scheduling"></a>ジョブのスケジュールの利点

ジョブのスケジュールの利点は、ジョブの作成スケジュールを指定できることです。ジョブ マネージャー タスクを使用してスケジュールするタスクは、ジョブに関連付けられます。 ジョブ マネージャー タスクによって、ジョブのタスクが作成されます。 これを行うには、ジョブ マネージャー タスクが Batch アカウントを使用して認証を行う必要があります。 AZ_BATCH_AUTHENTICATION_TOKEN アクセス トークンを使用します。 トークンにより、ジョブの残りの部分へのアクセスが許可されます。 

## <a name="use-the-portal-to-schedule-a-job"></a>ポータルを使用してジョブをスケジュールする

   1. [Azure ポータル](https://portal.azure.com/)にサインインします。

   2. ジョブのスケジュールを設定する Batch アカウントを選択します。

   3. **[追加]** を選択して新しいジョブ スケジュールを作成し、 **[基本フォーム]** に入力します。



![ジョブをスケジュールする][1]

**[ジョブ スケジュール ID]** : このジョブ スケジュールの一意識別子。

**表示名**:ジョブの表示名。一意である必要はありませんが、最大長は 1024 文字です。

**[次の時刻までは実行しない]** : ジョブが実行される最も早い時刻を指定します。 これを設定しない場合、ジョブをすぐに実行できるようになります。

**[次の時刻の後には実行しない]** : ここで設定した時刻より後はジョブが実行されません。 時刻を指定しない場合は、明示的に終了するまでアクティブなままの、繰り返しのジョブ スケジュールが作成されます。

**[繰り返し間隔]** : ジョブ間の時間を指定できます。 スケジュールした時刻にはジョブを 1 つしか設定できないため、ジョブ スケジュールの下で新しいジョブを作成したときに前のジョブが実行中の場合、前のジョブが完了するまで、Batch サービスは新しいジョブを作成しません。  

**[開始時間帯]** : ここでは、スケジュールにジョブの作成が示されてから完了するまでの期間を指定します。 その期間に現在のジョブが完了していない場合、次のジョブは開始されません。

基本フォームの下部で、ジョブを実行するプールを指定します。 プール ID 情報を検索するには、 **[更新]** を選択します。 

![プールを指定する][2]


**[プール ID]** : ジョブを実行するプールを特定します。

**[ジョブ構成タスク]** : **[更新]** を選択して、ジョブ マネージャー タスクのほか、使用中の場合はジョブの準備タスクとリリース タスクにも名前を付けます。

**[優先度]** :ジョブに優先順位を付けます。

**[最大実時間]** : ジョブを実行できる最大時間を設定します。 その時間枠内で完了しないジョブは、Batch によって終了されます。 これを設定しない場合、ジョブの時間制限はありません。

**[タスクの最大再試行回数]** : タスクを再試行できる回数 (最大で 4 回) を指定します。 これは、API 呼び出しの再試行回数と同じではありません。

**[すべてのタスクが完了したとき]** : 既定値は [何もしない] です。

**[タスクが失敗したとき]** : 既定値は [何もしない] です。 再試行回数に達した場合、またはタスクの開始時にエラーが発生した場合に、タスクは失敗します。 

**[保存]** を選択した後、左側のナビゲーションで **[ジョブ スケジュール]** に移動した場合は、 **[実行情報]** を選択すると、ジョブの実行を追跡できます。


## <a name="for-more-information"></a>詳細情報

Azure CLI を使用してジョブを管理するには、「[az batch job-schedule](https://docs.microsoft.com/cli/azure/batch/job-schedule?view=azure-cli-latest)」を参照してください。

## <a name="next-steps"></a>次のステップ

[タスクの依存関係を作成して、他のタスクに依存するタスクを実行する](batch-task-dependencies.md)。





[1]: ./media/batch-job-schedule/add_job_schedule-02.png
[2]: ./media/batch-job-schedule/add_job_schedule-03.png


