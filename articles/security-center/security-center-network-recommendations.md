---
title: Azure Security Center 上のネットワーク リソースの保護 | Microsoft Docs
description: このドキュメントでは、Azure Security Center 上の推奨事項に従ってご使用の Azure ネットワーク リソースを保護し、セキュリティ ポリシーを使用してコンプライアンスを順守する方法について説明します。
services: security-center
documentationcenter: na
author: monhaber
manager: barbkess
editor: ''
ms.assetid: 96c55a02-afd6-478b-9c1f-039528f3dea0
ms.service: security-center
ms.devlang: na
ms.topic: conceptual
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 04/05/2019
ms.author: v-mohabe
ms.openlocfilehash: fb91d6a9cdc56c88b424b7e0382f283c8b55dac9
ms.sourcegitcommit: b2db98f55785ff920140f117bfc01f1177c7f7e2
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/16/2019
ms.locfileid: "68234324"
---
# <a name="protect-your-network-resources-in-azure-security-center"></a>Azure Security Center 上のネットワーク リソースの保護
Azure Security Center では、ネットワーク セキュリティのベスト プラクティスに対して Azure リソースのセキュリティ状態が継続的に分析されます。 Security Center によって潜在的なセキュリティの脆弱性が識別されると、リソースを堅牢化および保護するために必要な管理を構成するプロセスを説明する推奨事項が作成されます。

この記事では、ネットワーク セキュリティの観点から Azure リソースに適用される推奨事項について説明します。 ネットワークに関する推奨事項は、次世代ファイアウォール、ネットワーク セキュリティ グループ、JIT VM アクセス権が過度な受信トラフィック規則などが中心です。 ネットワークの推奨事項の一覧および修復アクションについては、「[Azure Security Center でのセキュリティに関する推奨事項の管理](security-center-recommendations.md)」をご覧ください。

> [!NOTE]
> **[ネットワーク]** ページでは、ネットワークの観点から、Azure リソースの正常性を詳しく確認できます。 ネットワーク マップとアダプティブ ネットワーク コントロールは、Azure Security Center Standard レベルでのみ使用できます。 [Free レベルを使用する場合は、ボタンをクリックして**レガシ ネットワークを表示**し、ネットワーク リソースの推奨事項を受信できます](#legacy-networking)。
>

**[ネットワーク]** ページにはセクションの概要が表示され、そこから詳細を表示できるので、ネットワーク リソースの正常性に関する詳細を取得できます。

- ネットワーク マップ (Azure Security Center Standard レベルのみ)
- アダプティブ ネットワークのセキュリティ強化機能
- ネットワーク セキュリティに関する推奨事項。
- レガシ **[ネットワーク]** ブレード (以前のネットワーク ブレード) 
 
![[ネットワーク] ウィンドウ](./media/security-center-network-recommendations/networking-pane.png)

## <a name="network-map"></a>ネットワーク マップ
対話型のネットワーク マップには、ネットワーク リソースを堅牢化するための推奨事項と分析情報を提供するセキュリティ オーバーレイを含むグラフィカル ビューが表示されます。 マップを使用して、Azure ワークロードのネットワーク トポロジ、仮想マシンとサブネット間の接続、およびマップから特定のリソースとそれらのリソースの推奨事項にドリル ダウンする機能を表示できます。

ネットワーク マップを開くには:

1. Security Center の [リソース セキュリティの検疫] で、 **[ネットワーク]** を選択します。
2. **[ネットワーク マップ]** で、 **[See topology]\(トポロジを参照\)** をクリックします。
 
トポロジ マップの既定のビューが表示されます。

- Azure 内で選択したサブスクリプション。 マップでは、複数のサブスクリプションがサポートされます。
- Resource Manager リソースの種類の VM、サブネット、VNet (クラシック Azure リソースはサポートされていません)
- ピアリング VNet
- 重大度が高または中の[ネットワークに関する推奨事項](security-center-recommendations.md)を持つリソースのみ  
- インターネットに接続するリソース
- マップは、Azure 内で選択したサブスクリプションに対して最適化されます。 選択内容を変更した場合、マップが再計算され、新しい設定に基づいてもう一度最適化されます。  

![ネットワーク トポロジ マップ](./media/security-center-network-recommendations/network-map-info.png)

## <a name="understanding-the-network-map"></a>ネットワーク マップについて

ネットワーク マップでは、Azure リソースを **[トポロジ]** ビューと **[トラフィック]** ビューに表示できます。

### <a name="the-topology-view"></a>[トポロジ] ビュー

ネットワーク マップの **[トポロジ]** ビューでは、ネットワーク リソースに関する次の分析情報を参照できます。

- 内側の円では、選択したサブスクリプション内のすべての Vnet を確認できます、次の円はすべてのサブネットで、外側の円はすべての仮想マシンです。
- マップ内のリソースを結ぶ線を見ると、互いに関連付けられているリソースと、Azure ネットワークの構成方法を把握できます。 
- 重大度インジケーターを使用して、Security Center からの未処理の推奨事項があるリソースの概要をすばやく取得できます。
- いずれかのリソースをクリックしてドリル ダウンし、そのリソースの詳細と推奨事項を直接表示できます。ネットワーク マップのコンテキストで表示することもできます。  
- マップに表示されているリソースが多すぎる場合、Azure Security Center では独自のアルゴリズムを使用してリソースがスマートにクラスター化され、最も重大な状態のリソースと、最も重大度の高い推奨事項があるリソースが強調表示されます。 

マップは対話型かつ動的なので、すべてのノードがクリック可能で、ビューはフィルターに基づいて変化することがあります。

1. 上部にあるフィルターを使用して、ネットワーク マップに表示される内容を変更できます。 次の項目に基づいてマップのフォーカスを設定できます。

   -  **セキュリティ正常性**:Azure リソースの重大度 (高、中、低) に基づいてマップをフィルター処理できます。
   - **推奨事項**:リソースに対してアクティブになっている推奨事項に基づいて、表示されるリソースを選択できます。 たとえば、Security Center によってネットワーク セキュリティ グループの有効化が推奨されているリソースのみを表示できます。
   - **ネットワーク ゾーン**:既定では、マップにはインターネットに接続しているリソースのみが表示され、内部 VM も選択できます。
 
2. いつでも左上隅の **[リセット]** をクリックして、マップを既定の状態に戻すことができます。

リソースにドリル ダウンするには:

1. マップ上の特定のリソースを選択すると、右側のウィンドウが開き、リソースに関する全般情報、接続されたセキュリティ ソリューション (ある場合)、およびリソースに関する推奨事項が表示されます。 この動作の種類は選択したリソースの種類ごとに同じです。 
2. マップ内のノードをポイントすると、サブスクリプション、リソースの種類、リソース グループなど、リソースに関する全般情報を表示できます。
3. リンクを使用してツール ヒントにズームインし、その特定のノードにマップのフォーカスを再設定します。 
4. マップのフォーカスを特定のノードから移動するには、ズームアウトします。

### <a name="the-traffic-view"></a>[トラフィック] ビュー

**[トラフィック]** ビューには、リソース間で可能なすべてのトラフィックのマップが表示されます。 これにより、どのリソースがどのユーザーと通信できるかを定義する、構成したすべてのルールのビジュアル マップが提供されます。 このため、ネットワーク セキュリティ グループの既存の構成に加えて、ワークロード内で潜在リスクのある構成をすばやく識別できます。

### <a name="uncover-unwanted-connections"></a>望ましくない接続の検出

このビューの強みは、これらの許可された接続を、存在する脆弱性と共に示せることです。このさまざまなデータを使用して、リソースに対して必要な堅牢化を実行できます。 

たとえば、認識していなかった 2 台のマシンが通信できることを検出し、ワークロードとサブネットをより適切に分離できる可能性があります。

### <a name="investigate-resources"></a>リソースの調査

リソースにドリル ダウンするには:

1. マップ上の特定のリソースを選択すると、右側のウィンドウが開き、リソースに関する全般情報、接続されたセキュリティ ソリューション (ある場合)、およびリソースに関する推奨事項が表示されます。 この動作の種類は選択したリソースの種類ごとに同じです。 
2. **[トラフィック]** をクリックして、リソースに対して可能な送信および受信トラフィックの一覧を表示します。これは、リソースと通信できるユーザーやリソースが通信できるユーザー、経由するプロトコルとポートの包括的な一覧です。 たとえば、VM を選択すると、その VM と通信できるすべての VM が表示され、サブネットを選択すると、そのサブネットと通信できるすべてのサブネットが表示されます。

**このデータは、ネットワーク セキュリティ グループの分析と、交差と相互作用を把握するために複数のルールを分析する高度な機械学習アルゴリズムに基づいています。** 

![ネットワーク トラフィック マップ](./media/security-center-network-recommendations/network-map-traffic.png)

## レガシ ネットワーク <a name ="legacy-networking"></a>

Security Center Standard レベルがない場合、このセクションではネットワークに関する無料の推奨事項を表示する方法について説明します。

この情報にアクセスするには、[ネットワーク] ブレードで、 **[レガシ ネットワークの表示]** をクリックします。 

![レガシ ネットワーク](./media/security-center-network-recommendations/legacy-networking.png)

### <a name="internet-facing-endpoints-section"></a>[Internet facing endpoints (インターネット接続エンドポイント)] セクション
**[インターネットに接続するエンドポイント]** セクションでは、インターネット接続エンドポイントで現在構成されている仮想マシンとその状態を確認できます。

この表には、エンドポイント名、インターネット接続 IP アドレス、ネットワーク セキュリティ グループと NGFW の推奨事項の現在の重大度状態が示されています。 この表は、項目が重大度に従って並んでいます。

### <a name="networking-topology-section"></a>[Networking topology (ネットワーク トポロジ)] セクション
**[ネットワーク トポロジ]** セクションには、リソースが階層として表示されます。

このテーブルは、項目 (仮想マシンとサブネット) が重大度に従って順に並んでいます。

このトポロジ ビューでは、最初のレベルに Vnet が表示されます。 2 番目のレベルにはサブネット、3 番目のレベルにはそれらのサブネットに属している仮想マシンが表示されます。 右側の列には、これらのリソースのネットワーク セキュリティ グループに関する推奨事項の現在の状態が表示されます。

3 番目のレベルには、前述したような仮想マシンが表示されます。 リソースをクリックして詳細を確認したり、必要なセキュリティ制御または構成を適用したりできます。

## <a name="network-recommendations"></a>ネットワークの推奨事項

|推奨事項の名前|説明|Severity|セキュリティ スコア|リソースの種類|
|----|----|----|----|----|----|
|サブネット レベルでのネットワーク セキュリティ グループを有効にする必要がある|サブネットにデプロイされたリソースのネットワーク アクセスを制御するネットワーク セキュリティ グループを有効にします。|高/中|30|Subnet|
|仮想マシンはネットワーク セキュリティ グループに関連付ける必要がある|仮想マシンのネットワーク アクセスを制御するネットワーク セキュリティ グループを有効にします。|高/中|30|仮想マシン|
|インターネットに接続された VM を含む、制限のないネットワーク セキュリティ グループについてはアクセスを制限する必要がある|既存の許可ルールのアクセスを制限することで、インターネットに接続する VM のネットワーク セキュリティ グループを強化します。|高|20|仮想マシン|
|IaaS NSG 上の Web アプリケーションに対する規則を強化する必要がある|Web アプリケーションを実行していて、Web アプリケーション ポートに関する NSG 規則の制限が緩すぎる仮想マシンのネットワーク セキュリティ グループ (NSG) を強化します。|高|20|仮想マシン|
|App Services へのアクセスを制限する必要がある|ネットワーク構成を変更することによって App Services へのアクセスを制限し、広すぎる範囲からの受信トラフィックを拒否します。|高|10|App Service|
|仮想マシンの管理ポートを閉じておく必要がある|管理ポートへのアクセスを制限するために、仮想マシンのネットワーク セキュリティ グループを強化します。|高|10|仮想マシン|
DDoS Protection Standard を有効にする必要がある|DDoS Protection Standard を有効にすることで、パブリック IP を使用するアプリケーションが含まれる仮想ネットワークを保護します。 DDoS 保護は、ネットワークに対する帯域幅消費型攻撃およびプロトコル攻撃の軽減を有効にします。|高|10|仮想ネットワーク|
|仮想マシンでの IP 転送を無効にする必要がある|IP 転送を無効にします。 仮想マシンの NIC で IP 転送が有効になっていると、そのマシンは自分以外の宛先へのトラフィックを受信できます。 IP 転送が必要な状況は (VM をネットワーク仮想アプライアンスとして使用する場合などに) 限られているため、ネットワーク セキュリティ チームはこのことを確認する必要があります。|Medium|10|仮想マシン|
|Web アプリケーションには HTTPS を介してのみアクセスできるようにする|Web アプリケーションに対して "HTTPS のみ" のアクセスを有効にします。 HTTPS を使用すると、サーバー/サービスの認証が確実に実行され、転送中のデータがネットワーク層の傍受攻撃から保護されるようになります。|Medium|20|Web アプリケーション|
|仮想マシンで Just-In-Time ネットワーク アクセス制御を適用する必要がある|Just-In-Time (JIT) 仮想マシン (VM) アクセス制御を適用して、選択したポートへのアクセスを完全にロックダウンし、承認されたユーザーが JIT を使用して限られた時間だけそれらのポートを開けるようにします。|高|20|仮想マシン|
|Function App には HTTPS 経由でのみアクセスできるようにする|関数アプリに対して "HTTPS のみ" のアクセスを有効にします。 HTTPS を使用すると、サーバー/サービスの認証が確実に実行され、転送中のデータがネットワーク層の傍受攻撃から保護されるようになります。|Medium|20|関数アプリ|
|ストレージ アカウントへの安全な転送を有効にする必要がある|ストレージ アカウントへの安全な転送を有効にします。 安全な転送は、ストレージ アカウントに、セキュリティで保護された接続 (HTTPS) からの要求のみを受け入れるように強制するオプションです。 HTTPS を使用することにより、サーバーとサービス間の認証が確実に行われ、転送中のデータをネットワーク層の攻撃 (man-in-the-middle、傍受、セッション ハイジャックなど) から保護します。|高|20|ストレージ アカウント|

## <a name="see-also"></a>関連項目
その他の Azure リソースの種類に適用される推奨事項の詳細については、次をご覧ください。

* [Azure Security Center での仮想マシンの保護](security-center-virtual-machine-recommendations.md)
* [Azure Security Center でのアプリケーションの保護](security-center-application-recommendations.md)
* [Azure Security Center での Azure SQL サービスの保護](security-center-sql-service-recommendations.md)

セキュリティ センターの詳細については、次を参照してください。

* [Azure Security Center でのセキュリティ ポリシーの設定](tutorial-security-policy.md) 」-- Azure サブスクリプションとリソース グループのセキュリティ ポリシーの構成方法について説明しています。
* [Azure Security Center でのセキュリティの警告の管理と対応](security-center-managing-and-responding-alerts.md) 」-- セキュリティの警告の管理と対応の方法について説明しています。
* [Azure Security Center のよく寄せられる質問 (FAQ)](security-center-faq.md) 」-- このサービスの使用に関してよく寄せられる質問が記載されています。
