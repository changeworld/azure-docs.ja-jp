---
title: マップでの描画ツールの対話式操作の種類とキーボード ショートカット | Microsoft Azure Maps
description: Microsoft Azure Maps Web SDK でマウス、タッチ スクリーン、またはキーボードを使用して図形を描画および編集する方法
author: rbrundritt
ms.author: richbrun
ms.date: 12/05/2019
ms.topic: conceptual
ms.service: azure-maps
services: azure-maps
manager: cpendle
ms.openlocfilehash: 267579f7b4bbfe026f3aa01b00f01f3b872cf4a6
ms.sourcegitcommit: f9601bbccddfccddb6f577d6febf7b2b12988911
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/12/2020
ms.locfileid: "75911656"
---
# <a name="interaction-types-and-keyboard-shortcuts-in-the-drawing-tools-module"></a>描画ツール モジュールでの対話式操作の種類とキーボード ショートカット

この記事では、マウス、タッチ スクリーン、またはキーボード ショートカットを使用してマップ上の図形を描画および編集するためのさまざまな方法について、概要を説明します。

描画マネージャーでは、図形を描画するためにマップを対話式に操作する 3 つの異なる方法がサポートされています。

* `click` - マウスまたはタッチでクリックしたときに座標が追加されます。
* `freehand ` - マウスまたはタッチでマップ上にドラッグしたときに座標が追加されます。 
* `hybrid` - マウスまたはタッチでクリックまたはドラッグしたときに座標が追加されます。

## <a name="how-to-draw-shapes"></a>図形を描画する方法

次に、図形をマップに描画するさまざまな方法の概要を示します。 図形を描画する前に、描画マネージャーの `drawingMode` オプションに、サポートされている描画設定を指定する必要があります。 これは、プログラムで行うことも、ツール バーのいずれかの描画ボタンを押して行うこともできます。 描画モードは図形が描画された後も有効なままになるため、同じ種類の追加の図形を簡単に描画できます。 描画モードは、プログラムによってアイドル状態にすることも、ツール バーで現在の描画モードのボタンをクリックしてアイドル状態にすることもできます。 

### <a name="how-to-draw-a-point"></a>点を描画する方法

描画マネージャーが `draw-point` 描画モードの場合は、次の操作を実行することでマップ上にポイントを描画できます。 これらの方法は、すべての対話式操作モードで使用できます。

**描画の開始**
 - マウスの左ボタンをクリックするか、マップにタッチしてマップにポイントを追加します。 
 - マウスがマップ上にある場合は、`F` キーを押すと、マウス ポインターがある位置の座標を使用してポイントが追加されます。 マウスの左ボタンを押す動作によるマウスの移動が少なくなるため、この方法はマップにポイントを追加する精度の高い方法です。
 - クリックするか、タッチするか、`F` キーを押すことによって、続けてマップにポイントを追加します。
 
**描画の完了**
 - 描画ツール バーの任意のボタンをクリックします。 
 - プログラムによって描画モードを設定します。 
 - `C` キーを押します。

**描画の取り消し**
 - `Escape` キーを押します。

### <a name="how-to-draw-a-line"></a>線を描画する方法

描画マネージャーが `draw-line` モードの場合は、対話式操作モードがどのように設定されているかに応じて、次のアクションを実行してマップ上のポイントを描画できます。

**描画の開始**
 - クリック モード
   * マウスの左ボタンをクリックするか、マップをタッチして、マップ上に線の各点を追加します。 クリックまたはタッチするごとに、線に座標が追加されます。 
   * マウスがマップ上にある場合は、`F` キーを押すと、マウス ポインターがある位置の座標を使用してポイントが追加されます。 マウスの左ボタンを押す動作によるマウスの移動が少なくなるため、この方法はマップにポイントを追加する精度の高い方法です。
   * 必要なすべてのポイントが線に追加されるまで、クリックを続けます。
 - フリーハンド モード
   * マウスの左ボタンを押すか、マップ上でタッチダウンして、マウスまたはタッチ ポイントをドラッグします。 マウスまたはタッチ ポイントがマップ内を移動すると、線に座標が追加されます。 マウスまたはタッチアップ イベントがトリガーされるとすぐに、描画が完了します。 座標が追加される頻度は、描画マネージャーの `freehandInterval` オプションによって定義されます。
 - ハイブリッド モード
   * 1 本の線を描画するときに、必要に応じてクリックとフリーハンドの方法を切り替えます。 たとえば、いくつかのポイントをクリックした後、マウスを押しながらドラッグして一連のポイントを追加し、さらにいくつかのポイントをクリックします。 

**描画の完了**
 - ハイブリッド モードまたはクリック モード
   * 最後のポイントでマップをダブルクリックします。 
   * 描画ツール バーの任意のボタンをクリックします。 
   * プログラムによって描画モードを設定します。 
 - フリーハンド モード
   * マウスのボタンまたはタッチ ポイントを離します。
 - `C` キーを押します。

**描画の取り消し**
 - `Escape` キーを押します。

### <a name="how-to-draw-a-polygon"></a>多角形を描画する方法

描画マネージャーが `draw-polygon` モードの場合は、対話式操作モードがどのように設定されているかに応じて、次のアクションを実行してマップ上のポイントを描画できます。

**描画の開始**
 - クリック モード
   * マウスの左ボタンをクリックするか、マップにタッチして、マップ上に多角形の各点を追加します。 クリックまたはタッチするごとに、多角形に座標が追加されます。 
   * マウスがマップ上にある場合は、`F` キーを押すと、マウス ポインターがある位置の座標を使用してポイントが追加されます。 マウスの左ボタンを押す動作によるマウスの移動が少なくなるため、この方法はマップにポイントを追加する精度の高い方法です。
   * 必要なすべてのポイントが多角形に追加されるまで、クリックを続けます。
 - フリーハンド モード
   * マウスの左ボタンを押すか、マップ上でタッチダウンして、マウスまたはタッチ ポイントをドラッグします。 マウスまたはタッチ ポイントがマップ内を移動すると、多角形に座標が追加されます。 マウスまたはタッチアップ イベントがトリガーされるとすぐに、描画が完了します。 座標が追加される頻度は、描画マネージャーの `freehandInterval` オプションによって定義されることに注意してください。
 - ハイブリッド モード
   * 1 つの多角形を描画するときに、必要に応じてクリックとフリーハンドの方法を切り替えます。 たとえば、いくつかのポイントをクリックした後、マウスを押しながらドラッグして一連のポイントを追加し、さらにいくつかのポイントをクリックします。 

**描画の完了**
 - ハイブリッド モードまたはクリック モード
   * 最後のポイントでマップをダブルクリックします。 
   * 多角形の最初の点をクリックします。
   * 描画ツール バーの任意のボタンをクリックします。 
   * プログラムによって描画モードを設定します。 
 - フリーハンド モード
   * マウスのボタンまたはタッチ ポイントを離します。
 - `C` キーを押します。

**描画の取り消し**
 - `Escape` キーを押します。

### <a name="how-to-draw-a-rectangle"></a>四角形を描画する方法

描画マネージャーが `draw-rectangle` モードの場合は、対話式操作モードがどのように設定されているかに応じて、次のアクションを実行してマップ上のポイントを描画できます。 生成された図形は、[四角形の拡張 GeoJSON 仕様](extend-geojson.md#rectangle)に従っています。

**描画の開始**
 - マップ上でマウスの左ボタンを押すかタッチダウンして四角形の最初の角を追加し、ドラッグして四角形を作成します。 

**描画の完了**
 - マウスのボタンまたはタッチ ポイントを離します。
 - プログラムによって描画モードを設定します。 
 - `C` キーを押します。

**描画の取り消し**
 - `Escape` キーを押します。

### <a name="how-to-draw-a-circle"></a>円を描画する方法

描画マネージャーが `draw-circle` モードの場合は、対話式操作モードがどのように設定されているかに応じて、次のアクションを実行してマップ上のポイントを描画できます。 生成された図形は、[円の拡張 GeoJSON 仕様](extend-geojson.md#circle)に従っています。

**描画の開始**
 - マップ上でマウスの左ボタンを押すかタッチダウンして円の中心を追加し、ドラッグして円の半径を指定します。 

**描画の完了**
 - マウスのボタンまたはタッチ ポイントを離します。
 - プログラムによって描画モードを設定します。 
 - `C` キーを押します。

**描画の取り消し**
 - `Escape` キーを押します。

## <a name="keyboard-shortcuts"></a>キーボード ショートカット

描画ツールでは、マップ上で図形の描画と編集を簡単に行うことができるキーボード ショートカットがサポートされています。 これらのキーボード ショートカットは、マップにフォーカスがあるときに機能します。

| Key      | アクション                            |
|----------|-----------------------------------|
| `C` | 進行中の描画を完了し、描画モードをアイドル状態に設定します。 フォーカスは最上位のマップ要素に移動します。  |
| `Escape` | 進行中の描画を取り消し、描画モードをアイドル状態に設定します。 フォーカスは最上位のマップ要素に移動します。  |
| `F` | マウスがマップ上にある場合、ポイント、線、または多角形に座標を追加します。 クリック モードまたはハイブリッド モードのときにマップをクリックした場合と同等のアクションです。 このショートカットを使用すると、片手をマウスに置き、もう一方の手でボタンを押すことができるので、押すジェスチャによるマウスの移動がなく、より正確で高速な描画を行うことができます。 |

## <a name="next-steps"></a>次のステップ

描画ツール モジュールのクラスについて詳細を確認します。

> [!div class="nextstepaction"]
> [描画マネージャー](https://docs.microsoft.com/javascript/api/azure-maps-drawing-tools/atlas.drawing.drawingmanager?view=azure-node-latest)

> [!div class="nextstepaction"]
> [描画ツール バー](https://docs.microsoft.com/javascript/api/azure-maps-drawing-tools/atlas.control.drawingtoolbar?view=azure-node-latest)