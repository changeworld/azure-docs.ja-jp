<properties
	pageTitle="Azure App Service ã§ã® Node.js API ã‚¢ãƒ—ãƒªã®æ§‹ç¯‰ã¨ãƒ‡ãƒ—ãƒ­ã‚¤"
	description="Node.js API ã‚¢ãƒ—ãƒª ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½œæˆã—ã¦ Azure App Service ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚"
	services="app-service\api"
	documentationCenter="nodejs"
	authors="pkefal"
  manager="" 
  editor=""/>

<tags
	ms.service="app-service-api"
	ms.workload="web"
	ms.tgt_pltfrm="na"
	ms.devlang="nodejs"
	ms.topic="get-started-article"
	ms.date="08/11/2015"
	ms.author="pakefali"/>

# Azure App Service ã§ã® Node.js API ã‚¢ãƒ—ãƒªã®æ§‹ç¯‰ã¨ãƒ‡ãƒ—ãƒ­ã‚¤

ã“ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã¯ã€[Node.js](http://nodejs.org) ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã—ã€[Git](http://git-scm.com) ã‚’ä½¿ç”¨ã—ã¦ Azure App Service API Apps ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚ã“ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã®æ‰‹é †ã¯ã€Node ã‚’å®Ÿè¡Œã§ãã‚‹ä»»æ„ã®ã‚ªãƒšãƒ¬ãƒ¼ãƒ†ã‚£ãƒ³ã‚° ã‚·ã‚¹ãƒ†ãƒ ã§ä½¿ç”¨ã§ãã¾ã™ã€‚

å®Œæˆã—ãŸã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

![][sample-api-app-page]

> [AZURE.NOTE]ã¾ãŸã€Visual Studio Code ã‚’ä½¿ç”¨ã—ã¦ã€Node.js API ã‚¢ãƒ—ãƒªã‚’æ§‹ç¯‰ã—ã€Azure App Service ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚Visual Studio Code ã¨ Node.js ã®è©³ç´°ã«ã¤ã„ã¦ã¯ã€[Visual Studio Code](http://code.visualstudio.com/Docs/) ã«é–¢ã™ã‚‹ãƒšãƒ¼ã‚¸ã¨ [Node ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®é–‹ç™º](http://code.visualstudio.com//Docs/nodejs)ã«é–¢ã™ã‚‹ãƒšãƒ¼ã‚¸ã‚’ã”è¦§ãã ã•ã„ã€‚

## Azure ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ ãƒãƒ¼ã‚¿ãƒ«ã§ã® API ã‚¢ãƒ—ãƒªã®ä½œæˆ

> [AZURE.NOTE]ã“ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚’å®Œäº†ã™ã‚‹ã«ã¯ã€Microsoft Azure ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŒå¿…è¦ã§ã™ã€‚ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’æŒã£ã¦ã„ãªã„å ´åˆã¯ã€[MSDN ã‚µãƒ–ã‚¹ã‚¯ãƒ©ã‚¤ãƒãƒ¼ã®ç‰¹å…¸ã‚’æœ‰åŠ¹ã«ã™ã‚‹](/pricing/member-offers/msdn-benefits-details/)ã‹ã€[ç„¡æ–™è©•ä¾¡ç‰ˆã«ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—](/pricing/free-trial/)ã—ã¦ãã ã•ã„ã€‚ç„¡æ–™è©•ä¾¡ç‰ˆã® [App Service ã‚¢ãƒ—ãƒªã®ã‚µãƒ³ãƒ—ãƒ«](http://tryappservice.azure.com)ã‚’è©¦ã™ã“ã¨ã‚‚ã§ãã¾ã™ã€‚

1. [Azure ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ ãƒãƒ¼ã‚¿ãƒ«](https://portal.azure.com)ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™ã€‚

2. ãƒãƒ¼ã‚¿ãƒ«ã®å·¦ä¸‹ã«ã‚ã‚‹ **[æ–°è¦]** ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

3. **[Web + ãƒ¢ãƒã‚¤ãƒ«]ã€[API ã‚¢ãƒ—ãƒª]** ã®é †ã«ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

	![][portal-quick-create]

4. **[åå‰]** ã« NodejsAPIApp ãªã©ã®å€¤ã‚’å…¥åŠ›ã—ã¾ã™ã€‚

5. App Service ãƒ—ãƒ©ãƒ³ã‚’é¸æŠã™ã‚‹ã‹ã€æ–°ã—ã„ãƒ—ãƒ©ãƒ³ã‚’ä½œæˆã—ã¾ã™ã€‚æ–°ã—ã„ãƒ—ãƒ©ãƒ³ã‚’ä½œæˆã™ã‚‹å ´åˆã¯ã€ä¾¡æ ¼ãƒ¬ãƒ™ãƒ«ã€ãŠã‚ˆã³å ´æ‰€ãªã©ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’é¸æŠã—ã¾ã™ã€‚

	![][portal-create-api]

6. **[ä½œæˆ]** ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

	![][api-app-blade]

	**[ã‚¹ã‚¿ãƒ¼ãƒˆç”»é¢ã«è¿½åŠ ]** ãƒã‚§ãƒƒã‚¯ ãƒœãƒƒã‚¯ã‚¹ã‚’ã‚ªãƒ³ã®ã¾ã¾ã«ã—ã¦ãŠã„ãŸå ´åˆã€API ã‚¢ãƒ—ãƒªã®ä½œæˆå¾Œã«ã“ã® API ã‚¢ãƒ—ãƒªç”¨ã®ãƒ–ãƒ¬ãƒ¼ãƒ‰ãŒãƒãƒ¼ã‚¿ãƒ«ã§è‡ªå‹•çš„ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ãƒã‚§ãƒƒã‚¯ ãƒœãƒƒã‚¯ã‚¹ã‚’ã‚ªãƒ•ã«ã—ãŸå ´åˆã€ãƒãƒ¼ã‚¿ãƒ«ã®ãƒ›ãƒ¼ãƒ  ãƒšãƒ¼ã‚¸ã§ **[é€šçŸ¥]** ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ API ã‚¢ãƒ—ãƒªã®ä½œæˆçŠ¶æ…‹ã‚’ç¢ºèªã—ã€é€šçŸ¥ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦æ–°ã—ã„ API ã‚¢ãƒ—ãƒªã®ãƒ–ãƒ¬ãƒ¼ãƒ‰ã«ç§»å‹•ã—ã¾ã™ã€‚

7. **[è¨­å®š]ã€[ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®è¨­å®š]** ã®é †ã«ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

9. ã‚¢ã‚¯ã‚»ã‚¹ ãƒ¬ãƒ™ãƒ«ã‚’ **[ãƒ‘ãƒ–ãƒªãƒƒã‚¯ (åŒ¿å)]** ã«è¨­å®šã—ã¾ã™ã€‚

11. **[ä¿å­˜]** ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

	![][set-api-app-access-level]

## æ–°ã—ã„ API ã‚¢ãƒ—ãƒªã® Git ç™ºè¡Œã®æœ‰åŠ¹åŒ–

[Git](http://git-scm.com/%20target="_blank) ã¯ã€Azure ã® Web ã‚µã‚¤ãƒˆã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã§ãã‚‹åˆ†æ•£å‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ« ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚API ã‚¢ãƒ—ãƒªç”¨ã«è¨˜è¿°ã—ãŸã‚³ãƒ¼ãƒ‰ã¯ãƒ­ãƒ¼ã‚«ãƒ«ã® Git ãƒªãƒã‚¸ãƒˆãƒªã«æ ¼ç´ã•ã‚Œã¾ã™ã€‚ã“ã®ã‚³ãƒ¼ãƒ‰ã‚’ãƒªãƒ¢ãƒ¼ãƒˆ ãƒªãƒã‚¸ãƒˆãƒªã«ãƒ—ãƒƒã‚·ãƒ¥ã—ã¦ Azure ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¾ã™ã€‚ã“ã®ãƒ‡ãƒ—ãƒ­ã‚¤æ–¹æ³•ã¯ã€API ã‚¢ãƒ—ãƒªãŒ Web ã‚¢ãƒ—ãƒªã«åŸºã¥ã„ã¦ã„ã‚‹ãŸã‚ã« API ã‚¢ãƒ—ãƒªã§ä½¿ç”¨ã§ãã‚‹ App Service Web ã‚¢ãƒ—ãƒªã®æ©Ÿèƒ½ã§ã™ã€‚ã¤ã¾ã‚Šã€Azure App Service ã® API ã‚¢ãƒ—ãƒªã¯ã€Web ã‚µãƒ¼ãƒ“ã‚¹ã‚’ãƒ›ã‚¹ãƒˆã™ã‚‹ãŸã‚ã®è¿½åŠ ã®æ©Ÿèƒ½ã‚’æŒã¤ Web ã‚¢ãƒ—ãƒªã§ã‚ã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚

ãƒãƒ¼ã‚¿ãƒ«ã§ã¯ã€**[API ã‚¢ãƒ—ãƒª]** ãƒ–ãƒ¬ãƒ¼ãƒ‰ã§ API ã‚¢ãƒ—ãƒªå›ºæœ‰ã®æ©Ÿèƒ½ã‚’ç®¡ç†ã—ã€**[API ã‚¢ãƒ—ãƒª ãƒ›ã‚¹ãƒˆ]** ãƒ–ãƒ¬ãƒ¼ãƒ‰ã§ Web ã‚¢ãƒ—ãƒªã¨å…±é€šã™ã‚‹æ©Ÿèƒ½ã‚’ç®¡ç†ã—ã¾ã™ã€‚ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€**[API ã‚¢ãƒ—ãƒª ãƒ›ã‚¹ãƒˆ]** ãƒ–ãƒ¬ãƒ¼ãƒ‰ã«ç§»å‹•ã—ã¦ã€Git ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã®æ©Ÿèƒ½ã‚’æ§‹æˆã—ã¾ã™ã€‚

1. [API ã‚¢ãƒ—ãƒª] ãƒ–ãƒ¬ãƒ¼ãƒ‰ã® **[API ã‚¢ãƒ—ãƒª ãƒ›ã‚¹ãƒˆ]** ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

	![][api-app-host]

2. **[API ã‚¢ãƒ—ãƒª]** ãƒ–ãƒ¬ãƒ¼ãƒ‰ã® **[ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ]** ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¦‹¤ã‘ã¦ã€**[ç¶™ç¶šçš„é…ç½®ã®è¨­å®š]** ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚å¿…è¦ã«å¿œã˜ã¦ã€ãƒ–ãƒ¬ãƒ¼ãƒ‰ã®ã“ã®éƒ¨åˆ†ã¾ã§ä¸‹ã¸ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¦ãã ã•ã„ã€‚

	![][deployment-part]

3. **[ã‚½ãƒ¼ã‚¹ã®é¸æŠ]ã€[ãƒ­ãƒ¼ã‚«ãƒ« Git ãƒªãƒã‚¸ãƒˆãƒª]** ã®é †ã«ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

5. **[OK]** ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

	![][setup-git-publishing]

6. API ã‚¢ãƒ—ãƒªã¾ãŸã¯ãã®ä»–ã® App Service ã‚¢ãƒ—ãƒªã‚’ç™ºè¡Œã™ã‚‹ãŸã‚ã®ãƒ‡ãƒ—ãƒ­ã‚¤è³‡æ ¼æƒ…å ±ã‚’ã¾ã è¨­å®šã—ã¦ã„ãªã„å ´åˆã¯ã€ã“ã“ã§è¨­å®šã—ã¾ã™ã€‚

	* **[ãƒ‡ãƒ—ãƒ­ã‚¤è³‡æ ¼æƒ…å ±ã®è¨­å®š]** ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

	* ãƒ¦ãƒ¼ã‚¶ãƒ¼åã¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¾ã™ã€‚

	* **[ä¿å­˜]** ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

	![][deployment-credentials]

1. **[API ã‚¢ãƒ—ãƒª ãƒ›ã‚¹ãƒˆ]** ãƒ–ãƒ¬ãƒ¼ãƒ‰ã§ã€**[è¨­å®š]ã€[ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£]** ã®é †ã«ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆã®ãƒªãƒ¢ãƒ¼ãƒˆ Git ãƒªãƒã‚¸ãƒˆãƒªã® URL ã¯ã€[GIT URL] ã®ä¸‹ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

2. ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã®å¾ŒåŠã§ä½¿ç”¨ã™ã‚‹ãŸã‚ã«ã“ã® URL ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã™ã€‚

	![][git-url]

## Node.js API ã‚¢ãƒ—ãƒªã®ã‚³ãƒ¼ãƒ‰ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã¨ç¢ºèª

ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€NodeAPIApp ã‚µãƒ³ãƒ—ãƒ«ã®ä¸€éƒ¨ã¨ã—ã¦æä¾›ã•ã‚Œã‚‹ã‚³ãƒ¼ãƒ‰ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ç¢ºèªã—ã¾ã™ã€‚

1. [ã“ã® GitHub ãƒªãƒã‚¸ãƒˆãƒª](http://go.microsoft.com/fwlink/?LinkID=534023&clcid=0x409)å†…ã®ã‚³ãƒ¼ãƒ‰ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚ãƒªãƒã‚¸ãƒˆãƒªã‚’è¤‡è£½ã™ã‚‹ã‹ã€**Download Zip** ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ .zip ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚.zip ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸå ´åˆã¯ã€ãƒ­ãƒ¼ã‚«ãƒ« ãƒ‡ã‚£ã‚¹ã‚¯ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è§£å‡ã—ã¾ã™ã€‚

2. ã‚µãƒ³ãƒ—ãƒ« ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è§£å‡ã—ãŸãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã«ç§»å‹•ã—ã¾ã™ã€‚

	![][api-app-folder-browse]

3. ãƒ†ã‚­ã‚¹ãƒˆ ã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼ã§ **apiapp.json** ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ãã€ãã®å†…å®¹ã‚’ç¢ºèªã—ã¾ã™ã€‚

	![][apiapp-json]

	Azure App Service ã§ Node.js ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ API ã‚¢ãƒ—ãƒªã¨ã—ã¦èªè­˜ã™ã‚‹ã«ã¯ã€æ¬¡ã® 2 ã¤ã®å‰ææ¡ä»¶ãŒã‚ã‚Šã¾ã™ã€‚

	+ *apiapp.json* ã¨ã„ã†åå‰ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ«ãƒ¼ãƒˆ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«å­˜åœ¨ã™ã‚‹ã€‚
	+ Swagger 2.0 ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãŒã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ã‚ˆã£ã¦å…¬é–‹ã•ã‚Œã‚‹ã€‚ã“ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã® URL ã¯ã€*apiapp.json* ãƒ•ã‚¡ã‚¤ãƒ«ã§æŒ‡å®šã—ã¾ã™ã€‚

	**apiDefinition** ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«æ³¨ç›®ã—ã¦ãã ã•ã„ã€‚ã“ã® URL ã®ãƒ‘ã‚¹ã¯ API ã® URL ã®ç›¸å¯¾ãƒ‘ã‚¹ã§ã‚ã‚Šã€Swagger 2.0 ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’æŒ‡ã—ã¦ã„ã¾ã™ã€‚Azure App Service ã§ã¯ã“ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ä½¿ç”¨ã—ã¦ API ã®å®šç¾©ãŒæ¤œå‡ºã•ã‚Œã€å¤šãã® App Service API ã‚¢ãƒ—ãƒªæ©Ÿèƒ½ãŒæœ‰åŠ¹ã«ãªã‚Šã¾ã™ã€‚

	> [AZURE.NOTE]ä»¥å‰ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ (ä¾‹: 1.2) ã¯ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ãªã„ãŸã‚ã€ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¯ Swagger 2.0 ã®ä»•æ§˜ã«æº–æ‹ ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã‚µãƒ³ãƒ—ãƒ« ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã¯ Swagger 2.0 ã®ä»•æ§˜ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®ä½œæˆã« swaggerize-express ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚

4. **server.js** ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ãã€ã‚³ãƒ¼ãƒ‰ã‚’ç¢ºèªã—ã¾ã™ã€‚

	![][server-js]

	ã“ã®ã‚³ãƒ¼ãƒ‰ã§ã¯ã€swaggerize-express ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ã¦ Swagger 2.0 ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚

		app.use(swaggerize({
		    api: require('./api.json'),
		    docspath: '/swagger',
		    handlers: './handlers/'
		}));

	`api` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯ã€API ã® Swagger 2.0 ã®ä»•æ§˜ã®å®šç¾©ãŒæ ¼ç´ã•ã‚Œã¦ã„ã‚‹ api.json ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡ã—ã¦ã„ã¾ã™ã€‚ãƒ†ã‚­ã‚¹ãƒˆ ã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼ã§æ‰‹å‹•ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã™ã‚‹ã‹ã€ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã® [Swagger ã®ã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼](http://editor.swagger.io)ã‚’ä½¿ç”¨ã—ã¦ã€ãã“ã‹ã‚‰ JSON ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ãã¾ã™ (*api.json* ãƒ•ã‚¡ã‚¤ãƒ«ã§ã¯ `host` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ãŒã€å®Ÿè¡Œæ™‚ã«ã“ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å€¤ãŒæ±ºå®šã•ã‚Œã€å‹•çš„ã«ç½®ãæ›ãˆã‚‰ã‚Œã¾ã™)ã€‚

	`docspath` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯ Swagger 2.0 ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’æŒ‡ã—ã¦ã„ã¾ã™ã€‚ã“ã® URL ã¯ã€API ã®åŸºæœ¬ãƒ‘ã‚¹ã¸ã®ç›¸å¯¾ãƒ‘ã‚¹ã§ã™ã€‚åŸºæœ¬ãƒ‘ã‚¹ã¯ã€api.json ãƒ•ã‚¡ã‚¤ãƒ«ã§å®£è¨€ã—ã¾ã™ã€‚ã“ã®ä¾‹ã§ã¯ã€åŸºæœ¬ãƒ‘ã‚¹ãŒ */api/data* ã§ã‚ã‚‹ãŸã‚ã€Swagger ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¸ã®ç›¸å¯¾ãƒ‘ã‚¹ã¯ */api/data/swagger* ã«ãªã‚Šã¾ã™ã€‚

	> [AZURE.NOTE]åŸºæœ¬ãƒ‘ã‚¹ãŒ *api.json* ãƒ•ã‚¡ã‚¤ãƒ«ã§å®£è¨€ã•ã‚Œã¦ã„ã‚‹ãŸã‚ã€API ã‚¢ãƒ—ãƒªã® URL ã¸ã®ç›¸å¯¾ãƒ‘ã‚¹ã¨ã—ã¦ */swagger* ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã€404 ãŒè¿”ã•ã‚Œã¾ã™ã€‚ã“ã‚Œã¯ã€Swagger ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ãã«ã‚ˆãèµ·ã“ã‚‹é–“é•ã„ã§ã™ã€‚

	`handlers` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯ã€Express.js ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ãƒ«ãƒ¼ãƒˆã®ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‚’æ ¼ç´ã—ã¦ã„ã‚‹ãƒ­ãƒ¼ã‚«ãƒ« ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’æŒ‡ã—ã¦ã„ã¾ã™ã€‚

## API ã‚¢ãƒ—ãƒª ã‚³ãƒ¼ãƒ‰ã®ãƒ­ãƒ¼ã‚«ãƒ«ã§ã®å®Ÿè¡Œ

ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§å®Ÿè¡Œã—ã¦ã€å‹•ä½œã™ã‚‹ã“ã¨ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã®å‰ã«ç¢ºèªã—ã¾ã™ã€‚

1. ã‚µãƒ³ãƒ—ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã«ç§»å‹•ã—ã¾ã™ã€‚

2. ã‚³ãƒãƒ³ãƒ‰ ãƒ©ã‚¤ãƒ³ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’é–‹ãã€æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å…¥åŠ›ã—ã¾ã™ã€‚

		npm install

3. *install* ã‚³ãƒãƒ³ãƒ‰ãŒå®Œäº†ã—ãŸã‚‰ã€æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚

		node server.js

	ã‚³ãƒãƒ³ãƒ‰ ãƒ©ã‚¤ãƒ³ ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã®å‡ºåŠ›ã« "Server started .." ã¨è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

5. ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã§ http://localhost:1337/ ã«ç§»å‹•ã—ã¾ã™ã€‚

	æ¬¡ã®ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

	![][sample-api-app-page]

6. Swagger.json ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¡¨ç¤ºã™ã‚‹ã«ã¯ã€http://localhost:1337/api/data/swagger ã«ç§»å‹•ã—ã¾ã™ã€‚

## Azure App Service ã¸ã® API ã‚¢ãƒ—ãƒª ã‚³ãƒ¼ãƒ‰ã®ç™ºè¡Œ

ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€Azure App Service ã§å®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹ API ã‚¢ãƒ—ãƒªã«ã‚µãƒ³ãƒ—ãƒ« ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ãŸã‚ã«ã€ãƒ­ãƒ¼ã‚«ãƒ« Git ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œæˆã—ã¦ãã®ãƒªãƒã‚¸ãƒˆãƒªã‹ã‚‰ Azure ã«ãƒ—ãƒƒã‚·ãƒ¥ã—ã¾ã™ã€‚

1. Git ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ãªã„å ´åˆã¯ã€[Git ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ ãƒšãƒ¼ã‚¸](http://git-scm.com/download%20target="_blank")ã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

1. ã‚³ãƒãƒ³ãƒ‰ ãƒ©ã‚¤ãƒ³ã‚’ä½¿ç”¨ã—ã¦ã€ã‚µãƒ³ãƒ—ãƒ« ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•ã—ã€æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãƒ­ãƒ¼ã‚«ãƒ« Git ãƒªãƒã‚¸ãƒˆãƒªã‚’åˆæœŸåŒ–ã—ã¾ã™ã€‚

		git init


2. æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å…¥åŠ›ã—ã¦ã€ãƒªãƒã‚¸ãƒˆãƒªã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ ã—ã¾ã™ã€‚

		git add .
		git commit -m "Initial commit of the API App"

3. ã‚³ãƒ”ãƒ¼ã—ã¦ãŠã„ãŸ Git URL ã‚’ä½¿ç”¨ã—ã¦ã€ä½œæˆã—ãŸ Web ã‚¢ãƒ—ãƒª (API ã‚¢ãƒ—ãƒª ãƒ›ã‚¹ãƒˆ) ã«æ›´æ–°ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ãƒ—ãƒƒã‚·ãƒ¥ã™ã‚‹ãŸã‚ã®ãƒªãƒ¢ãƒ¼ãƒˆå‚ç…§ã‚’ä½œæˆã—ã¾ã™ã€‚

		git remote add azure [URL for remote repository]

4. æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å…¥åŠ›ã—ã¦ã€å¤‰æ›´å†…å®¹ã‚’ Azure ã«ãƒ—ãƒƒã‚·ãƒ¥ã—ã¾ã™ã€‚

		git push azure master

	ä»¥å‰ä½œæˆã—ãŸãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã™ã‚‹ã‚ˆã†ã«æ±‚ã‚ã‚‰ã‚Œã¾ã™ã€‚

	ã“ã®ã‚³ãƒãƒ³ãƒ‰ã‹ã‚‰ã¯ã€ãƒ‡ãƒ—ãƒ­ã‚¤ãŒæˆåŠŸã—ãŸã¨ã„ã†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒæœ€å¾Œã«å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚

		remote: Deployment successful.
		To https://user@testsite.scm.azurewebsites.net/testsite.git
	 	* [new branch]      master -> master

## Azure ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ ãƒãƒ¼ã‚¿ãƒ«ã§ã® API å®šç¾©ã®è¡¨ç¤º

API ã‚’ API ã‚¢ãƒ—ãƒªã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ãŸã®ã§ã€Azure ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ ãƒãƒ¼ã‚¿ãƒ«ã§ API å®šç¾©ã‚’ç¢ºèªã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚æœ€åˆã«*ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤*ã‚’å†èµ·å‹•ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã£ã¦ã€API ã‚¢ãƒ—ãƒªã® API å®šç¾©ãŒå¤‰æ›´ã•ã‚ŒãŸã“ã¨ã‚’ Azure ã§èªè­˜ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤ã¯ã€API ã®ç®¡ç†ã¨ãƒªã‚½ãƒ¼ã‚¹ ã‚°ãƒ«ãƒ¼ãƒ—å†…ã® API ã‚¢ãƒ—ãƒªã®æ‰¿èªã‚’å‡¦ç†ã™ã‚‹ Web ã‚¢ãƒ—ãƒªã§ã™ã€‚

6. Azure ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ ãƒãƒ¼ã‚¿ãƒ«ã§ã€å‰ã«ä½œæˆã—ãŸ API ã‚¢ãƒ—ãƒªã® **[API ã‚¢ãƒ—ãƒª]** ãƒ–ãƒ¬ãƒ¼ãƒ‰ã«ç§»å‹•ã—ã¦ã€**[ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤]** ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

	![](./media/app-service-api-nodejs-api-app/clickgateway.png)

7. **[ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤]** ãƒ–ãƒ¬ãƒ¼ãƒ‰ã® **[å†èµ·å‹•]** ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚ã“ã‚Œã§ã“ã®ãƒ–ãƒ¬ãƒ¼ãƒ‰ã‚’é–‰ã˜ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

	![](./media/app-service-api-nodejs-api-app/gatewayrestart.png)

8. **[API ã‚¢ãƒ—ãƒª]** ãƒ–ãƒ¬ãƒ¼ãƒ‰ã® **[API å®šç¾©]** ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

	![](./media/app-service-api-nodejs-api-app/apidef.png)

	**[API å®šç¾©]** ãƒ–ãƒ¬ãƒ¼ãƒ‰ã« 2 ã¤ã® Get ãƒ¡ã‚½ãƒƒãƒ‰ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

	![](./media/app-service-api-nodejs-api-app/apidefblade.png)

## Azure ã§ã®ã‚µãƒ³ãƒ—ãƒ« ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å®Ÿè¡Œ

Azure ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ ãƒãƒ¼ã‚¿ãƒ«ã§ã€ç›®çš„ã® API ã‚¢ãƒ—ãƒªã® **[API ã‚¢ãƒ—ãƒª ãƒ›ã‚¹ãƒˆ]** ãƒ–ãƒ¬ãƒ¼ãƒ‰ã«ç§»å‹•ã—ã€**[å‚ç…§]** ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

![][browse-api-app-page]

ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã«ã€ã‚µãƒ³ãƒ—ãƒ« ã‚¢ãƒ—ãƒªã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§å®Ÿè¡Œã—ãŸã¨ãã«è¡¨ç¤ºã•ã‚ŒãŸãƒ›ãƒ¼ãƒ  ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

[AZURE.INCLUDE [app-service-api-direct-deploy-metadata](../../includes/app-service-api-direct-deploy-metadata.md)]

## æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

API ã‚¢ãƒ—ãƒª ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’ä½¿ç”¨ã™ã‚‹ Node.js Web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ Azure ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¾ã—ãŸã€‚Azure ã§ã® Node.js ã®ä½¿ç”¨ã«é–¢ã™ã‚‹è©³ç´°ã«ã¤ã„ã¦ã¯ã€ã€Œ[Node.js ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ ã‚»ãƒ³ã‚¿ãƒ¼](/develop/nodejs/)ã€ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

* ã“ã®ã‚µãƒ³ãƒ—ãƒ« API ã‚¢ãƒ—ãƒªã¯ [TryApp Service](http://tryappservice.azure.com) ã®ãƒšãƒ¼ã‚¸ã§è©¦ã™ã“ã¨ãŒã§ãã¾ã™ã€‚

[portal-quick-create]: ./media/app-service-api-nodejs-api-app/portal-quick-create.png
[portal-create-api]: ./media/app-service-api-nodejs-api-app/portal-create-api.png
[api-app-blade]: ./media/app-service-api-nodejs-api-app/api-app-blade.png
[api-app-folder-browse]: ./media/app-service-api-nodejs-api-app/api-app-folder-browse.png
[api-app-host]: ./media/app-service-api-nodejs-api-app/api-app-host.png
[deployment-part]: ./media/app-service-api-nodejs-api-app/continuous-deployment.png
[set-api-app-access-level]: ./media/app-service-api-nodejs-api-app/set-api-app-access.png
[setup-git-publishing]: ./media/app-service-api-nodejs-api-app/local-git-repo.png
[deployment-credentials]: ./media/app-service-api-nodejs-api-app/deployment-credentials.png
[git-url]: ./media/app-service-api-nodejs-api-app/git-url.png
[apiapp-json]: ./media/app-service-api-nodejs-api-app/apiapp-json.png
[server-js]: ./media/app-service-api-nodejs-api-app/server-js.png
[sample-api-app-page]: ./media/app-service-api-nodejs-api-app/sample-api-app-page.png
[browse-api-app-page]: ./media/app-service-api-nodejs-api-app/browse-api-app-page.png
 

<!---HONumber=August15_HO7-->