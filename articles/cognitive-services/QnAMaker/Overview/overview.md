---
title: QnA Maker サービスとは
description: QnA Maker は、データに自然な会話レイヤーを簡単に作成するクラウドベースの NLP サービスです。 これは、特定の自然言語入力に対して、カスタム ナレッジ ベース (KB) の情報から最も適切な回答を見つけるのに使用できます。
ms.service: cognitive-services
ms.subservice: qna-maker
ms.topic: overview
ms.date: 01/22/2021
ms.custom: cog-serv-seo-aug-2020
keywords: QnA Maker, 少量のコードのチャット ボット, マルチターン会話
ms.openlocfilehash: 8df9daa213156fc38ed08bced44ea919da95e6a4
ms.sourcegitcommit: 42e4f986ccd4090581a059969b74c461b70bcac0
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/23/2021
ms.locfileid: "104869210"
---
# <a name="what-is-qna-maker"></a>QnA Maker とは

QnA Maker は、データに自然な会話レイヤーを作成できるクラウドベースの自然言語処理 (NLP) サービスです。 任意の入力に対して、カスタム ナレッジ ベース (KB) の情報から最も適切な回答を見つける目的で使用されます。

通常 QnA Maker は、ソーシャル メディア アプリケーション、チャット ボット、音声対応デスクトップ アプリケーションなど、会話型クライアント アプリケーションの作成に使用されます。

QnA Maker には顧客データは格納されません。 顧客データ (質問への回答とチャットログ) はすべて、顧客が依存関係のあるサービス インスタンスをデプロイしているリージョンに格納されます。 依存関係のあるサービスの詳細については、[こちら](https://docs.microsoft.com/azure/cognitive-services/qnamaker/concepts/plan?tabs=v1)をご覧ください。

## <a name="when-to-use-qna-maker"></a>QnA Maker を使用する場合

* **静的な情報がある場合** - 回答のナレッジ ベースに静的な情報がある場合に、QnA Maker を使用します。 このナレッジ ベースは、[PDF や URL](../Concepts/data-sources-and-content.md) などのドキュメントで作成したニーズに合わせてカスタマイズされています。
* **要求、質問、またはコマンドに同じ回答を提供する場合** - 異なるユーザーが同じ質問を送信すると、同じ回答が返されます。
* **メタ情報に基づいて静的情報をフィルター処理する場合** - [メタデータ](../how-to/metadata-generateanswer-usage.md) タグを追加して、クライアント アプリケーションのユーザーと情報に関連する追加のフィルター オプションを提供します。 一般的なメタデータ情報には、[chit-chat](../how-to/chit-chat-knowledge-base.md)、コンテンツの種類または形式、コンテンツの目的、コンテンツの鮮度が含まれます。
* **静的な情報を含むボットの会話を管理する場合** - ご利用のナレッジ ベースは、ユーザーの会話テキストまたはコマンドを取得して、それに応答します。 回答が、ナレッジ ベースで[複数ターンのコンテキスト](../how-to/multiturn-conversation.md)で表される、事前に決定された会話フローの一部である場合、ボットはこのフローを簡単に提供できます。

## <a name="what-is-a-knowledge-base"></a>ナレッジ ベースとは

QnA Maker では、質問と回答がペアになったナレッジ ベースに[コンテンツをインポート](../Concepts/plan.md)します。 インポート プロセスでは、質問と回答のペア間のリレーションシップを意味する、構造化コンテンツと半構造化コンテンツのパーツ間のリレーションシップに関する情報を抽出します。 これらの質問と回答のペアを編集したり、新しいペアを追加したりできます。

質問と回答のペアのコンテンツには、次のものが含まれます。
* 質問のすべての代替形式
* 検索時に回答の選択肢をフィルター処理するために使用されるメタデータ タグ
* 検索の絞り込みを続行するためのフォローアップ プロンプト

![メタデータを使用した質問と回答の例](../media/qnamaker-overview-learnabout/example-question-and-answer-with-metadata.png)

ナレッジ ベースを公開すると、クライアント アプリケーションによってユーザーの質問がエンドポイントに送信されます。 QnA Maker サービスは、質問を処理して、最適な回答で応答します。

## <a name="create-a-chat-bot-programmatically"></a>チャット ボットをプログラムから作成する

QnA Maker のナレッジ ベースが公開されると、クライアント アプリケーションは、ナレッジ ベースのエンドポイントに質問を送信し、結果を JSON 応答として受信します。 QnA Maker の一般的なクライアント アプリケーションはチャット ボットです。

![ボットに質問をして、ナレッジ ベースのコンテンツから回答を得る](../media/qnamaker-overview-learnabout/bot-chat-with-qnamaker.png)

|手順|アクション|
|:--|:--|
|1|クライアント アプリケーションは、ユーザーの _質問_ (自分の言葉で表現されたテキスト) "プログラムによってナレッジ ベースを更新するにはどうすればよいですか?" を、 ご利用のナレッジ ベース エンドポイントに送信します。|
|2|QnA Maker は、トレーニング済みのナレッジ ベースを使用して、正しい回答と、最適な回答の検索を絞り込むために使用できる任意のフォローアップ プロンプトを提供します。 QnA Maker では、JSON 形式で応答を返します。|
|3|クライアント アプリケーションは、JSON 応答を使用して、会話を継続する方法を判断します。 この判断には、上位の回答を表示することや、最適な回答を得るためにより多くの選択肢を提示することが挙げられます。 |
|||

## <a name="build-low-code-chat-bots"></a>少量のコードでチャット ボットを作成する

QnA Maker ポータルでは、完全なナレッジ ベースの作成エクスペリエンスが提供されます。 ドキュメントをそのままの形式でナレッジ ベースにインポートできます。 これらのドキュメント (FAQ、製品マニュアル、スプレッドシート、Web ページなど) は、質問と回答のペアに変換されます。 各ペアは、フォローアップ プロンプト用に分析され、他のペアに接続されます。 最終的な "_マークダウン_" 形式は、画像やリンクを含む豊富なプレゼンテーションをサポートします。

ナレッジ ベースを編集したら、作業中の [Azure Web アプリ ボット](https://azure.microsoft.com/services/bot-service/)にそのナレッジ ベースを公開します。コードを記述する必要はありません。 [Azure portal](https://portal.azure.com) でボットをテストするか、ダウンロードして開発を続行します。

## <a name="high-quality-responses-with-layered-ranking"></a>階層化されたランク付けによる質の高い回答

QnA Maker のシステムは、階層化されたランク付けアプローチです。 データは Azure Search に格納されます。これは、第 1 のランク付けレイヤーとしても機能します。 次に、Azure Search からの上位の結果が QnA Maker の NLP 再順位付けモデルを通じて渡され、最終的な結果と信頼度スコアが生成されます。

## <a name="multi-turn-conversations"></a>複数ターン会話

QnA Maker では、基本的な質問と回答のペアを改善するために、複数ターンのプロンプトとアクティブ ラーニングが提供されています。

**複数ターンのプロンプト** により、質問と回答のペアを結び付ける機会が与えられます。 この結び付けにより、クライアント アプリケーションは上位の回答を提供し、最終的な回答の検索を絞り込むためにより多くの質問を提供することができます。

ナレッジ ベースが公開されたエンドポイントでユーザーからの質問を受け取ると、QnA Maker はこれらの実際の質問に **アクティブ ラーニング** を適用して、品質向上のためにナレッジ ベースへの変更を提案します。

## <a name="development-lifecycle"></a>開発ライフサイクル

QnA Maker では、完全な開発ライフサイクルに統合するために、コラボレーションと共に、作成、トレーニング、および発行のアクセス許可を提供します。

> [!div class="mx-imgBorder"]
> ![開発サイクルの概念図](../media/qnamaker-overview-learnabout/development-cycle.png)


## <a name="complete-a-quickstart"></a>クイックスタートに取り組む

ほとんどの一般的なプログラミング言語向けのクイックスタートが提供されています。それぞれ基本的な設計パターンを学び、いずれも 10 分もかからずにコードを実行できるように作られています。 それぞれの機能のクイックスタートについては、次の各記事を参照してください。

* [QnA Maker クライアント ライブラリの概要](../quickstarts/quickstart-sdk.md)
* [QnA Maker ポータルの概要](../quickstarts/create-publish-knowledge-base.md)

## <a name="next-steps"></a>次のステップ
QnA Maker には、カスタム ナレッジ ベースのビルド、管理、および展開に必要なすべてのものが用意されています。

> [!div class="nextstepaction"]
> [最新の変更を確認する](../whats-new.md)
