---
title: フィーチャーの評価 - Personalizer
titleSuffix: Azure Cognitive Services
description: Azure portal から、Personalizer リソースで評価を実行すると、Personalizer により、モデルに影響を与えているコンテキストとアクションのフィーチャーに関する情報が提供されます。
services: cognitive-services
author: diberry
manager: nitinme
ms.service: cognitive-services
ms.subservice: personalizer
ms.topic: conceptual
ms.date: 07/29/2019
ms.author: diberry
ms.openlocfilehash: 31243b5e9da55aafbc376fa416c1b00a4499c116
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/28/2020
ms.locfileid: "70242413"
---
# <a name="feature-evaluation"></a>特徴の評価

[Azure portal](https://portal.azure.com) から、Personalizer リソースで評価を実行すると、Personalizer により、モデルに影響を与えているコンテキストとアクションのフィーチャーに関する情報が提供されます。 

これは、次の目的の役に立ちます。

* 使用可能な追加フィーチャーを推測し、モデル内でどのフィーチャーがより重要であるかがわかり、インスピレーションが得られる。
* どのフィーチャーが重要でないのかを確認し、場合によっては、それらのフィーチャーを削除する、または何が使用状況に影響する可能性があるかについてさらに詳細に分析する。
* カタログに追加する価値のある新しいコンテンツや製品に関するガイダンスを編集チームまたはキュレーション チームに提供する。
* フィーチャーを Personalizer に送信するときに発生する一般的な問題と誤りをトラブルシューティングする。

重要なフィーチャーほど、モデル内の重み付けが高くなります。 これらのフィーチャーは重み付けが高いため、Personalizer でより高い報酬を獲得したときに存在する傾向があります。

## <a name="getting-feature-importance-evaluation"></a>フィーチャーの重要度の評価を取得する

フィーチャーの重要度の結果を表示するには、評価を実行する必要があります。 この評価では、評価期間中に観測されるフィーチャー名に基づいて、人間が判読できるフィーチャー ラベルが作成されます。

フィーチャーの重要度に関する結果情報には、現在の Personalizer のオンライン モデルが表されます。 評価では、評価期間の終了日に、評価中に行われたすべてのトレーニングが完了した後、現在のオンライン学習ポリシーを使用して、保存されたモデルのフィーチャー。 

フィーチャーの重要度の結果には、評価中にテストまたは作成されるその他のポリシーおよびモデルは示されません。  この評価には、評価期間終了後に Personalizer に送信されるフィーチャーは含まれません。

## <a name="how-to-interpret-the-feature-importance-evaluation"></a>フィーチャーの重要度の評価を解釈する方法

Personalizer では、重要度が類似しているフィーチャーの "グループ" を作成して、フィーチャーを評価します。 あるグループが他のグループよりも全体的に重要度が高いと言うことができますが、グループ内のフィーチャーの順序はアルファベット順です。

各機能に関する情報は次のとおりです。

* フィーチャーのソースがコンテキストであるか、アクションであるか。
* フィーチャーのキーと値。

たとえば、アイス クリーム ショップの注文アプリで、非常に重要なフィーチャーとして "Context.Weather:Hot" が示される場合があります。

Personalizer には、一緒に考慮したときに、より高い報酬が生み出されるフィーチャーの相関関係が表示されます。

たとえば、"Context.Weather:Hot *with* Action.MenuItem:IceCream" や "Context.Weather:Cold *with* Action.MenuItem:WarmTea" などが表示されます。

## <a name="actions-you-can-take-based-on-feature-evaluation"></a>フィーチャーの評価に基づいて実行できるアクション

### <a name="imagine-additional-features-you-could-use"></a>使用できる追加のフィーチャーを推測する

モデル内のより重要なフィーチャーからインスピレーションが得られます。 たとえば、ビデオ モバイル アプリに "Context.MobileBattery:Low" と表示されたら、接続の種類によって、顧客が、あるビデオ クリップを別のものより優先して表示するように選択し、アプリに接続の種類と帯域幅に関するフィーチャーを追加することもできると考えることができます。

### <a name="see-what-features-are-not-important"></a>重要でないフィーチャーを確認する

場合によっては、重要でないフィーチャーを削除したり、使用状況に影響する可能性があるフィーチャーをさらに詳細に分析したりします。 フィーチャーは、さまざまな理由で順位が低くなる場合があります。 たとえば、フィーチャーがユーザーの動作にまったく影響しないことがあります。 しかし、それが、そのフィーチャーがユーザーに見えていないことを意味する可能性もあります。 

たとえば、あるビデオ サイトで "Action.VideoResolution=4k" が重要度の低いフィーチャーであると示されるが、ユーザーの調査とは矛盾していることがあります。 この原因として、アプリケーションがビデオ解像度に一切言及したり示したりすることがなく、そのため、ユーザーが行動を変更する基準にならないということが考えられます。

### <a name="provide-guidance-to-editorial-or-curation-teams"></a>編集チームまたはキュレーション チームにガイダンスを提供する

カタログに追加する価値のある新しいコンテンツや製品に関するガイダンスを提供します。 Personalizer は、人間の分析情報やチームを強化するツールとして設計されています。 これを行う 1 つの方法は、行動を促進する製品、記事、またはコンテンツに関する情報を編集グループに提供することです。 たとえば、ビデオ アプリケーションのシナリオで、"Action.VideoEntities.Cat:true" という重要なフィーチャーがあることを示して、より多くのネコのビデオを取り入れるように編集チームを促すということが考えられます。

### <a name="troubleshoot-common-problems-and-mistakes"></a>一般的な問題と誤りのトラブルシューティング

一般的な問題と誤りは、アプリケーション コードを変更して解決できるため、不適切または正しくない形式のフィーチャーが Personalizer に送信されることはありません。 

フィーチャーを送信するときの一般的な誤りには、次のようなものがあります。

* 個人を特定できる情報 (PII) を送信する。 個人を特定する PII (名前、電話番号、クレジット カード番号、IP アドレスなど) は、Personalizer で使用しないでください。 ご利用のアプリケーションでユーザーを追跡する必要がある場合は、識別されない UUID または他の何らかの UserID 番号を使用します。 ほとんどのシナリオで、これも問題となります。
* ユーザーの数が多い場合、各ユーザーの操作が、ユーザー全体の操作よりも重みが高くなることはほとんどありません。そのため、ユーザー ID を送信すると (PII 以外でも)、価値よりもノイズの方がモデルに追加される可能性が高くなるのです。
* 特徴付けされた時刻値ではなく、厳密なタイムスタンプとして日付/時刻フィールドを送信する。 Context.TimeStamp.Day=Monday または "Context.TimeStamp.Hour"="13" のようなフィーチャーがあると、さらに有用です。 それぞれ、フィーチャーの最大は 7 または 24 になります。 しかし、"Context.TimeStamp":"1985-04-12T23:20:50.52Z" は厳密な時間を指しており、将来再度生じることはないため、ここから学習する方法がありません。

## <a name="next-steps"></a>次のステップ

Personalizer を使用した[スケーラビリティとパフォーマンス](concepts-scalability-performance.md)を理解します。

