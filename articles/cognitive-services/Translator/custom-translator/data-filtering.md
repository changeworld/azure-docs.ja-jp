---
title: データのフィルター処理 - カスタム トランスレーター
titleSuffix: Azure Cognitive Services
description: カスタム システムのトレーニングに使用するドキュメントを送信すると、トレーニングの準備をするための一連の処理とフィルター処理がそのドキュメントに対して行われます。
author: swmachan
manager: nitinme
ms.service: cognitive-services
ms.subservice: translator-text
ms.date: 02/21/2019
ms.author: swmachan
ms.topic: conceptual
ms.openlocfilehash: 1028443eaaf6c483cd7cd57289b0dcf2a9f11902
ms.sourcegitcommit: fe6b91c5f287078e4b4c7356e0fa597e78361abe
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/29/2019
ms.locfileid: "68595906"
---
# <a name="data-filtering"></a>データのフィルタリング

カスタム システムのトレーニングに使用するドキュメントを送信すると、トレーニングの準備をするための一連の処理とフィルター処理がそのドキュメントに対して行われます。 ここでは、これらの手順について説明します。 フィルター処理の知識があると、カスタム トランスレーターに表示される文の数や、カスタム トランスレーターを使用してトレーニングするためのドキュメントの準備に必要な手順を理解する上で役立ちます。

## <a name="sentence-alignment"></a>文の配置
ドキュメントが XLIFF、TMX、または ALIGN 形式ではない場合、カスタム トランスレーターによって、ソース ドキュメントとターゲット ドキュメントの文が、相互に文ごとに配置されます。 トランスレーターの実行する処理はドキュメントの配置ではなく、ドキュメントの名前付けに従って、もう一方の言語の一致するドキュメントを検出することです。 カスタム トランスレーターでは、ドキュメント内でもう一方の言語の対応する文の検出が試みられます。 配置のために、埋め込まれた HTML タグのようなドキュメント マークアップが利用されています。  

ソース側のドキュメントとターゲット側のドキュメントに含まれる文の数に大きな違いがある場合、そもそも並列したドキュメントではなかったか、その他の理由で配置できなかった可能性があります。 それぞれの側で文の大きな違い (10% 超) があるドキュメントのペアでは、確かに並列したドキュメントであることを確認するために 2 回目の見直しが必要です。 異なる文の数が多い場合、カスタム トランスレーターではドキュメントの横に警告が表示されます。  


## <a name="deduplication"></a>重複除去
カスタム トランスレーターでは、テストおよびチューニング ドキュメントに含まれている文章がトレーニング データから削除されます。 削除は、データ処理手順ではなく、トレーニングの実行中に動的に行われます。 カスタム トランスレーターでは、このような削除の前に、文の数がプロジェクトの概要に表示されます。  

## <a name="length-filter"></a>長さフィルター
* 両側にある 1 ワードのみの文を削除します。
* 両側にある 100 ワードを超える文を削除します。  中国語、日本語、韓国語には適用されません。
* 3 文字未満の文を削除します。 中国語、日本語、韓国語には適用されません。
* 中国語、日本語、韓国語の 2,000 文字を超える文を削除します。
* アルファベットが 1% 未満の文を削除します。
* 50 単語を超える辞書エントリを削除します。

## <a name="white-space"></a>空白
* タブや CR/LF シーケンスを含む空白文字のシーケンスを単一の空白文字に置き換えます。
* 文の先頭または末尾のスペースを削除します。

## <a name="sentence-end-punctuation"></a>文末の句点
文末の複数の句点を単一のインスタンスに置き換えます。  

## <a name="japanese-character-normalization"></a>日本語の文字の正規化
全角のアルファベットと数字を半角文字に変換します。

## <a name="unescaped-xml-tags"></a>エスケープされていない XML タグ
フィルター処理によって、エスケープされていないタグをエスケープされたタグに変換します。
* `&lt;` は `&amp;lt;` になります
* `&gt;` は `&amp;gt;` になります
* `&amp;` は `&amp;amp;` になります

## <a name="invalid-characters"></a>無効な文字
カスタム トランスレーターでは、Unicode 文字 U+FFFD を含む文が削除されます。 文字 U+FFFD は、エンコード変換が失敗したことを示します。

## <a name="next-steps"></a>次の手順

- カスタム トランスレーターで[モデルをトレーニング](how-to-train-model.md)します。
