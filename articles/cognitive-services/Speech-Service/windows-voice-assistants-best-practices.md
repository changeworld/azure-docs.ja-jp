---
title: Windows の音声アシスタント - 設計ガイドライン
titleSuffix: Azure Cognitive Services
description: 音声エージェント エクスペリエンスを設計する際のベスト プラクティスに関するガイドライン。
services: cognitive-services
author: cfogg6
manager: spencer.king
ms.service: cognitive-services
ms.subservice: speech-service
ms.topic: conceptual
ms.date: 05/1/2020
ms.author: adamwa
ms.openlocfilehash: a9145c7c26f4d6caa1679052035b36f1ae88f878
ms.sourcegitcommit: 958f086136f10903c44c92463845b9f3a6a5275f
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/20/2020
ms.locfileid: "83714782"
---
# <a name="design-assistant-experiences-for-windows-10"></a>Windows 10 のアシスタント エクスペリエンスを設計する

Windows 10 上で開発される音声アシスタントでは、以下のユーザー エクスペリエンス ガイドラインを実装して、Windows 10 上での音声によるアクティブ化に最適なエクスペリエンスを提供する必要があります。 このドキュメントでは、開発者向けに、音声アシスタントを Windows 10 シェルに統合するために必要な主要作業について説明します。

## <a name="contents"></a>内容

- [Windows 10 でサポートされている音声によるアクティブ化ビューの概要](#summary-of-voice-activation-views-supported-in-windows-10)
- [要件の概要](#requirements-summary)
- [優れたリスニング エクスペリエンスのためのベスト プラクティス](#best-practices-for-good-listening-experiences)
- [アプリ内での音声によるアクティブ化の設計ガイダンス](#design-guidance-for-in-app-voice-activation)
- [ロックされた状態での音声によるアクティブ化の設計ガイダンス](#design-guidance-for-voice-activation-above-lock)
- [音声によるアクティブ化のプレビューの設計ガイダンス](#design-guidance-for-voice-activation-preview)

## <a name="summary-of-voice-activation-views-supported-in-windows-10"></a>Windows 10 でサポートされている音声によるアクティブ化ビューの概要

Windows 10 は、デバイスのコンテキストに基づいて、顧客コンテキストのアクティブ化エクスペリエンスを推論します。 次の概要の表に、画面がオンになっているときに使用できるさまざまなビューの概要を示します。

| ビュー (提供状況) | デバイスのコンテキスト | 顧客がしたいこと | 表示されるタイミング | 設計のニーズ |
| --- | --- | --- | --- | --- |
| **アプリ内 (2019 年前半)** | ロック解除状態で、アシスタントにフォーカスがある | アシスタント アプリを対話的に操作する | アシスタントがアプリ内で要求を処理するとき | メイン アプリ内ビューでのリスニング エクスペリエンス |
| **ロックされた状態 (2019 年後半)** | ロックされた状態、未認証 | 離れた場所からアシスタントを対話的に操作する | システムがロックされており、アシスタントがアクティブ化を要求するとき | 離れた場所からでも UI が見える全画面表示のビジュアル。 終了ポリシーを実装して、ロック解除をブロックしないようにする。 |
| **音声によるアクティブ化のプレビュー (2020 年前半)** | ロック解除状態で、アシスタントにフォーカスがない | アシスタントを対話的に操作するが、介入は少ない | システムはロック解除状態で、アシスタントがバックグラウンドでのアクティブ化を要求するとき | 最小のキャンバス。 サイズを変更するか、必要に応じてメイン アプリ ビューにハンドオフする。 |

## <a name="requirements-summary"></a>要件の概要

最小限の労力で、さまざまなエクスペリエンスにアクセスできる必要があります。 ただし、アシスタントには、ビューごとに適切な設計ガイダンスが実装されていなければなりません。 次の表に、従う必要がある要件のチェックリストを示します。

| **音声によるアクティブ化ビュー** | **アシスタントの要件の概要** |
| --- | --- |
| **アプリ内** | <ul><li>アプリ内で要求を処理する</li><li>リッスン状態を示す UI インジケーターを提供する</li><li>ウィンドウ サイズの変化に合わせて UI が変化する</li></ul> |
| **ロックされた状態** | <ul><li>ロックされた状態を検出し、アクティブ化を要求する</li><li>Windows のロック画面へのアクセスをブロックする常に永続的な UX を提供しない</li><li>全画面表示のビジュアルと音声最優先のエクスペリエンスを提供する</li><li>下記の終了ガイダンスを優先する</li><li>プライバシーとセキュリティに関する下記の考慮事項に従う</li></ul> |
| **音声によるアクティブ化のプレビュー** | <ul><li>ロック解除状態を検出し、バックグラウンドでのアクティブ化を要求する</li><li>プレビュー ペインに最小のリスニング UX を描画する</li><li>閉じるための [X] を右上に描画し、押されたときに自己終了してオーディオのストリーミングを停止する</li><li>サイズを変更するか、必要に応じてメインのアシスタント アプリ ビューにハンドオフして、回答を提供する</li></ul> |

## <a name="best-practices-for-good-listening-experiences"></a>優れたリスニング エクスペリエンスのためのベスト プラクティス

アシスタントでは、顧客がアシスタントの状態を理解できるように、重要なフィードバックを提供するリスニング エクスペリエンスを構築する必要があります。 アシスタントのエクスペリエンスを構築する際に検討する必要があるいくつかの状態を、以下に示します。 これらは、必須のガイダンスではなく、考えうる提案にすぎません。

- アシスタントを音声入力に使用できる
- アシスタントがアクティブ化の処理中である (キーワードまたはマイク ボタンの押下)
- アシスタントが積極的にオーディオをアシスタント クラウドにストリーム配信している
- 顧客がいつでも話し始めることができるよう、アシスタントの準備が整っている
- アシスタントが単語が発音されているのを聞いている
- アシスタントが、顧客が話し終えたことを理解している
- アシスタントが応答を処理および準備している
- アシスタントが応答している

状態が急速に変化する場合でも、状態に応じた UX を提供することを検討してください。状態の存続時間は Windows エコシステム全体でさまざまであるからです。 視覚的なフィードバックに加えて、短いチャイム音やチャープ音 (&quot;イアコン&quot; とも呼ばれます) をソリューションに含めることができます。 同様に、ビジュアル カードと音声による説明の組み合わせは、適切な応答オプションとなります。

## <a name="design-guidance-for-in-app-voice-activation"></a>アプリ内での音声によるアクティブ化の設計ガイダンス

アシスタント アプリにフォーカスがある場合、顧客の意図は明らかにアプリを対話的に操作することであるため、音声によるすべてのアクティブ化エクスペリエンスをメイン アプリ ビューで処理する必要があります。 このビューのサイズは、顧客によって変更される可能性があります。 アシスタント シェルとの対話的操作を説明しやすくするために、このドキュメントの残りの部分では、具体例として Contoso という名前の金融サービス アシスタントを使用します。 下の図や後続の図では、顧客の発話は左側の吹き出しに表示され、アシスタントの応答は右側の吹き出しに表示されています。

**アプリ内ビュー。音声によるアクティブ化が開始されるときの初期状態:** 
![アクティブ化の前の、Windows 上の音声アシスタントのスクリーンショット](media/voice-assistants/windows_voice_assistant/initial_state.png)

**アプリ内ビュー。音声によるアクティブ化が成功すると、リスニング エクスペリエンスが開始されます:** ![音声アシスタントがリッスンしているときの、Windows 上の音声アシスタントのスクリーンショット](media/voice-assistants/windows_voice_assistant/listening.png)

**アプリ内ビュー。すべての応答がアプリのエクスペリエンス内に保持されています。** ![アプリが応答する際の、Windows 上の音声アシスタントのスクリーンショット](media/voice-assistants/windows_voice_assistant/response.png)

## <a name="design-guidance-for-voice-activation-above-lock"></a>ロックされた状態での音声によるアクティブ化の設計ガイダンス

2019 年後半以降、Windows の音声によるアクティブ化プラットフォーム上に構築されたアシスタントでは、ロックされた状態で回答できるようになっています。

### <a name="customer-opt-in"></a>顧客によるオプトイン

ロックされた状態での音声によるアクティブ化は、既定では常に無効になっています。 顧客は、[Windows の設定]、[プライバシー]、[音声によるアクティブ化] の順にクリックして有効にできます。 この設定の監視とプロンプトの詳細については、[ロックされた状態での実装のガイド](windows-voice-assistants-implementation-guide.md#detecting-above-lock-activation-user-preference)をご覧ください。

### <a name="not-a-lock-screen-replacement"></a>ロック画面の代替ではない

通知などのロック画面での標準的なアプリ統合ポイントはアシスタントでも引き続き使用できますが、Windows のロック画面では、音声によるアクティブ化が行われるまでの初期カスタマー エクスペリエンスが常に定義されています。 音声によるアクティブ化が検出されると、アシスタント アプリがロック画面上に一時的に表示されます。 顧客の混乱を避けるために、ロック状態が有効になっているときに、アシスタント アプリによって資格情報やログインを要求する UI が決して表示されないようにする必要があります。

![Windows のロック画面のスクリーンショット](media/voice-assistants/windows_voice_assistant/lock_screen1.png)

### <a name="above-lock-experience-following-voice-activation"></a>音声によるアクティブ化に続くロック状態でのエクスペリエンス

画面がオンの場合、アシスタント アプリは、ロック画面上にタイトル バーがない状態で全画面表示になります。 大画面のビジュアルと音声優先のインターフェイスによる強力な音声説明が備わっていると、顧客が離れていて UI を読み取れなかったり、別の (PC 以外の) 作業に手を取られていたりするようなケースに対応できます。

画面がオフのままになっている場合、アシスタント アプリはイアコンを再生して、アシスタントがアクティブであることを示し、音声のみのエクスペリエンスを提供します。

![ロック状態での音声アシスタントのスクリーンショット](media/voice-assistants/windows_voice_assistant/above_lock_listening.png)

### <a name="dismissal-policies"></a>終了ポリシー

このセクションで説明する終了ガイダンスをアシスタントに実装して、ユーザーが次に Windows PC を使用するときに簡単にログインできるようにする必要があります。 次に示すのは、アシスタントが実装する必要がある具体的な要件です。

- **ロック状態で表示されるすべてのアシスタント キャンバスには、アシスタントを閉じるための [X]** が画面右上に必要です。
- **任意のキーを押すことで、アシスタント アプリを終了できる必要があります**。 キーボード入力は従来から、顧客がログインを希望していることをロック状態でのアプリに示すための信号です。 そのため、キーボードまたはテキスト入力はアプリに送信されません。 代わりに、アプリはキーボード入力を検出すると自己終了する必要があり、これによって顧客は自分のデバイスに簡単にログインすることができます。
- **画面がオフになっている場合は、アプリは自己終了する必要があります。** これにより、次に顧客が PC を使用するときに、ログイン画面が準備され、表示されます。
- アプリが &quot;使用中&quot; である場合は、ロック状態で継続されることがあります。 &quot;使用中&quot; には、あらゆる入力や出力が行われます。 たとえば、音楽またはビデオをストリーム配信している場合、ロック状態でアプリを継続できます。 ロック状態でアプリを維持するために、&quot;後続&quot; およびその他の複数ターン ダイアログの手順は許可されています。
- **アプリケーションの終了の実装方法の詳細**については、[ロック状態での実装ガイド](windows-voice-assistants-implementation-guide.md#closing-the-application)に関するページをご覧ください。

![アクティブ化前の、Windows の音声アシスタントのスクリーンショット](media/voice-assistants/windows_voice_assistant/above_lock_response.png)

![アクティブ化前の、Windows の音声アシスタントのスクリーンショット](media/voice-assistants/windows_voice_assistant/lock_screen2.png)

### <a name="privacy-amp-security-considerations-above-lock"></a>ロック状態でのプライバシーおよびセキュリティに関する考慮事項

多くの PC は持ち運びできますが、常に顧客の手の届く範囲に置けるとは限りません。 ホテルの部屋、航空機の座席、作業場所など、短時間ではあれ他の人が物理的にアクセスできる場所に放置されることもあります。 ロック状態で有効になっているアシスタントへの対応がない場合、いわゆる &quot;[悪意あるメイド](https://en.wikipedia.org/wiki/Evil_maid_attack)&quot; 攻撃にさらされる可能性があります。

そのため、このセクションのガイダンスに従って、アシスタントのセキュリティを維持する必要があります。 ロック状態でのやり取りは、Windows のユーザーが認証されていないときに行われます。 これは、通常、**アシスタントへの入力も未認証として扱われる必要があることを意味します**。

- アシスタントでは、ロック状態でアクセスしても**セキュリティで保護されており安全であることが確認されているスキルを識別するスキル ホワイトリストを実装する**必要があります。
- スピーカー ID テクノロジは、一部のリスクを軽減する役割を果たすことはできますが、Windows 認証に代わるものではありません。
- スキル ホワイトリストでは、次の 3 種類のアクションやスキルを検討する必要があります。

| **アクションの種類** | **説明** | **例 (完全な一覧ではありません)** |
| --- | --- | --- |
| 認証なしでも安全なアクション | 汎用的な情報またはアプリの基本的なコマンドとコントロール | &quot;いま何時?&quot;、&quot;次のトラックを再生して&quot; |
| スピーカー ID を使用することで安全が確保されるアクション | 偽装のリスク、個人情報の遺漏。 | &quot;次の予定は何?&quot;、&quot;買い物リストを確認して&quot;、&quot;呼びかけに応えて&quot; |
| Windows 認証後にのみ安全が確保されるアクション | 攻撃者が顧客に害を及ぼすために使用する、リスクの高いアクション | &quot;他にも食料品を買って&quot;、&quot;(重要な) 予定を削除して&quot;、&quot;(意地悪な) テキスト メッセージを送って&quot;、&quot;(悪質な) Web ページを開いて&quot; |

Contoso のケースでは、公開されている株式に関する一般情報は認証なしでも安全です。 所有している株式の数など、顧客固有の情報は、スピーカー ID を使用することで安全が確保されると思われます。 ただし、Windows 認証を使用せずに株式の売買を行うことはできません。

エクスペリエンスをさらにセキュリティで保護するために、**顧客がサインインするまでは、WebLink などのアプリ間での起動は常に Windows によってブロックされます。** 最終手段の軽減策として、重大なセキュリティ問題が適時に対処されない場合、Microsoft は有効なアシスタントのホワイトリストからアプリケーションを削除する権利を留保しています。

## <a name="design-guidance-for-voice-activation-preview"></a>音声によるアクティブ化のプレビューの設計ガイダンス

ロック解除された状態で、アシスタント アプリにフォーカスが "_ない_" 場合、顧客の作業フローを維持するために、Windows ではあまり介入的ではない、音声によるアクティブ化 UI が提供されています。 これは特に、アプリが完全に起動されると非常に破壊的な事態が発生するようなアクティブ化に当てはまります。 中心となる概念は、各アシスタントはシェル内に別のホーム (アシスタントのタスク バー アイコン) を持っているということです。 バックグラウンドでアクティブ化の要求が発生すると、アシスタントのタスク バー アイコンの上に小さなビューが表示されます。 アシスタントは、このキャンバスで小さなリスニング エクスペリエンスを提供します。 要求を処理した後、アシスタントはこのビューのサイズを変更してコンテキスト内の回答を表示するか、メイン アプリ ビューにハンドオフして、より詳細なビジュアルを表示するかを選択できます。

- 最小サイズにとどまるためには、プレビューにはタイトル バーを表示できないので、**アシスタントには右上に [X] を描画して、ユーザーがビューを閉じることができるようにする必要があります。** 閉じるボタンが押されたときに呼び出す具体的な API については、「[アプリケーションを閉じる](windows-voice-assistants-implementation-guide.md#closing-the-application)」を参照してください。
- 音声によるアクティブ化のプレビューをサポートするために、顧客は、初回実行時にアシスタントをタスク バーにピン留めするよう求められる場合があります。

**音声によるアクティブ化のプレビュー: 初期状態**

Contoso アシスタントには、タスク バーにホーム (渦巻きの円形アイコン) があります。

![アクティブ化前の、タスク バー アイコンとしての Windows の音声アシスタントのスクリーンショット](media/voice-assistants/windows_voice_assistant/pre_compact_view.png)

**アクティブ化が進行すると**、アシスタントはバックグラウンドでのアクティブ化を要求します。 アシスタントには、小さなプレビュー ペイン (既定の幅は 408、高さは 248) が与えられます。 サーバー側の音声によるアクティブ化によってシグナルが偽陽性であると判断されると、中断を最小限に抑えるために、このビューが破棄されることがあります。

![アクティブ化を確認しているときの、コンパクト ビューとしての Windows の音声アシスタントのスクリーンショット](media/voice-assistants/windows_voice_assistant/compact_view_activating.png)

**最終的にアクティブ化が確認されると**、アシスタントはリスニング UX を表示します。 アシスタントは常に、音声によるアクティブ化のプレビューの右上に、閉じるための [X] を描画する必要があります。

![コンパクト ビューでリスニングしている、Windows の音声アシスタントのスクリーンショット](media/voice-assistants/windows_voice_assistant/compact_view_listening.png)

**簡単な回答**が、音声によるアクティブ化のプレビューに表示される場合があります。 TryResizeView を使用すると、アシスタントがさまざまなサイズを要求できるようになります。

![コンパクト ビューで応答している、Windows の音声アシスタントのスクリーンショット](media/voice-assistants/windows_voice_assistant/compact_view_response.png)

**ハンドオフ**。 アシスタントはいつでも、メイン アプリ ビューにハンドオフして、より広い画面を必要とするより多くの情報、ダイアログ、回答を提供できます。 実装の詳細については、「[コンパクト ビューから完全ビューに切り替える](windows-voice-assistants-implementation-guide.md#transition-from-compact-view-to-full-view)」を参照してください。

![コンパクト ビューを展開する前と後の、Windows の音声アシスタントのスクリーンショット](media/voice-assistants/windows_voice_assistant/compact_transition.png)

## <a name="next-steps"></a>次のステップ

> [!div class="nextstepaction"]
> [音声アシスタントの開発を始める](how-to-windows-voice-assistants-get-started.md)