---
title: Anomaly Detector Multivariate API を使用するための予測メンテナンス アーキテクチャ
titleSuffix: Azure Cognitive Services
description: Anomaly Detector Multivariate API を使用して、予測メンテナンスのために時系列データに異常検出を適用するための参照アーキテクチャ。
services: cognitive-services
author: mrbullwinkle
manager: nitinme
ms.service: cognitive-services
ms.subservice: anomaly-detector
ms.topic: conceptual
ms.date: 04/01/2021
ms.author: mbullwin
keywords: 異常検出, 機械学習, アルゴリズム
ms.openlocfilehash: 4d379cfe01dcbd88531b98a32b45e0b30f6adeef
ms.sourcegitcommit: b4fbb7a6a0aa93656e8dd29979786069eca567dc
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/13/2021
ms.locfileid: "107318838"
---
# <a name="predictive-maintenance-solution-with-anomaly-detector-multivariate"></a>Anomaly Detector の多変量を使用する予測メンテナンス ソリューション

多くの異なる業界では、リスクを軽減し、機器からのデータを処理することによってアクションにつながる分析情報を得るために、予測メンテナンス ソリューションが必要です。 予測メンテナンスでは、オンライン監視を実行して機器の状態を評価します。 目標は、機器のパフォーマンスが低下したり、故障したりする前にメンテナンスを行うことです。

機器の正常性状態を監視することは困難な場合があります。これは、機器内の各コンポーネントで振動、定位、回転などの多数の信号が生成される可能性があるためです。  これは、それらの信号に暗黙的な関係があり、まとめて監視および分析する必要がある場合に、さらに複雑になることがあります。 それらの信号に対してさまざまな規則を定義し、それらを手動で相互に関連付けると、コストが高くなる可能性があります。 Anomaly Detector の多変量機能では、次のことが可能です。

* 複数の関連する信号をまとめて監視する。それらの間の相関関係はモデルで考慮されます。
* 取り込まれた各異常において、さまざまな信号の関与順位がその異常の説明とインシデントの根本原因分析に役立つ場合があります。
* 多変量異常検出モデルは、監視されていない方法でビルドされます。 さまざまな種類の機器専用のモデルをトレーニングすることができます。

ここでは、Anomaly Detector の多変量に基づく予測メンテナンス ソリューションの参照アーキテクチャを提供します。

## <a name="reference-architecture"></a>参照アーキテクチャ

[ ![1 つの産業機器を使用してエッジで収集されるセンサー データで始まり、処理/分析パイプラインをたどり、Anomaly Detector の実行後に生成されるインシデント アラートの出力で終わるアーキテクチャ図。](../media/multivariate-architecture/multivariate-architecture.png) ](../media/multivariate-architecture/multivariate-architecture.png#lightbox)

上記のアーキテクチャでは、センサー データからのストリーミング イベントは Azure Data Lake に格納されてから、データ変換モジュールによって処理されて時系列形式に変換されます。 その間、ストリーミング イベントによって、トレーニング済みのモデルでのリアルタイム検出がトリガーされます。 一般に、このアーキテクチャでは ''*ブリッジ サービス*'' のような、多変量モデルのライフ サイクルを管理するモジュールがあります。

**モデルのトレーニング**: Anomaly Detector の多変量を使用して、コンポーネントまたは機器の異常を検出する前。 このエンティティによって生成される特定の信号 (時系列) についてモデルをトレーニングする必要があります。 ''*ブリッジ サービス*'' では履歴データをフェッチし、Anomaly Detector にトレーニング ジョブを送信してから、''*モデル メタ*'' ストレージでモデル ID を保持します。

**モデルの検証**: 特定のモデルのトレーニング時間は、トレーニング データの量によって変わる可能性があります。 ''*ブリッジ サービス*'' では、モデルの状態と診断情報を定期的に照会することができます。 モデルの品質の検証は、オンラインにする前に行う必要があります。 シナリオにラベルがある場合は、それらのラベルを使用してモデルの品質を確認できます。 それ以外の場合は、診断情報を使用してモデルの品質を評価できます。また、トレーニング済みのモデルを使用して履歴データで検出を実行し、その結果を評価してモデルの有効性をバックテストすることもできます。

**モデルの推論**: 有効なモデルを使用してオンライン検出が実行されます。結果 ID は ''*推論テーブル*'' に格納できます。 トレーニング プロセスと推論プロセスはどちらも非同期的に実行されます。 一般に、検出タスクは数秒以内に完了できます。 検出に使用される信号は、トレーニングに使用されているものと同じである必要があります。 たとえば、トレーニングに振動、定位、回転を使用する場合は、3 つの信号を入力として含める必要があります。

**インシデント アラート** 検出結果は結果 ID で照会できます。 各結果には、各異常の重大度および関与順位が含まれます。 関与順位を使用して、この異常が発生した理由と、このインシデントの原因となった信号を把握できます。 重要度に応じて異なるしきい値を設定して、メンテナンス作業を行うためにフィールド エンジニアに送信されるアラートと通知を生成することができます。

## <a name="next-steps"></a>次のステップ

- [クイックスタート](../quickstarts/client-libraries-multivariate.md)。
- [ベスト プラクティス](../concepts/best-practices-multivariate.md): この記事は、Multivariate API で使用するために推奨されるパターンに関するものです。