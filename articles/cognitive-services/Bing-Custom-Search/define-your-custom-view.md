---
title: Bing Custom Search エクスペリエンスを構成する | Microsoft Docs
titleSuffix: Azure Cognitive Services
description: サイトおよび垂直検索サービスを作成する方法について説明します
services: cognitive-services
author: aahill
manager: nitinme
ms.service: cognitive-services
ms.subservice: bing-custom-search
ms.topic: conceptual
ms.date: 02/12/2019
ms.author: aahi
ms.openlocfilehash: e4ed781544d3cd11e8494e40589676adf57a9c75
ms.sourcegitcommit: 9dc7517db9c5817a3acd52d789547f2e3efff848
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/23/2019
ms.locfileid: "68405125"
---
# <a name="configure-your-bing-custom-search-experience"></a>Bing Custom Search エクスペリエンスを構成する

カスタム検索インスタンスでは、ユーザーが関心を寄せている Web サイトからのみのコンテンツを含むように、検索エクスペリエンスを調整できます。 Bing では、Web 全体の検索を実行するのではなく、関心のある Web のスライスのみを検索します。 Web のカスタム ビューを作成するには、Bing Custom Search [ポータル](https://customsearch.ai)を使用します。

ポータルでは、Web のスライス (ドメイン、サブページ、Web ページ) のうち、Bing で検索するものと検索しないものを指定する検索インスタンスを作成できます。 ポータルから、追加するべきコンテンツが提案されることもあります。

Web のスライスを定義するときは、以下を使用します。

| スライス名 | 説明                                                                                                                                                                                                                                                                                                |
|------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Domain     | ドメインのスライスには、インターネット ドメイン内で見つかったすべてのコンテンツが含まれます。 たとえば、「 `www.microsoft.com` 」のように入力します。 `www.` を省略すると、Bing ではドメインのサブドメインも検索します。 たとえば、`microsoft.com` を指定した場合は、Bing によって `support.microsoft.com` や `technet.microsoft.com` からの結果も返されます。 |
| サブページ    | サブページのスライスには、サブページとその下のパスで見つかったすべてのコンテンツが含まれます。 パスには最大 2 つのサブページを指定できます たとえば、`www.microsoft.com/en-us/windows/` のように指定します。                                                                                                                       |
| Web ページ    | Web ページのスライスは、カスタム検索に該当の Web ページのみを含めることができます。 必要に応じて、サブページを含めるかどうかを指定できます。                                                                                                                                                                                  |

> [!IMPORTANT]
> 指定するすべてのドメイン、サブページ、および Web ページはパブリックであり、Bing でインデックス設定されている必要があります。 検索に含めたいパブリック サイトを保有しており、Bing ではそのサイトにインデックスを設定していない場合は、Bing でのインデックスの取得に関する詳細について、 Bing の [Web 管理者ドキュメント](https://www.bing.com/webmaster/help/webmaster-guidelines-30fba23a)で確認してください。 また、インデックスが期限切れの場合は、クロールしたサイトの Bing での更新について、Web 管理者ドキュメントで確認してください。

## <a name="add-slices-of-the-web-to-your-custom-search-instance"></a>カスタム検索インスタンスに Web のスライスを追加する

カスタム検索インスタンスを作成するときに、Web のスライス (ドメイン、サブページ、Web ページ) のうち、検索結果に含めるものとブロックするものを指定できます。 

カスタム検索インスタンスに追加するスライスがわかっている場合、インスタンスの **[アクティブ]** 一覧に追加します。 

どのスライスを追加するかわからない場合は、 **[プレビュー]** ウィンドウで Bing に検索クエリを送信し、必要なスライスを選択することができます。 これを行うには、次の手順を実行します。 

1. [プレビュー] ウィンドウでドロップダウン リストから [Bing] を選択し、検索クエリを入力します

2. 追加する結果の横にある **[サイトの追加]** をクリックします。 次に、[OK] をクリックします。

>[!NOTE]
> [!INCLUDE[publish or revert](./includes/publish-revert.md)]

<a name="active-and-blocked-lists"></a>

### <a name="customize-your-search-experience-with-active-and-blocked-lists"></a>[アクティブ] 一覧と [ブロック] 一覧を使用して検索エクスペリエンスをカスタマイズする 

アクティブなスライスとブロックされたスライスの一覧にアクセスするには、カスタム検索インスタンスの **[アクティブ]** タブと **[ブロック]** タブをクリックします。 アクティブ一覧に追加されたスライスは、カスタム検索に含まれます。 ブロックされたスライスは検索されず、検索結果にも表示されません。

Bing で検索する Web のスライスを指定するには、 **[アクティブ]** タブをクリックして 1 つ以上の URL を追加します。 URL を編集または削除するには、 **[コントロール]** 列にあるオプションを使用します。 

**[アクティブ]** 一覧に URL を追加するときは、URL を 1 つずつ追加することも、アップロード アイコンを使用してテキスト ファイルをアップロードし、一度に複数の URL を追加することもできます。

![Bing Custom Search の [アクティブ] タブ](media/file-upload-icon.png)

ファイルをアップロードするには、テキスト ファイルを作成し、単一のドメイン、サブページ、および Web ページを 1 行ずつ指定します。 形式が正しくない場合、ファイルは拒否されます。

> [!NOTE]
> * ファイルは **[アクティブ]** 一覧にのみアップロードできます。 **[ブロック]** 一覧にスライスを追加するためには使用できません。  
> * アップロード ファイルに指定したドメイン、サブページ、または Web ページが **[ブロック]** 一覧に含まれている場合は、 **[ブロック]** 一覧から削除され、 **[アクティブ]** 一覧に追加されます。
> * アップロード ファイル内の重複したエントリは Bing Custom Search で無視されます。 

### <a name="get-website-suggestions-for-your-search-experience"></a>検索エクスペリエンスの Web サイトの候補を取得する

Web スライスを **[アクティブ]** 一覧に追加すると、Bing Custom Search ポータルによってタブの下部に Web サイトとサブページの候補が生成されます。これらは、ユーザーが含めたいであろうと Bing Custom Search によって推測されたスライスです。 カスタム検索インスタンスの設定を更新した後は、 **[更新]** をクリックして最新の候補を表示します。 このセクションは、候補がある場合にのみ表示されます。

## <a name="search-for-images-and-videos"></a>画像とビデオを検索する

[Bing Custom Image Search API](https://docs.microsoft.com/rest/api/cognitiveservices-bingsearch/bing-custom-images-api-v7-reference) または [Bing Custom Video Search API](https://docs.microsoft.com/rest/api/cognitiveservices-bingsearch/bing-custom-videos-api-v7-reference) を使用すると、Web コンテンツと同様に画像とビデオを検索できます。 このような結果は[ホステッド UI](hosted-ui.md) または API を使用して表示できます。 

このような API は、カスタムではない [Bing Image Search](../Bing-Image-Search/overview.md) API と [Bing Video Search](../Bing-Video-Search/search-the-web.md) API と似ていますが、Web 全体を検索するため、`customConfig` クエリ パラメーターは必要ありません。 画像やビデオの操作の詳細については、これらのドキュメント セットを参照してください。 

## <a name="test-your-search-instance-with-the-preview-pane"></a>[プレビュー] ウィンドウを使用して検索インスタンスをテストする

ポータルの右側にあるプレビュー ウィンドウを使用して検索インスタンスを試行し、検索クエリとビューの結果を送信することができます。 

1. 検索ボックスの下にある **[My Instance]\(マイ インスタンス\)** を選択します。 **[Bing]** を選択して、検索エクスペリエンスの結果を Bing と比較することができます。 
2. 安全な検索フィルターと検索する市場を選択します (「[クエリ パラメーター](https://docs.microsoft.com/rest/api/cognitiveservices-bingsearch/bing-custom-search-api-v7-reference#query-parameters)」を参照してください)。
3. クエリを入力し、Enter キーを押すか、または検索アイコンをクリックして、現在の構成から結果を表示します。 **[Web]** 、 **[画像]** 、または **[ビデオ]** のいずれかをクリックして実行する検索の種類を変更することで、対応する結果を取得できます。 

<a name="adjustrank"></a>

## <a name="adjust-the-rank-of-specific-search-results"></a>特定の検索結果のランクを調整する

ポータルを使用すると、特定のドメイン、サブページ、および Web ページからのコンテンツの検索ランキングを調整できます。 プレビュー ウィンドウで検索クエリを送信した後、各検索結果には調整できる一覧が表示されます。  

|            |                                                                                                                                                                      |
|------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ブロック      | ドメイン、サブページ、または Web ページを [ブロック] 一覧に移動します。 Bing では、選択したサイトのコンテンツが、検索結果の表示から除外されます。                    |
| 昇格      | 検索結果で、ドメインまたはサブページからのコンテンツを上位へ昇格させます。                                                                                        |
| 降格     | 検索結果で、ドメインまたはサブページからのコンテンツを下位へ降格させます。 該当の Web ページが属するドメインまたはサブページからのコンテンツを降格するかどうかを選択します。 |
| 一番上にピン留め | ドメイン、サブページ、または Web ページを **[ピン留め]** 一覧に移動します。 これにより、特定の検索クエリに対する検索結果の一番上にその Web ページが表示されます。                   |

順位の調整は、画像またはビデオの検索には使用できません。

### <a name="boosting-and-demoting-search-results"></a>検索結果の昇格と降格

**[アクティブ]** 一覧にある任意のドメインまたはサブページを特別昇格、昇格、または降格させることができます。 既定では、すべてのスライスが順位の調整なしで追加されます。 特別昇格または昇格された Web のスライスは、検索結果でより上位に表示されます (特別昇格される項目は、昇格される項目よりも上位)。 降格された項目は、検索結果でより下位に表示されます。

**[アクティブ]** 一覧の **[Ranking Adjust]\(ランク付けの調整\)** を使用するか、または [プレビュー] ウィンドウの [Boost and Demote]\(昇格と降格\) コントロールを使用して、項目を特別昇格、昇格、または降格させることができます。 サービスは [アクティブ] 一覧にスライスを追加し、それに伴ってランク付けを調整します。

> [!NOTE] 
> ドメインとサブページの昇格と降格は、Bing Custom Search で検索結果の順序を決定するために使用される数ある方法の 1 つです。 さまざまな Web コンテンツの順位付けに影響を与える他の要因があるため、順位調整の効果は異なる場合があります。 [プレビュー] ウィンドウを使用して、検索結果の順位調整の効果をテストします。 

特別昇格、昇格、および降格は、画像とビデオの検索には使用できません。

## <a name="pin-slices-to-the-top-of-search-results"></a>スライスを検索結果の一番上にピン留めする

ポータルでは、 **[ピン留め]** タブを使用して、特定の検索用語の検索結果の一番上に URL をピン留めすることもできます。URL とクエリを入力し、検索結果の一番上に表示する Web ページを指定します。 検索クエリごとに最大 1 つの Web ページをピン留めすることができ、インデックスを付けられた Web ページのみが検索で表示される点に注意してください。 結果のピン留めは、画像またはビデオの検索には使用できません。

Web ページを一番上にピン留めする方法は 2 つあります。

* **[ピン留め]** タブで、一番上にピン留めする Web ページの URL とそれに対応するクエリを入力します。

* **[プレビュー]** ウィンドウで、検索クエリを入力して、検索をクリックします。 クエリに対してピン留めする Web ページを見つけて、 **[先頭にピン留め]** をクリックします。 Web ページとクエリが **[ピン留め]** 一覧に追加されます。

### <a name="specify-the-pins-match-condition"></a>ピン留めの一致条件を指定する

既定では、ユーザーのクエリ文字列が **[ピン留め]** 一覧に表示されているものと完全に一致する場合にのみ、Web ページが検索結果の一番上にピン留めされます。 次の一致条件のいずれかを指定することで、この動作を変更できます。

> [!NOTE]
> ユーザーの検索クエリとピンの検索クエリの比較では、大文字と小文字が区別されません。

| 値 | 説明                                                                          |
|---------------|----------------------------------------------------------------------------------|
| 次の値で始まる | ユーザーのクエリ文字列がピンのクエリ文字列で始まる場合、ピンは一致します。 |
| 次の値で終わる   | ユーザーのクエリ文字列がピンのクエリ文字列で終わる場合、ピンは一致します。  |
| Contains    | ユーザーのクエリ文字列にピンのクエリ文字列が含まれる場合、ピンは一致します。   |


ピンの一致条件を変更するには、ピンの編集アイコンをクリックします。 **[Query match condition]\(クエリの一致条件\)** 列で、ドロップダウン リストをクリックして、使用する新しい条件を選択します。 その後、保存アイコンをクリックして変更を保存します。

### <a name="change-the-order-of-your-pinned-sites"></a>ピン留めされたサイトの順序を変更する

ピンの順序を変更するには、ドラッグ アンド ドロップするか、 **[ピン留め]** 一覧の **[コントロール]** 列にある [編集] アイコンをクリックして順序の番号を編集します。

複数のピンが一致条件を満たす場合、Bing Custom Search では一覧の中で最上位のピンが使用されます。

## <a name="view-statistics"></a>統計を表示する

適切なレベルで Custom Search にサブスクライブすると ([価格のページ](https://azure.microsoft.com/pricing/details/cognitive-services/bing-custom-search/)を参照)、実稼働インスタンスに **[統計]** タブが追加されます。 [統計] タブには、通話ボリューム、上位のクエリ、地理的分散、応答コード、セーフ サーチなど、Custom Search の使用状況に関する詳細情報が表示されます。 提供されているコントロールを使用して、詳細情報をフィルター処理できます。

## <a name="usage-guidelines"></a>使用上のガイドライン

- カスタム検索インスタンスごとに、 **[アクティブ]** と **[ブロック]** のスライスに対して設定できるランク付け調整の最大数は 400 に制限されています。
- スライスを [アクティブ] または [ブロック] タブに追加すると、1 回のランク付け調整としてカウントされます。
- 昇格および降格を行うと、2 回のランク付け調整としてカウントされます。
- カスタム検索インスタンスごとに、設定できるピンの最大数は 200 に制限されています。

## <a name="next-steps"></a>次の手順

- [カスタム検索の呼び出し](./search-your-custom-view.md)
- [ホストされている UI エクスペリエンスの構成](./hosted-ui.md)
- [装飾マーカーを使用してテキストを強調表示する](./hit-highlighting.md)
- [Web ページのページング](./page-webpages.md)
