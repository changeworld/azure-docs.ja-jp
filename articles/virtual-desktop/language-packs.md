---
title: Windows Virtual Desktop の Windows 10 VM に言語パックをインストールする - Azure
description: Windows Virtual Desktop で Windows 10 マルチセッション VM の言語パックをインストールする方法について説明します。
services: virtual-desktop
author: Heidilohr
ms.service: virtual-desktop
ms.topic: conceptual
ms.date: 04/03/2020
ms.author: helohr
manager: lizross
ms.openlocfilehash: c40df9d821e069e2cd5ff0c42d5841f6b9041c96
ms.sourcegitcommit: d597800237783fc384875123ba47aab5671ceb88
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/03/2020
ms.locfileid: "80634132"
---
# <a name="install-language-packs"></a>言語パックをインストールする

Windows Virtual Desktop のデプロイを国際的にセットアップする場合は、該当のデプロイで複数の言語がサポートされていることを確認することをお勧めします。 Windows 10 Enterprise マルチセッション仮想マシン (VM) イメージに言語パックをインストールして、組織に必要な数の言語をサポートすることができます。 この記事では、言語パックをインストールする方法と、ユーザーが独自の表示言語を選択できるようにイメージをキャプチャする方法について説明します。

Azure で VM をデプロイする方法の詳細については、「[Azure portal を使用して可用性ゾーンに Windows 仮想マシンを作成する](../virtual-machines/windows/create-portal-availability-zone.md)」を参照してください。

>[!NOTE]
>この記事は、Windows 10 Enterprise マルチセッション VM に適用されます。

## <a name="install-a-language-pack"></a>言語パックをインストールする

言語パックを使用して VM イメージを作成するには、まず言語パックをコンピューターにインストールし、そのイメージをキャプチャする必要があります。

言語パックをインストールするには、次のようにします。

1. 管理者としてサインインします。
2. Windows および Windows ストアの最新の更新プログラムがすべてインストールされていることを確認します。
3. **[設定]**  >  **[時刻と言語]**  >  **[地域]** に移動します。
4. **[国または地域]** で、ドロップダウン メニューから目的の国または地域を選択します。
    この例では、次のスクリーンショットに示されているように**フランス**を選択します。

    ![[地域] ページのスクリーン ショット。 現在選択されている地域はフランスです。](media/region-page-france.png)

5. その後、 **[言語]** を選択し、 **[言語の追加]** を選択します。 インストールする言語を一覧から選択し、 **[次へ]** を選択します。
6. **[言語機能のインストール]** ウィンドウが開いたら、 **[Install language pack and set as my Windows display language]\(言語パックをインストールし、Windows の表示言語として設定する\)** というラベルのチェック ボックスをオンにします。
7. **[インストール]** を選択します。
8. 複数の言語を一度に追加するには、 **[言語の追加]** を選択し、手順 5 と 6 の言語を追加するプロセスを繰り返します。 インストールする各言語について、このプロセスを繰り返します。 ただし、表示言語として一度に設定できる言語は 1 つだけです。

    ここで、簡単な視覚的デモンストレーションを見てみましょう。 次の図は、フランス語とオランダ語の言語パックをインストールし、フランス語を表示言語として設定する方法を示しています。

    ![プロセスの開始時の言語ページのスクリーンショット。 選択した Windows 表示言語は英語です。](media/language-page-default.png)

    ![言語選択ウィンドウのスクリーンショット。 フランス語の言語パッケージを検索するために、ユーザーが検索バーに「フランス語」と入力しました。](media/select-language-french.png)

    ![言語機能のインストール ページのスクリーンショット。 優先言語としてフランス語が選択されています。 選択するオプションは、[表示言語として設定する]、[言語パックのインストール]、[音声認識]、および [手書き入力] です。](media/install-language-features.png)

    言語パックをインストールすると、その言語パックの名前が言語の一覧に表示されます。

    ![新しい言語パックがインストールされた言語ページのスクリーンショット。 フランス語およびオランダ言語パックが、[優先する言語] の下に一覧表示されます。](media/language-page-complete.png)

9. セッションからサインアウトするよう求めるウィンドウが表示された場合、 サインアウトし、もう一度サインインします。 これで、選択した言語が表示言語になります。

10.  **[コントロール パネル]**  >  **[時計と地域]**  >  **[地域]** に移動します。

11.  **[地域]** ウィンドウが開いたら、 **[管理]** タブを選択し、 **[設定のコピー]** を選択します。

12.  **[ようこそ画面とシステム アカウント]** および **[新しいユーザー アカウント]** というラベルのチェック ボックスをオンにします。

13.  **[OK]** を選択します。

14.  ウィンドウが開き、セッションを再起動するように指示されます。 **[今すぐ再起動]** を選択します。

15.  もう一度サインインした後、 **[コントロール パネル]**  >  **[時計と地域]**  >  **[地域]** に戻ります。

16.  **[管理]** タブを選択します。

17.  **[システム ロケール変更]** を選択します。

18. **[現在のシステム ロケール]** の下にあるドロップダウン メニューで、使用するロケール言語を選択します。 その後、 **[OK]** を選択します。

19. **[今すぐ再起動]** を選択して、もう一度セッションを再起動ます。

これで、言語パックがインストールされました。

続行する前に、お使いのシステムに最新バージョンの Windows および Windows ストアがインストールされていることを確認してください。

## <a name="sysprep"></a>Sysprep

次に、コンピューターの Sysprep を実行して、イメージ キャプチャ プロセス用に準備する必要があります。

コンピューターの Sysprep を実行するには、次のようにします。

1. PowerShell を管理者として開きます。
2. 次のコマンドレットを実行して、正しいディレクトリに移動します。
   
    ```powershell
    cd Windows\System32\Sysprep
    ```

3. 次に、次のコマンドレットを実行します。
    
    ```powershell
    .\sysprep.exe
    ```

4. [システム準備ツール] ウィンドウが開いたら、 **[一般化する]** というラベルのチェック ボックスをオンにし、 **[シャットダウン オプション]** に移動して、ドロップダウン メニューから **[シャットダウン]** を選択します。

>[!NOTE]
>Syprep プロセスが完了するまで数分かかります。 VM がシャットダウンすると、リモート セッションが切断されます。

### <a name="resolve-sysprep-errors"></a>Sysprep エラーを解決する

Sysprep プロセス中にエラー メッセージが表示された場合は、次の手順を実行する必要があります。

1. **ドライブ C** を開き、**Windows** > **System32 Sysprep** > **Panther** に移動して、**setuperr** ファイルを開きます。

   次の図に示すように、エラー ファイルのテキストは、特定の言語パッケージをアンインストールする必要があることを示しています。 次の手順で使用する言語パッケージ名をコピーします。

   ![setuperr ファイルのスクリーンショット。 パッケージ名を含むテキストが濃い青で強調表示されています。](media/setuperr-package-name.png)

2. 新しい PowerShell ウィンドウを開き、手順 2 でコピーしたパッケージ名を使用して次のコマンドレットを実行し、その言語パッケージを削除します。

   ```powershell
   Remove-AppxPackage <package name>
   ```

3. `Remove-AppxPackage` コマンドレットを再度実行して、パッケージが削除されたことを確認します。 パッケージが正常に削除された場合は、削除しようとしているパッケージが存在しないことを示すメッセージが表示されます。

4. `sysprep.exe` コマンドレットを再び実行します。

## <a name="capture-the-image"></a>イメージのキャプチャ

システムの準備ができたため、イメージをキャプチャすることで、他のユーザーが構成プロセスを繰り返すことなく、お使いのシステムに基づいて VM の使用を開始できるようになりました。

イメージをキャプチャするには、次のようにします。

1. Azure portal に移動して、「[言語パックをインストールする](#install-a-language-pack)」および「[Sysprep](#sysprep)」で構成したコンピューターの名前を選択します。

2. **[キャプチャ]** を選択します。

3. 次の図に示すように、 **[名前]** フィールドにイメージの名前を入力し、 **[リソース グループ]** ドロップダウン メニューを使用してそれをリソース グループに割り当てます。

   ![[イメージの作成] ウィンドウのスクリーンショット。 ユーザーがこのテスト イメージに指定した名前は "vmwvd-image-fr" であり、これが "testwvdimagerg" リソース グループに割り当てられています。](media/create-image.png)

4. **［作成］** を選択します

5. キャプチャ プロセスが完了するまで数分待ちます。 イメージの準備が整うと、イメージがキャプチャされたことを知らせるメッセージが通知センターに表示されます。

新しいイメージを使用して VM をデプロイできるようになりました。 VM をデプロイするときは、「[Azure portal を使用して可用性ゾーン内に Windows 仮想マシンを作成する](../virtual-machines/windows/create-portal-availability-zone.md)」の手順に従ってください。

### <a name="how-to-change-display-language-for-standard-users"></a>標準ユーザーの表示言語を変更する方法

標準ユーザーは自分の VM の表示言語を変更できます。

表示言語を変更するには、次のようにします。

1. **[言語の設定]** に移動します。 その場所がわからない場合は、[スタート] メニューの検索バーに「**言語**」と入力します。

2. [Windows の表示言語] ドロップダウン メニューで、表示言語として使用する言語を選択します。

3. セッションからサインアウトし、もう一度サインインします。 これで、手順 2 で選択したものが表示言語になります。
