<properties 
    pageTitle="DocumentDB の一般的なユース ケース | Microsoft Azure" 
    description="DocumentDB の上位 5 つのユース ケース、ユーザーが生成したコンテンツ、イベントのログ記録、カタログ データ、ユーザー設定のデータ、およびモノのインターネット (IoT) について説明します。" 
    services="documentdb" 
    authors="h0n" 
    manager="jhubbard" 
    editor="monicar" 
    documentationCenter=""/>

<tags 
    ms.service="documentdb" 
    ms.workload="data-services" 
    ms.tgt_pltfrm="na" 
    ms.devlang="na" 
    ms.topic="article" 
    ms.date="07/10/2015" 
    ms.author="hawong"/>

# DocumentDB の一般的なユース ケース
この記事では、DocumentDB の一般的なユース ケースの概要について説明します。この記事に記載されている推奨事項は、DocumentDB を使用してアプリケーションを開発する際の出発点として利用できます。

この記事を読むと、次の質問に回答できるようになります。
 
- DocumentDB の一般的なユース ケースにはどのようなものがあるか。
- ユーザーが生成したコンテンツのストアとして DocumentDB を使用する利点は何か。
- カタログ データ ストアとして DocumentDB を使用する利点は何か。
- イベント ログ ストアとして DocumentDB を使用する利点は何か。
- ユーザー設定データのストアとして DocumentDB を使用する利点は何か。
- モノのインターネット (IoT) システムのデータ ストアとして DocumentDB を使用する利点は何か。

    
## ユーザーが生成したコンテンツ
DocumentDB の一般的なユース ケースとして、Web アプリケーションやモバイル アプリケーション、特にソーシャル メディア アプリケーション向けにユーザーが生成したコンテンツ (UGC) の保存とクエリの実行があります。UGC の例には、チャット セッション、ツイート、ブログの投稿、評価、コメントなどがあります。ソーシャル メディア アプリケーション内の UGC は、多くの場合、厳格な構造による制約のない、自由形式のテキスト、プロパティ、タグ、およびリレーションシップが組み合わさったものです。

チャット、コメント、投稿などのコンテンツは DocumentDB に格納でき、変換や複雑なオブジェクト リレーショナル マッピング層は必要ありません。開発者がアプリケーション コードを反復処理する際、要件に合うようにデータのプロパティを簡単に追加または変更できるため、迅速な開発が促進されます。

さまざまなソーシャル ネットワークを統合するアプリケーションは、これらのネットワークから届くスキーマの変更に応答する必要があります。DocumentDB では既定で自動的にデータにインデックスが設定されるため、データに対していつでもクエリを実行できます。これにより、これらのアプリケーションでは、それぞれのニーズに応じて柔軟にプロジェクションを取得できます。

ソーシャル アプリケーションの多くが世界規模で実行されており、予測できない使用パターンが発生することがあります。アプリケーション層は使用ニーズを満たすようにスケールするため、データ ストアを柔軟にスケールできることがきわめて重要です。DocumentDB では、DocumentDB アカウントにデータのパーティションを追加することでスケールアウトできます。また、複数のリージョンにわたって追加の DocumentDB アカウントを作成することもできます。DocumentDB サービス リージョンの可用性については、「[Azure のリージョン](http://azure.microsoft.com/regions/#services)」を参照してください。

## カタログ データ
カタログ データの使用シナリオでは、人物、場所、製品などのエンティティの一連の属性について保存とクエリが実行されます。カタログ データの例には、ユーザー アカウント、製品カタログ、IoT のデバイス レジストリ、部品表システムなどがあります。これらのデータの属性は、アプリケーションの要件によって異なり、さらに時間の経過と共に変化する場合があります。

自動車部品メーカーの製品カタログの例を考えてみましょう。各部品には、すべて部品に共通の属性に加えて、それぞれに固有の属性があります。また、特定の部品の属性は、翌年に新しいモデルがリリースされたときに変更されることがあります。DocumentDB は JSON ドキュメント ストアとして柔軟なスキーマをサポートしているため、入れ子になったプロパティを持つデータを表現できます。この利点は、製品カタログ データを格納するのに適しています。

## ログ データ
アプリケーションのログ記録はたいてい出力が大量になるものですが、その記録にはデプロイされているアプリケーションのバージョンやコンポーネントのログ記録イベントに応じて、さまざまな属性が含まれる場合があります。ログ データには、複雑なリレーションシップや厳格な構造による制約がありません。また、ログ データは、軽量で人間が読みやすい JSON 形式で保持される傾向が増えています。
   
イベント ログ データに関連する一般的なユースケースは、主に 2 つあります。1 つ目のユース ケースは、トラブルシューティングのためにデータのサブセットに対してアドホック クエリを実行するケースです。トラブルシューティングでは、最初にデータのサブセットがログから、通常は時系列に沿って取得されます。次に、データセットがエラー レベルまたはエラー メッセージでフィルター処理されて、ドリル ダウンが実行されます。このとき、DocumentDB にイベント ログが格納されているメリットが発揮されます。DocumentDB に格納されたログ データには既定で自動的にインデックスが設定されるため、データに対していつでもクエリを実行できます。さらに、ログ データは、データのパーティションに時系列で保持できます。設定した保持ポリシーに従って古いログをコールド ストレージにロールアウトすることができます。

2 つ目のユース ケースは、大量のログ データに対して長時間に及ぶデータ分析ジョブをオフラインで実行するケースです。このユース ケースの例には、サーバーの可用性の分析、アプリケーション エラーの分析、クリック ストリーム データの分析などがあります。一般的に、このような種類の分析には Hadoop が使用されます。DocumentDB 用 Hadoop コネクタを使用すれば、DocumentDB データベースが Pig、Hive、Map/Reduce の各ジョブのデータ ソースおよびシンクとして機能します。DocumentDB 用 Hadoop コネクタの詳細については、[DocumentDB と HDInsight を使用した Hadoop ジョブの実行](documentdb-run-hadoop-with-hdinsight/)に関するページを参照してください。

## ユーザー設定のデータ
今日では、最新の Web アプリケーションやモバイル アプリケーションのほとんどに複雑なビューとエクスペリエンスが付属しています。これらのビューとエクスペリエンスはたいてい動的で、ユーザーの設定や気分、ブランドのニーズに対応します。そのため、アプリケーションは、UI 要素とエクスペリエンスをすばやく表示するために、個人用設定を効率よく取得できる必要があります。

JSON は、軽量なうえに JavaScript で容易に解釈できるため、UI レイアウト データを表すのに効果的な形式です。DocumentDB は、チューニング可能な一貫性レベルを提供し、高速な読み取りと待機時間の短い書き込みを実現します。これにより、個人用設定を含む UI レイアウト データを DocumentDB に JSON ドキュメントとして格納すれば、これらのデータをネットワーク経由で効率よく取得することができます。

## デバイス センサー データ
IoT のユース ケースでは、データの取り込み、処理、および格納の方法にいくつかの共通パターンがあります。まず、これらのシステムにおけるデータ取り込みでは、さまざまなロケールのデバイス センサーから大量のデータを取り込むことができます。次に、これらのシステムではストリーミング データを処理および分析して、インサイトをリアルタイムで導き出しています。最後に重要なこととして、すべてではないとしても大部分のデータが最終的には、アドホック クエリやオフラインでの分析用にデータ ストアに格納されます。

Microsoft Azure では、IoT のユース ケースで利用できる充実したサービスを提供しています。Azure の IoT サービスは、Azure Event Hubs、Azure DocumentDB、Azure Stream Analytics、Azure Notification Hub、Azure Machine Learning、Azure HDInsight、および PowerBI を含むサービスのセットです。

大量データの取り込みは、待機時間が短く高スループットのデータ取り込みが可能な Azure Event Hubs で実行できます。取り込んだデータを処理し、リアルタイムのインサイトを得る必要がある場合は、Azure Stream Analytics にデータを投入してリアルタイムで分析できます。DocumentDB にデータを読み込めば、アドホック クエリを実行できます。データが DocumentDB に読み込まれれば、いつでもデータにクエリを実行できます。DocumentDB 内のデータは、リアルタイム分析において参照データとして使用できます。さらに、Pig、Hive、または Map/Reduce のジョブ用に DocumentDB データを HDInsight に接続し、データをさらに絞り込んで処理できます。絞り込んだデータは DocumentDB に再度読み込んでレポート作成に使用できます。

DocumentDB、Event Hubs、および Storm を使用した IoT ソリューションの例については、[GitHub の hdinsight-storm-examples リポジトリ](https://github.com/hdinsight/hdinsight-storm-examples/)を参照してください。

IoT に対する Azure サービスの詳細については、[モノのインターネットの作成](http://www.microsoft.com/JA-JP/server-cloud/internet-of-things.aspx)に関するページを参照してください。

## 次のステップ
 
DocumentDB の利用を開始するには、[アカウント](http://azure.microsoft.com/pricing/free-trial/)を作成し、Microsoft の[ラーニング パス](https://azure.microsoft.com/documentation/learning-paths/documentdb/)を使用して DocumentDB について学習し、必要な情報を確認してください。

または、DocumentDB を使用しているお客様の詳細情報を確認したい場合は、次の顧客事例が提供されています。

- [Breeze](https://customers.microsoft.com/Pages/CustomerStory.aspx?recid=18602)。業界屈指のインテグレーターが柔軟なクラウド テクノロジを使用した多国籍企業のグローバル インサイトを数分で説明します。
- [News Republic](https://customers.microsoft.com/Pages/CustomerStory.aspx?recid=18639)。ニュースにインテリジェントを追加し、意識の高い市民に向けて情報を提供しています。 
- [SGS International](https://customers.microsoft.com/Pages/CustomerStory.aspx?recid=18653)。世界全体で一貫した色を提示するために、大手ブランドが SGS を頼っています。その SGS は Azure を活用しています。
- [Telenor](https://customers.microsoft.com/Pages/CustomerStory.aspx?recid=18608)。世界的リーダーの Telenor では、クラウドを使用して、スタートアップ時のスピードを保って前進しています。 
- [XOMNI](https://customers.microsoft.com/Pages/CustomerStory.aspx?recid=18667)。未来の店舗は、スピーディな検索と容易なデータ フローを基盤として運営されます。
 

<!---HONumber=Oct15_HO3-->