---
title: プロジェクトと Azure Notebooks を使用したデータのインポートとエクスポート
description: Azure Notebooks プロジェクトに外部ソースからデータを取り込む方法と、プロジェクトからデータをエクスポートする方法。
services: app-service
documentationcenter: ''
author: kraigb
manager: douge
ms.assetid: 586b423b-6668-4bdd-9592-4c237d7458fb
ms.service: notebooks
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 12/04/2018
ms.author: kraigb
ms.openlocfilehash: ae50581404dceb7b59b2ca145207f7d4ade23440
ms.sourcegitcommit: eb9dd01614b8e95ebc06139c72fa563b25dc6d13
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 12/12/2018
ms.locfileid: "53309248"
---
# <a name="work-with-data-files-in-azure-notebook-projects"></a>Azure Notebook プロジェクトでデータ ファイルを操作する

データは、多くの Jupyter ノートブック、特にデータ サイエンスのために使用されるノートブックには必要不可欠なものです。 Azure Notebooks では、さまざまなソースからプロジェクトに簡単にインポートし、ノートブックからそのデータを使用することができます。 ノートブックで、プロジェクトに保存されるデータを生成することもできます。ユーザーはそのデータを他の場所で使用するためにダウンロードできます。

実行中のノートブック内の **[データ]** メニューにも **[アップロード]** と **[ダウンロード]** コマンドが用意されています。これらのコマンドでは、プロジェクト内のファイルだけでなく、現在のノートブック セッション用の一時ファイルも処理できます。

プロジェクト内のファイルなど、さまざまなデータ ソースに直接アクセスするために、ノートブックでコードを使用することができます。 コード セルでコマンドを使用することによって、任意のデータにアクセスすることもできます。 そのようなデータはノートブック セッション内で変数に格納されているため、明確にプロジェクト ファイルを生成するコードを使用しない限り、プロジェクトに保存されることはありません。

実行中のノートブックで行う処理の中で、データ内でコードを処理する方法が最適です。詳細については、[Azure Notebooks サンプル ノートブックでのデータの取得](https://notebooks.azure.com/Microsoft/projects/samples/html/Getting%20to%20your%20Data%20in%20Azure%20Notebooks.ipynb)に関するページを参照してください。

この記事の残りの部分では、プロジェクト レベルでのファイル操作の詳細について説明します。

## <a name="import-data"></a>Import data

**[データ]** メニューまたは `curl` のようなコマンドを使用して、プロジェクト ダッシュボードから、または実行中のノートブックから、プロジェクトにファイルを取り込むことができます。

### <a name="import-files-from-the-project-dashboard"></a>プロジェクト ダッシュボードからのファイルのインポート

1. プロジェクトで、ファイルをインポートするフォルダーに移動します。

1. **[アップロード]** コマンドを選択してから、**[From URL]\(URL から\)** または **[From computer]\(コンピューターから\)** のいずれかを選択し、インポートするデータに関する必要な詳細を入力します。

    - **[From URL]\(URL から\)**: **[ファイル URL]** フィールドに送信元アドレスを入力し、**[ファイル名]** フィールドにプロジェクトのノートブックに割り当てるファイル名を入力します。 次に、**[+ ファイルの追加]** を選択してアップロード リストに URL を追加します。 その他にも URL があればこのプロセスを繰り返し、**[完了]** を選択します。

    ![[URL] ポップアップからのアップロード](media/quickstarts/upload-from-url-popup.png)

    - **[From computer]\(コンピューターから\)**:ポップアップにファイルをドラッグ アンド ドロップするか、**[ファイルの選択]** を選択し、インポートするデータ ファイルを参照して選択します。 ファイルのオープンやそのデータの解析はノートブックのコードで行うため、任意の数、種類、形式のファイルを削除したり、選択したりできます。

    ![コンピューターからアップロードする場合のポップアップ](media/quickstarts/upload-from-computer-popup.png)

1. インポート後、ファイルはプロジェクト ダッシュボードに表示され、格納されているフォルダーへの相対パス名を使用してノートブック コードからアクセスできます。

### <a name="import-files-from-the-file-menu-in-a-notebook"></a>ノートブックの [ファイル] メニューからのファイルのインポート

1. 実行中のノートブック内で、**[ファイル]**  >  **[アップロード]** コマンドを選択します。

    ![ノートブック内のファイルのアップロード メニュー コマンド](media/file-menu-upload.png)

1. 開いたダイアログ ボックスで、アップロードするファイルに移動し、選択します。 任意の数、任意の種類のファイルを選択できます。 選択したら、**[開く]** を選択します。

1. 表示された **[アップロード ステータス]** ポップアップで、ドロップダウン リストから**アップロード先のフォルダー**を選択します。

    - セッション フォルダー (*~/* ): 現在のノートブック セッションにファイルをアップロードしますが、プロジェクトでファイルを作成することはしません。 セッション フォルダーは、プロジェクト フォルダーとピアになりますが、セッションの終了後は維持されません。 コードでセッション ファイルにアクセスするには、ファイル名の先頭に相対パス *../* を追加します。

        セッション フォルダーの使用は、実験の際に役立ちます。また、長期的に必要なファイルと必要でないファイルがプロジェクト内に混在し、乱雑になることを回避できます。 競合が発生することも、ファイル名を変更する必要もなく、プロジェクトにあるファイルと同じ名前を持つファイルをセッション フォルダーにアップロードすることもできます。 たとえば、*data.csv* の 1 つのバージョンがプロジェクトに既に存在していますが、別のバージョンの *data.csv* で実験したいとします。 セッション フォルダーにファイルをアップロードすることで、プロジェクトのファイル内のデータではなく、アップロードしたファイルのデータを使用してノートブックを実行できます (*../data.csv* を使用してコードでそのデータを参照します)。

    - プロジェクト フォルダー (*/project*): コード内で相対パス名を使用してアクセスできるプロジェクトにファイルをアップロードします。 このフォルダーにファイルをアップロードすることは、プロジェクト ダッシュボード上にファイルをアップロードするのと同じです。 ファイルはプロジェクトに保存され、それ以降のセッションで使用できます。

        プロジェクトに既に存在するファイルと同じ名前のファイルをアップロードしようとすると、アップロードは失敗します。 ファイルを上書きするには、プロジェクト ダッシュボードから新しいファイルをアップロードします。その際、上書きするオプションが表示されます。

1. **[アップロードの開始]** を選択してプロセスを完了します。

### <a name="create-or-import-files-using-commands"></a>コマンドを使用したファイルの作成やインポート

ターミナル内、または Python コード セル内のコマンドを使用して、プロジェクトとセッションの両方のフォルダーにファイルを作成することができます。 たとえば、`curl` や `wget` のようなコマンドは、インターネットから直接ファイルをダウンロードします。

ターミナルでファイルをダウンロードするには、プロジェクト ダッシュボードで **[ターミナル]** コマンドを選択し、適切なコマンドを入力します。

```bash
curl https://raw.githubusercontent.com/petroleum101/figures/db46e7f48b8aab67a0dfe31696f6071fb7a84f1e/oil_price/oil_price.csv -o oil_price.csv

wget https://raw.githubusercontent.com/petroleum101/figures/db46e7f48b8aab67a0dfe31696f6071fb7a84f1e/oil_price/oil_price.csv -o oil_price.csv
```

ノートブックの Python コード セルを使用する場合、コマンドの先頭に `!` を追加します。

プロジェクト フォルダーは、既定のフォルダーです。*oil_price.csv* のような宛先ファイル名を指定すると、プロジェクトにそのファイルが作成されます。 セッション ファイルを作成するには、*../oil_price.csv* のように *../* を名前の前に追加します。

### <a name="create-files-in-code"></a>コードでのファイルの作成

pandas `write_csv` 関数などのファイルを作成するコードを使用する場合、パス名は常にプロジェクト フォルダーの相対パスになります。 *../* を使用すると、ノートブックが停止し、閉じられると破棄されるセッション ファイルが作成されます。

## <a name="export-files"></a>ファイルのエクスポート

プロジェクト ダッシュボードから、またはノートブックからデータをエクスポートできます。

## <a name="export-files-from-the-project-dashboard"></a>プロジェクト ダッシュボードからのファイルのエクスポート

プロジェクト ダッシュボードでファイルを右クリックして、**[ダウンロード]** を選択します。

![プロジェクト項目コンテキスト メニューの [ダウンロード] コマンド](media/download-command.png)

ファイルを選択し、ダッシュボードで **[ダウンロード]** コマンドを使用することもできます (キーボード ショートカット: d)。

![プロジェクト ダッシュボードの [ダウンロード] ツール バー コマンド](media/download-command-toolbar.png)

## <a name="export-files-from-the-data-menu-in-a-notebook"></a>ノートブックの [データ] メニューからのファイルのエクスポート

1. **[ファイル]**  >  **[ダウンロード]** メニュー コマンドを選択します。

    ![ノートブック内の [データ ダウンロード] メニュー コマンド](media/file-menu-download.png)

1. セッションのフォルダーを表示するポップアップが表示されます。*project* フォルダーにはプロジェクト ファイルが格納されています。

    ![ポップアップ ファイルとフォルダーを選択するデータ ダウンロード コマンドのポップアップ](media/file-menu-download-popup.png)

1. ダウンロードするファイルとフォルダーの左側にあるボックスを選択し、**[選択したものをダウンロード]** を選択します。

1. ノートブックは、選択したファイルを格納する 1 つの *.zip* ファイルを準備します。通常、ブラウザーで保存するように、それらのファイルを保存します。 1 つのファイルをダウンロードする場合も、ノートブックは *.zip* ファイルを作成します。

## <a name="next-steps"></a>次の手順

- [ノートブックでクラウド データにアクセスする](access-data-resources-jupyter-notebooks.md)
