---
title: セッションの動作を構成する - Azure Active Directory B2C | Microsoft Docs
description: Azure Active Directory B2C でセッションの動作を構成します。
services: active-directory-b2c
author: mmacy
manager: celestedg
ms.service: active-directory
ms.workload: identity
ms.topic: conceptual
ms.date: 04/16/2019
ms.author: marsma
ms.subservice: B2C
ms.openlocfilehash: b18a7d98654422951773c0a5497f69db93782f51
ms.sourcegitcommit: fa45c2bcd1b32bc8dd54a5dc8bc206d2fe23d5fb
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/12/2019
ms.locfileid: "67849447"
---
# <a name="configure-session-behavior-in-azure-active-directory-b2c"></a>Azure Active Directory B2C でセッションの動作を構成する

この機能を使用すると、[個別のユーザー フローに基づいて](active-directory-b2c-reference-policies.md)、以下の対象をきめ細かく制御することができます。

- Azure AD B2C によって管理される Web アプリケーションのセッションの有効期間。
- Azure AD B2C テナント内の複数のアプリとユーザー フローにまたがるシングル サインオン (SSO) の動作。

これらの設定は、パスワード リセット ユーザー フローでは使用できません。

Azure AD B2C がサポートしている [OpenID Connect 認証プロトコル](active-directory-b2c-reference-oidc.md) を使用して、Web アプリケーションへの安全なサインインを実現できます。 次のプロパティを使用して、Web アプリケーション セッションを管理できます。

## <a name="session-behavior-properties"></a>セッションの動作のプロパティ

- **[Web アプリのセッションの有効期間 (分)]** - 認証の成功時にユーザーのブラウザーに格納される Azure AD B2C のセッション Cookie の有効期間。
    - 既定値 = 1,440 分。
    - 最小値 (この値を含む) = 15 分。
    - 最大値 (この値を含む) = 1,440 分。
- **[Web アプリのセッション タイムアウト]** - このスイッチが **[絶対]** に設定されている場合は、 **[Web アプリのセッションの有効期間 (分)]** によって指定されている期間が経過すると、ユーザーは強制的に再び認証を求められます。 このスイッチを **[ローリング]** (既定値) に設定すると、ユーザーが Web アプリケーションでアクティブな状態を継続している限り、そのユーザーのサインインは継続されます。
- **[シングル サインオン構成]** - B2C テナントで複数のアプリケーションやユーザー フローを運用している場合は、**シングル サインオン構成**プロパティを使用して、それらの間でのユーザーの操作を管理できます。 以下のいずれかのプロパティを設定することができます。
    - **[テナント]** - この設定が既定値です。 この設定を使用すると、B2C テナント内の複数のアプリケーションとユーザー フローで同じユーザー セッションを共有できます。 たとえば、ユーザーがあるアプリケーションにサインインすると、そのユーザーは別のアプリケーション Contoso Pharmacy にもシームレスにサインインしてアクセスできます。
    - **[アプリケーション]** - この設定により、ユーザー セッションをあるアプリケーションに対して、他のアプリケーションとは独立に排他的に維持できます。 たとえば、あるユーザーが既に Contoso Shopping にサインインしている場合でも、そのユーザーが同じ B2C テナント上の別のアプリケーションである Contoso Pharmacy に (同じ資格情報で) サインインするようにできます。
    - **[ポリシー]** - この設定により、ユーザー セッションをあるポリシーに対して、そのユーザー フローを使用するアプリケーションとは独立に排他的に維持できます。 たとえば、あるユーザーが既にサインインし、多要素認証 (MFA) の手順を完了している場合は、ユーザー フローに関連付けられたセッションが期限切れになっていない限り、そのユーザーは複数のアプリケーションのよりセキュリティの高い部分にアクセスできます。
    - **[無効]** - この設定は、ユーザー フローを実行するたびに、ユーザーにユーザー体験全体を強制的に実行させます。

次のユースケースは、これらのプロパティを使用して有効になります。

- 適切な Web アプリケーション セッション有効期間を設定して、業界のセキュリティ要件やコンプライアンス要件を満たすことができます。
- ユーザーが Web アプリケーションのセキュリティの高い部分と対話している間に設定された期間が経過すると、強制的に認証を求めます。

## <a name="configure-the-properties"></a>プロパティを構成する

1. [Azure Portal](https://portal.azure.com) にサインインします。
2. Azure AD B2C テナントを含むディレクトリを使用していることを確認してください。確認のために、トップ メニューにある **[ディレクトリとサブスクリプション フィルター]** をクリックして、お使いの Azure AD B2C テナントを含むディレクトリを選択します。
3. Azure portal の左上隅にある **[すべてのサービス]** を選択してから、 **[Azure AD B2C]** を検索して選択します。
4. **[ユーザー フロー (ポリシー)]** を選択します。
5. あらかじめ作成しておいたユーザー フローを開きます。
6. **[プロパティ]** を選択します。
7. **[Web アプリのセッションの有効期間 (分)]** 、 **[Web アプリのセッション タイムアウト]** 、 **[シングル サインオン構成]** 、 **[ログアウト要求に ID トークンが必要]** を必要に応じて構成します。

    ![Azure portal のセッション動作プロパティの設定](./media/session-behavior/session-behavior.png)

8. **[Save]** をクリックします。
