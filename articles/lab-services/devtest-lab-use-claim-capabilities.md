---
title: Azure DevTest Labs の要求機能を使用する | Microsoft Docs
description: Azure DevTest Labs の要求/解放の機能を使用するさまざまなシナリオについて説明します
services: devtest-lab
documentationcenter: na
author: spelluru
manager: ''
editor: ''
ms.service: devtest-lab
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/12/2019
ms.author: spelluru
ms.openlocfilehash: a15148260bccadc59966c86031100f0e0332b0f9
ms.sourcegitcommit: 470041c681719df2d4ee9b81c9be6104befffcea
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/12/2019
ms.locfileid: "67861618"
---
# <a name="use-claim-capabilities-in-azure-devtest-labs"></a>Azure DevTest Labs の要求機能を使用する
Azure DevTest Labs サービスにより、開発者とテスト担当者の効果と効率が向上します。 この記事では、Azure DevTest Labs で仮想マシンを要求または解放する機能に焦点を当てています。 また、この機能によってユーザー エクスペリエンスが向上するさまざまな方法も示します。 この機能を使用できるさまざまなシナリオを確認する前に、**要求**の内容とそのしくみを確認しましょう。

## <a name="claimable-machines"></a>要求可能なマシン
要求可能なマシンは、所有者なしでラボで作成された仮想マシン (VM) です。 マシンが要求されると、その VM のさまざまなオプションがユーザーに与えられます。 ユーザーがマシンを要求すると、いくつかの変更が加えられます。 VM は、Azure portal の **[要求可能な仮想マシン]** の一覧から **[自分の仮想マシン]** の一覧に移動されます。 

ユーザーは、VM に接続したり、アーティファクトをカスタマイズしたり、マシンの再起動、停止、または解放を行ったりできます。 VM を要求できるようにするにはいくつかの方法があります。

- マシンを作成し、それを解放して要求可能なプールに移動するようにします。 
- VM を作成し、[詳細設定](https://azure.microsoft.com/updates/azure-devtest-labs-claim-lab-vms-from-a-shared-pool/)を使用して共有プールに配置します。

要求/解放の機能を効果的に使用できる 2 つのケースがあります。 最初のケースは、適切に設計して実行するには、より入念な事前の考慮と計画が必要です。 また、2 番目はさらに状況に応じたものとなります。 次に、さまざまなケースの例をいくつか示します。

## <a name="designed-use-of-claimable-machines"></a>要求可能なマシンの計画的な使用

- **ソフトウェアの開発/テスト:** 構成済みのマシンを準備し、解放済み状態にすることで、開発者やテスト担当者の生産性を高めることができます。 さまざまな構成、必要なツール、および最新のコードを持つ一連の VM を用意することで、ユーザーはマシンの設定に時間を費やすことなく VM を要求して作業を開始できます。 VM が要求される前、マシンはプロビジョニング済みでシャットダウンされているため、使用頻度が低いマシンを持つコストを最小限に抑えることができます。 VM が必要な場合、ユーザーは VM を要求するだけでマシンが起動します。 このケースでは、新しい VM を作成する方が簡単でコストが安いため、解放オプションはあまり役に立ちません。
- **クラスルーム/ラボ:** クラスまたはラボ用に VM を事前構成し、学生が Azure portal を使用してマシンにすぐに接続できるようにします。  学生が VM を要求すると、別の人が同じマシンを要求できないことがラボによって保証されます。 このプロセスを自動化すると、指定した環境を持つマシンが必要な数だけ使用できるようになります。 学生が来なかったり遅刻した場合、授業が終わるまで、解放されたマシンを最小のコストで使用可能な状態に保つことができます。 このシナリオでは、前のユーザーが完了した時点で VM が不明な状態になるため、解放オプションは有効ではありません。
- **デモンストレーション:** ラボ内のマシンが特定の環境で設定されている場合、マシンをデモンストレーション用に使用します。 この機能は、会議などで複数の人々が同時にあるいはランダムにデモンストレーションを行う場合に便利です。 このような状況では解放オプションが役立つ場合があります。なぜなら、デモンストレーションではマシンの状態を変更してはならず、ユーザーは次のデモンストレーションのために VM を要求可能なプールに戻すことができるためです。 解放されたマシンはプロビジョニング解除されて最小限のコストしか発生しないため、VM をラボに長期間残しておくことができます。
- **臨時職員および契約社員:** ユーザーはマシンを使用できます。 ユーザーが退社するとき、データを失うことなく VM を要求可能なプールに返します。 VM は解放されているため、別のユーザーがその VM を要求してマシンの作業を続行したり、追加情報を確認したりできます。
- **一般:** 1 つのソースだけを使用して VM を特定の周期で自動的に構成しデプロイする機能は、さまざまな状況で役立ちます。 設定された構成で VM を解放済み状態で構築する自動化されたプロセスを使用することによって、要求/解放機能がユーザーの効率を高めることに役立つさまざまな状況があります。 構成には、必要に応じてさまざまなオペレーティング システム、言語、ディスク、または[その他のソフトウェア (アーティファクト)](devtest-lab-artifact-author.md) を含めることができます。 ラボから VM を要求する機能により、ラボのユーザーは、マシンの構成に時間や労力を費やすことなく、適切に構成されたシステムを取得できます。 ラボ マネージャーは、VM の要求済み状態を使用して、生成されるマシンの数を改善し、マシンをクリーンアップし、構成の優先順位を決定できます。 [イメージ ファクトリ](image-factory-create.md)は、複数のラボ用に VM とイメージを構築するための自動化されたプロセスの良い例です。 スクリプトを変更して、次のいずれかの状況を適切な変更を加えて実行したり、カスタム システムを作成するための参照としてスクリプトを使用したりできます。

## <a name="situational-use-of-claimable-machines"></a>要求可能なマシンの状況に応じた使用

- ユーザーがマシンの制御をあるユーザーから別のユーザーに渡すことができ、マシンを次に誰が使用するかを明示的に把握しなくてもよい、要求および解放機能を使用します。
- 特定のマシン構成でバグを再現可能で、別の開発者がマシンを要求して作業を続行できるようにマシンを解放できるシナリオでの開発、テスト、およびデバッグ。 この機能は、世界中のさまざまな地域でリモートで作業しているユーザーが多い場合に特に便利です。 
- チーム メンバーは 1 つの環境で作業できます。 たとえば、自動化できない複雑な環境を手動で設定したり、イメージなどの 1 つの入力の変更のみを処理できるリソースを作成したりすることができます。 以前は、専用のマシンを稼働させることで、この問題に対処していました。 要求可能機能は、組み込みのユーザーアクセス制御、および利用可能な場合に視覚的な識別を行うことによって、手動プロセスを改善したものです。 解放されると、VM はプロビジョニング解除されてコストが削減されます。
- VM に接続されているデータ ディスクを使用します。 各ディスクに最大 1 TB のデータを格納することで、データをコピーまたは複製しなくても大量のデータを渡すことができます。 VM は、データ量が多い接続ディスクを使用して最初に作成されます。  その後、任意のユーザーがそのマシンを要求し、データにアクセスできます。 作業が終了したら、VM を解放して、他のユーザーがマシンを利用できるようにします。

要求可能なマシンの使用に関する注意事項がいくつかあり、それらは一般的にマシンへのアクセス取得に関するものです。 マシンがドメインに参加している場合、マシンを要求するユーザーには既にアクセス権が付与されている必要があり、これは通常、VM の作成時にラボ内のすべてのユーザーを含むグループにアクセス権を付与することによって行います。 マシンがドメインに参加していない場合、ユーザーを管理者として追加するには、パブリック リポジトリ内の **VM パスワードのリセット** アーティファクトを実行する必要があります。  アーティファクトは、マシンが起動または要求された後でも適用できます。

## <a name="next-steps"></a>次の手順
次の記事を参照してください: [Azure DevTest Labs でのクレーム可能 VM の作成と管理](devtest-lab-add-claimable-vm.md)
