---
title: アプリケーションの種類の判断 - Hyperscale (Citus) - Azure Database for PostgreSQL
description: 効果的な分散データ モデリングのためのアプリケーションの特定
author: jonels-msft
ms.author: jonels
ms.service: postgresql
ms.subservice: hyperscale-citus
ms.topic: conceptual
ms.date: 07/17/2020
ms.openlocfilehash: 92333857177d33307d6997bfcbdf79787d3ab127
ms.sourcegitcommit: f28ebb95ae9aaaff3f87d8388a09b41e0b3445b5
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/29/2021
ms.locfileid: "90895946"
---
# <a name="determining-application-type"></a>アプリケーションの種類の判断

Hyperscale (Citus) サーバー グループに対して効率的なクエリを実行するには、テーブルがサーバー間で適切に分散されている必要があります。 推奨される分散は、アプリケーションの種類とそのクエリ パターンによって異なります。

Hyperscale (Citus) で適切に機能するアプリケーションの種類は大きく 2 つあります。 データ モデリングの最初の手順は、アプリケーションにより近く似ているものを特定することです。

## <a name="at-a-glance"></a>概略

| マルチテナント アプリケーション                                 | リアルタイム アプリケーション                                |
|-----------------------------------------------------------|-------------------------------------------------------|
| スキーマに数十または数百のテーブルが含まれる場合がある          | 少数のテーブル                                |
| 一度に 1 つのテナント (会社/ストア) に関連するクエリ | 集計による比較的単純な分析クエリ |
| Web クライアントにサービスを提供する OLTP ワークロード                    | 大量に取り込まれるほとんど不変のデータ           |
| テナントごとの分析クエリを処理する OLAP ワークロード   | 多くの場合に大規模なイベントのテーブルを中心とする            |

## <a name="examples-and-characteristics"></a>例と特性

**マルチテナント アプリケーション**

> これらは通常、他の企業、アカウント、または組織にサービスを提供する SaaS アプリケーションです。 ほとんどの SaaS アプリケーションは本質的にリレーショナルです。 ノード間でデータを分散させるための自然なディメンションがあります。tenant\_id によってシャード化するだけです。
>
> Hyperscale (Citus) により、アプリケーションを再設計する必要なく、データベースを何百万ものテナントにスケールアウトできます。 結合、外部キー制約、トランザクション、ACID、一貫性など、必要なリレーショナル セマンティクスを維持できます。
>
> -   **例**:デジタル マーケティング ソリューションや販売自動化ツールなど、他のビジネス向けに店舗をホストする Web サイト。
> -   **特性**:テナント間で情報を結合するのではなく、単一のテナントに関連するクエリ。 これには、Web クライアントにサービスを提供する OLTP ワークロードや、テナントごとの分析クエリを処理する OLAP ワークロードが含まれます。 データベース スキーマに数十または数百のテーブルがあることも、マルチテナント データ モデルの指標です。
>
> Hyperscale (Citus) によるマルチテナント アプリのスケーリングでは、アプリケーション コードへの最小限の変更も必要です。 Ruby on Rails や Django などの人気のあるフレームワークをサポートしています。

**リアルタイム分析**

> 数値、統計、またはカウント クエリに対してすばやく結果を得るために、大規模な並列処理、数百のコアの調整を必要とするアプリケーション。  Hyperscale (Citus) を使用すると、複数のノード間で SQL クエリをシャード化して並列化することで、1 秒未満で数十億のレコードに対してリアルタイムのクエリを実行できるようになります。
>
> リアルタイム分析データ モデルのテーブルは、通常、user\_id、host\_id、device\_id などの列によって分散されます。
>
> -   **例**:1 秒未満の応答時間を必要とするお客様向け分析ダッシュボード。
> -   **特性**:多くの場合にデバイス、サイト、またはユーザーイベントの大きなテーブルを中心とし、ほとんど不変のデータの大量の取り込みを必要とする少数のテーブル。 複数の集計と GROUP BY を含む比較的単純な (ただし、計算量が多い) 分析クエリ。

上記のいずれかの状況に似ている場合、次の手順は、サーバー グループ内のデータをシャードする方法を決定することです。 データベース管理者\'のディストリビューション列の選択では、パフォーマンスを確保するために、一般的なクエリのアクセス パターンと一致している必要があります。

## <a name="next-steps"></a>次の手順

* データを効率的に分散するために、アプリケーション内のテーブルの[ディストリビューション列を選択する](concepts-hyperscale-choose-distribution-column.md)
