---
title: Azure Event Grid - パートナー イベント
description: Azure Event Grid を使用して、サードパーティの Event Grid SaaS および PaaS パートナーから直接 Azure サービスにイベントを送信します。
ms.topic: conceptual
ms.date: 11/10/2020
ms.openlocfilehash: 31a5fe611871eb4734b6a68e3818592028ebc75c
ms.sourcegitcommit: f28ebb95ae9aaaff3f87d8388a09b41e0b3445b5
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/29/2021
ms.locfileid: "94506148"
---
# <a name="partner-events-in-azure-event-grid-preview"></a>Azure Event Grid でのパートナー イベント (プレビュー)
**パートナー イベント** 機能を使用すると、サードパーティの SaaS プロバイダーはそのサービスからイベントを発行でき、コンシューマーがそれらのイベントをサブスクライブできるようになります。 この機能は、[トピック](concepts.md#topics)の種類 (**パートナー トピック**) を公開することにより、ファーストパーティのエクスペリエンスをサードパーティのイベント ソースに提供します。 サブスクライバーは、このトピックに対するサブスクリプションを作成し、イベントを使用します。 また、イベントの発行元とサブスクライバーによって使用されるリソースの懸念事項と所有権を分離することによって、クリーンな Pub/Sub モデルも提供します。

> [!NOTE]
> Event Grid を初めて使用する場合は、[概要](overview.md)、[概念](concepts.md)、[イベント ハンドラー](event-handlers.md)に関する記事を参照してください。

## <a name="what-is-partner-events-to-a-publisher"></a>発行元にとってのパートナー イベントとは
イベント発行元は、パートナー イベント機能を使用すると、次のタスクを実行できるようになります。

- イベント ソースを Event Grid にオンボードする
- イベントを発行できる名前空間 (エンドポイント) を作成する
- サブスクライバーが所有してイベントを消費するために使用できるパートナー トピックを、Azure で作成する

## <a name="what-is-partner-events-to-a-subscriber"></a>サブスクライバーにとってのパートナー イベントとは
サブスクライバーは、パートナー イベント機能を使用することにより、Azure でパートナー トピックを作成して、サードパーティのイベント ソースからのイベントを消費できます。 イベントを消費するには、サブスクライバーのイベント ハンドラーにイベントを送信 (プッシュ) するイベント サブスクリプションを作成します。

## <a name="why-should-i-use-partner-events"></a>パートナー イベントを使用する理由
次の要件が 1 つ以上ある場合、パートナー イベントを使用することができます。

### <a name="for-publishers"></a>パブリッシャーが対象

- Azure でイベントを使用できるようにするメカニズムが必要です。 ユーザーは、自分が所有して管理するパートナー トピックとイベント サブスクリプションを使用することで、それらのイベントをフィルター処理し、ルーティングすることができます。 [トピック](custom-topics.md)や[ドメイン](event-domains.md)など、他の統合アプローチを使用することもできます。 しかし、それによって、発行元とサブスクライバーの間で、リソース (パートナー トピック) の所有権、管理、課金を明確に分離することはできません。 また、この方法では、パートナー トピックを簡単に見つけて使用できる、より直感的なユーザー エクスペリエンスが提供されます。
- 1 つのエンドポイント (名前空間のエンドポイント) にイベントを発行する必要があります。 また、それらのイベントをフィルター処理して、それらのサブセットのみを使用できるようにすることも必要です。 
- 発行されたイベントに関連するメトリックを表示できる必要がある。
- イベントに [Cloud Events 1.0](https://cloudevents.io/) スキーマを使用する必要があります。

### <a name="for-subscribers"></a>サブスクライバーの場合

- [サードパーティの発行元](#available-third-party-event-publishers)からのイベントをサブスクライブし、Azure または他の場所にあるイベント ハンドラーを使用してイベントを処理する必要があります。
- サードパーティのソースからのイベントを処理するために、豊富なルーティング機能と[宛先およびイベント ハンドラー](overview.md#event-handlers)を利用する必要があります。 
- 使用されているメッセージ ブローカーの存在がサブスクライバーとイベント ハンドラーによって認識されない、疎結合のアーキテクチャを実装する必要があります。 
- 送信再試行のサポートと、"最低 1 回" のセマンティクスを備えた、弾力性のあるプッシュ配信メカニズムが必要です。
- イベントに [Cloud Events 1.0](https://cloudevents.io/) スキーマを使用する必要があります。 


## <a name="available-third-party-event-publishers"></a>利用可能なサードパーティのイベント発行元
サードパーティのイベント発行元は、[オンボード プロセス](partner-onboarding-overview.md)を行ってからでないと、サブスクライバーでそのイベントの使用を開始できません。 

サブスクライバーが、サードパーティのサービスにより Event Grid を通じてそのイベントが発行されることを望む場合。 

### <a name="auth0"></a>Auth0
**Auth0** は、使用可能な最初のパートナー発行元です。 [Auth0 パートナー トピック](auth0-overview.md)を作成して、Auth0 アカウントと Azure アカウントを接続できます。 この統合により、リアルタイムで Auth0 イベントに対する対応、ログ記録、監視を行うことができます。 試してみるには、「[Azure Event Grid と Auth0 を統合する](auth0-how-to.md)」を参照してください

サードパーティのサービスにより Event Grid を通じてそのイベントが発行されることを望む場合は、[ユーザーの声ポータル](https://feedback.azure.com/forums/909934-azure-event-grid)でそのアイデアをお送りください。
 
## <a name="resources-managed-by-event-publishers"></a>イベント発行元によって管理されるリソース
イベント発行元は、次のリソースを作成して管理します。

### <a name="partner-registration"></a>パートナー登録
登録により、発行元に関連する一般的な情報が保持されます。 それにより、ユーザーがパートナー トピックを作成しようとするときにオプションとして Azure portal に表示されるパートナー トピックの種類が定義されます。 発行元は、サブスクライバーのニーズに合わせて、複数のパートナー トピックの種類を公開できます。 つまり、発行元は、異なるサービスからのイベントに対して、個別に登録 (パートナー トピックの種類) を作成できます。 たとえば、人事 (HR) サービスの場合、発行元は、従業員の入社、従業員の昇格、従業員の退職などのイベントに対してパートナー トピックを定義することができます。 

以下の点に注意してください。

- Azure によって承認されたパートナー登録のみが表示されます。 
- 登録はグローバルです。 つまり、特定の Azure リージョンには関連付けられていません。
- 登録は、オプションのリソースです。 ただし、発行元には登録を作成することをお勧めします。 これにより、ユーザーは、[Azure portal](https://portal.azure.com/#create/Microsoft.EventGridPartnerTopic)の **[Create Partner Topic]\(パートナー トピックの作成\)** ページでトピックを見つけることができます。 その後、ユーザーは、イベント サブスクリプションを作成するときに、イベントの種類 (たとえば、従業員の入社、従業員の退職など) を選択できます。

### <a name="namespace"></a>名前空間
[カスタム トピック](custom-topics.md)や[ドメイン](event-domains.md)と同様に、パートナーの名前空間はイベントを発行するためのリージョンのエンドポイントです。 発行元は、名前空間を通して、イベント チャネルの作成と管理を行います。 また、名前空間は、イベント チャネルのコンテナー リソースとしても機能します。

### <a name="event-channels"></a>イベント チャネル
イベント チャネルは、パートナー トピックに対するミラー化されたリソースです。 発行元は、発行元の Azure サブスクリプションにイベント チャネルを作成するときに、サブスクライバーの Azure サブスクリプションの下にもパートナー トピックを作成します。 イベント チャネルに対して実行された操作 (GET を除く) は、対応するサブスクライバー パートナー トピックに適用されます (削除であっても)。 ただし、サブスクリプションとイベント配信を構成できるリソースの種類は、パートナー トピックだけです。

## <a name="resources-managed-by-subscribers"></a>サブスクライバーによって管理されるリソース 
サブスクライバーは、発行元によって定義されたパートナー トピックを使用でき、サブスクライバーが表示および管理できるリソースの種類はそれだけです。 パートナー トピックが作成されると、サブスクライバー ユーザーは、[宛先およびイベント ハンドラー](overview.md#event-handlers)に対するフィルター規則を定義するイベント サブスクリプションを作成できます。 サブスクライバーには、パートナー トピックとそれに関連付けられているイベント サブスクリプションにより、[カスタム トピック](custom-topics.md)と同じ豊富な機能が提供されます。それに関連するサブスクリプションには重要な違いが 1 つあり、他のサポートされているスキーマより豊富な機能が提供される [Cloud Events 1.0 スキーマ](cloudevents-schema.md)のみが、パートナー トピックによりサポートされます。

次の図は、コントロール プレーン操作のフローを示しています。

:::image type="content" source="./media/partner-events-overview/partner-control-plane-flow.png" alt-text="パートナー イベント - コントロール プレーンのフロー":::

1. 発行元が **パートナー登録** を作成します。 パートナー登録はグローバルです。 つまり、特定の Azure リージョンには関連付けられていません。 この手順は省略可能です。
1. 発行元が、特定のリージョンに **パートナー名前空間** を作成します。
1. Subscriber 1 がパートナー トピックを作成しようとすると、**イベント チャネル** である Event Channel 1 が発行元の Azure サブスクリプションに最初に作成されます。
1. 次に、**パートナー トピック** である Partner Topic 1 が、サブスクライバーの Azure サブスクリプションに作成されます。 サブスクライバーは、このパートナー トピックをアクティブにする必要があります。 
1. Subscriber 1 が、Partner Topic 1 の **Azure Logic Apps サブスクリプション** を作成します。
1. Subscriber 1 が、Partner Topic 1 の **Azure Blob Storage サブスクリプション** を作成します。 
1. Subscriber 2 がパートナー トピックを作成しようとすると、別の **イベント チャネル** である Event Channel 2 が発行元の Azure サブスクリプションに最初に作成されます。 
1. 次に、その **パートナー トピック** である Partner Topic 2 が、2 つ目のサブスクライバーの Azure サブスクリプションに作成されます。 サブスクライバーは、このパートナー トピックをアクティブにする必要があります。 
1. Subscriber 2 が、Partner Topic 2 の **Azure Functions サブスクリプション** を作成します。 

## <a name="pricing"></a>価格
パートナー トピックは、Event Grid を使用しているときに行われた操作の数によって課金されます。 課金の基礎として使用されるすべての操作の種類の詳細と、詳細な価格情報については、「[Event Grid の価格](https://azure.microsoft.com/pricing/details/event-grid/)」を参照してください。

## <a name="limits"></a>制限
パートナー トピックに適用される制限の詳細については、[Event Grid サービスの制限](../azure-resource-manager/management/azure-subscription-service-limits.md#event-grid-limits)に関する記事を参照してください。


## <a name="next-steps"></a>次のステップ

- [Auth0 パートナー トピック](auth0-overview.md)
- [Auth0 パートナー トピックの使用方法](auth0-how-to.md)
- [Event Grid パートナーになる](partner-onboarding-overview.md)