---
title: ラベル付けプロジェクトで画像にタグを付ける
title.suffix: Azure Machine Learning
description: Azure Machine Learning のラベル付けプロジェクトでデータのタグ付けツールを使用する方法について説明します。
author: lobrien
ms.author: laobri
ms.service: machine-learning
ms.topic: tutorial
ms.date: 11/04/2019
ms.openlocfilehash: 1e27fca86613757c36ac664e2e449cabed68d550
ms.sourcegitcommit: aee08b05a4e72b192a6e62a8fb581a7b08b9c02a
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/09/2020
ms.locfileid: "75772450"
---
# <a name="tag-images-in-a-labeling-project"></a>ラベル付けプロジェクトで画像にタグを付ける

プロジェクト管理者によって Azure Machine Learning で[ラベル付けプロジェクトが作成](https://docs.microsoft.com/azure/machine-learning/how-to-create-labeling-projects#create-a-labeling-project)されたら、ラベル付けツールを使用してすぐに Machine Learning プロジェクト用のデータを準備できます。 この記事では、次の内容について説明します。

> [!div class="checklist"]
> * ラベル付けプロジェクトにアクセスする方法
> * ラベル付けツール
> * 特定のラベル付けタスクにツールを使用する方法

## <a name="prerequisites"></a>前提条件

* 実行中のデータにラベル付けするプロジェクトのラベル付けポータルの URL
* [Microsoft アカウント](https://account.microsoft.com/account)、または組織およびプロジェクト用の Azure Active Directory アカウント

> [!NOTE]
> プロジェクト管理者は、 **[プロジェクトの詳細]** ページの **[詳細]** タブでラベル付けポータルの URL を確認できます。

## <a name="sign-in-to-the-projects-labeling-portal"></a>プロジェクトのラベル付けポータルにサインインする

プロジェクト管理者から提供されたラベル付けポータルの URL にアクセスします。 管理者によってチームに追加されたときに使用されたメール アカウントを使ってサインインします。 ほとんどのユーザーの場合、これは Microsoft アカウントです。 ラベル付けプロジェクトで Azure Active Directory が使用されている場合は、その方法でサインインします。

## <a name="understand-the-labeling-task"></a>ラベル付けタスクを理解する

サインインすると、プロジェクトの概要ページが表示されます。

**[View detailed instructions]\([詳細な指示の表示]\)** に移動します。 これらの指示はプロジェクトに固有です。 これらには、取り扱うデータの種類、意思決定方法、その他の関連情報について説明しています。 この情報を読んだ後、プロジェクト ページに戻り、 **[Start labeling]\(ラベル付けの開始\)** を選択します。

## <a name="common-features-of-the-labeling-task"></a>ラベル付けタスクの一般的な機能

すべての画像のラベル付けタスクでは、プロジェクト管理者が指定したセットから適切なタグを 1 つまたは複数選択します。 キーボードの数字キーを使用して、最初の 9 個のタグを選択できます。  

画像分類タスクでは、複数の画像を同時に表示することもできます。 画像領域の上にあるアイコンを使用して、レイアウトを選択します。 表示されているすべての画像を同時に選択するには、 **[すべて選択]** を使用します。 個々の画像を選択するには、画像の右上隅にある円形の選択ボタンを使用します。 タグを適用する画像を少なくとも 1 つ選択する必要があります。 複数の画像を選択すると、選択したすべての画像に選択したタグが適用されます。

ここでは、2 x 2 レイアウトを選択済みで、"Mammal" (哺乳類) というタグを熊とシャチの画像に適用しようとしています。 サメの画像には既に "Cartilaginous fish" (軟骨魚類) というタグが付けられており、イグアナにはまだタグが付けられていません。

![複数の画像のレイアウトと選択](./media/how-to-label-images/layouts.png)

> [!Important] 
> レイアウトを切り替えるのは、ラベルの付いていないデータの新しいページがある場合のみにしてください。 レイアウトを切り替えると、ページの進行中のタグ付け作業はクリアされます。

Azure では、ページ上のすべての画像にタグを付け終わると、 **[送信]** ボタンが有効になります。 **[送信]** を選択して作業内容を保存します。

手元にあるデータのタグを送信すると、Azure によって作業キューの新しい画像セットを使ってページが更新されます。

## <a name="tag-images-for-multi-class-classification"></a>複数クラス分類用に画像にタグを付ける

プロジェクトの種類が [Image Classification Multi-Class]\(画像分類の複数クラス\) の場合は、画像全体に 1 つのタグを割り当てます。 任意のタイミングで指示を確認するには、 **[指示]** ページに移動し、 **[View detailed instructions]\([詳細な指示の表示]\)** を選択します。

画像にタグを割り当てた後に間違えたことがわかった場合は、修正できます。 画像の下に表示されているラベルの "**X**" を選択して、タグをクリアします。 または、画像を選択し、別のクラスを選択します。 新しく選択した値によって、以前に適用したタグが置き換えられます。

## <a name="tag-images-for-multi-label-classification"></a>複数ラベル分類用に画像にタグを付ける

プロジェクトの種類が [Image Classification Multi-Label]\(画像分類の複数ラベル\) の場合は、画像に 1 つ "*以上*" のタグを適用します。 プロジェクト固有の指示を表示するには、 **[指示]** を選択し、 **[View detailed instructions]\([詳細な指示の表示]\)** に移動します。

ラベルを付ける画像を選択し、タグを選択します。 選択したすべての画像にタグが適用された後、画像が選択解除されます。 さらにタグを適用するには、画像を再び選択する必要があります。 次のアニメーションでは、複数ラベルのタグ付けを示しています。

1. "Ocean" (海洋) タグを適用するために **[すべて選択]** が使用されています。
1. 1 つの画像が選択され、"Closeup" (クローズアップ) というタグが付けられています。
1. 3 つの画像が選択され、"Wide angle" (ワイド アングル) というタグが付けられています。

![複数ラベル フローを示すアニメーション](./media/how-to-label-images/multilabel.gif)

誤りを修正するには、"**X**" をクリックして個々のタグをクリアするか、画像を選択してタグを選択します。これで、選択したすべての画像からタグがクリアされます。 このシナリオを次に示します。 [Land]\(陸\) をクリックすると、選択した 2 つの画像からそのタグがクリアされます。

![複数の選択解除を示すスクリーンショット](./media/how-to-label-images/multiple-deselection.png)

Azure では、各画像に少なくとも 1 つのタグを適用した後にのみ **[送信]** ボタンが有効になります。 **[送信]** を選択して作業内容を保存します。

## <a name="tag-images-and-specify-bounding-boxes-for-object-detection"></a>オブジェクト検出のために画像にタグを付けて境界ボックスを指定する

プロジェクトの種類が [オブジェクト ID (四角形領域)] の場合は、画像内の境界ボックスを 1 つ以上指定し、各ボックスにタグを適用します。 画像には、複数の境界ボックスがあり、それぞれに 1 つのタグがあります。 **[View detailed instructions]\([詳細な指示の表示]\)** を使用して、プロジェクトで複数の境界ボックスが使用されているかどうかを確認します。

1. 作成する予定の境界ボックスのタグを選択します。
1. **四角形のボックス** ツール ![四角形のボックス ツール](./media/how-to-label-images/rectangular-box-tool.png) を選択するか、R キーを押します。
3. ターゲットをクリックして斜めにドラッグすると、大まかな境界ボックスが作成されます。 境界ボックスを調整するには、端または角をドラッグします。

![基本的な境界ボックスの作成を示すスクリーンショット。](./media/how-to-label-images/bounding-box-sequence.png)

境界ボックスを削除するには、作成後に境界ボックスの横に表示される X 形のターゲットをクリックします。

既存の境界ボックスのタグを変更することはできません。 タグの割り当てを間違った場合は、境界ボックスを削除し、正しいタグを使って新しく作成する必要があります。

既定では、既存の境界ボックスを編集できます。 **領域のロック/ロック解除**ツール ![領域のロック/ロック解除ツール](./media/how-to-label-images/lock-bounding-boxes-tool.png) または L キーを使用して、その動作を切り替えます。 領域がロックされている場合は、新しい境界ボックスの形状または位置しか変更できません。

**領域操作**ツール ![領域操作ツール](./media/how-to-label-images/regions-tool.png) または M キーを使用して、既存の境界ボックスを調整します。 形状を調整するには、端または角をドラッグします。 内側をクリックすると、境界ボックス全体をドラッグできるようになります。 領域を編集できない場合は、**領域のロック/ロック解除**ツールを切り替えた可能性があります。

**テンプレートベースのボックス** ツール ![テンプレートベースのボックス ツール](./media/how-to-label-images/template-box-tool.png) または T キーを使用して、同じサイズの複数の境界ボックスを作成します。 画像に境界ボックスがなく、テンプレートベースのボックスをアクティブにすると、ツールによって 50 x 50 ピクセルのボックスが生成されます。 境界ボックスを作成してからテンプレートベースのボックスをアクティブにした場合、新しい境界ボックスはすべて、最後に作成したボックスのサイズになります。 テンプレートベースのボックスは、配置後にサイズを変更できます。 テンプレートベースのボックスのサイズを変更すると、そのボックスのサイズのみが変更されます。

現在の画像に含まれる "*すべて*" の境界ボックスを削除するには、**すべての領域の削除**ツール ![すべての領域の削除ツール](./media/how-to-label-images/delete-regions-tool.png) を選択します。

画像の境界ボックスを作成した後、 **[送信]** を選択して作業内容を保存します。そうしないと、進行中の作業は保存されません。

## <a name="finish-up"></a>しあげ

タグを付けたデータのページを送信すると、Azure によってラベルの付いていない新しいデータが作業キューから割り当てられます。 ラベルの付いていないデータがなくなると、その旨を示すメッセージと共にポータルのホーム ページへのリンクが表示されます。

ラベル付けが完了したら、ラベル付けポータルの右上隅で自分の名前を選択し、 **[サインアウト]** を選択します。サインアウトしない場合、最終的に Azure によって "タイムアウト" され、データは別のラベラーに割り当てられます。

## <a name="next-steps"></a>次のステップ

* [Azure で画像分類モデルをトレーニングする](https://docs.microsoft.com/azure/machine-learning/tutorial-train-models-with-aml)方法を確認します
* [Azure と "Faster R-CNN" 手法を使用したオブジェクト検出](https://www.microsoft.com/developerblog/2017/10/24/bird-detection-with-azure-ml-workbench/)について確認します
