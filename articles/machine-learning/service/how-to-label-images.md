---
title: Azure Machine Learning のデータのラベル付けツールの使用方法
title.suffix: Azure Machine Learning
description: この記事では、Azure Machine Learning のラベル付けプロジェクトでデータのタグ付けツールを使用する方法について説明します。
author: lobrien
ms.author: laobri
ms.service: machine-learning
ms.topic: tutorial
ms.date: 11/04/2019
ms.openlocfilehash: 9cbebb905ba39dabaf905be2fa741702bd1a0088
ms.sourcegitcommit: 35715a7df8e476286e3fee954818ae1278cef1fc
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/08/2019
ms.locfileid: "73838951"
---
# <a name="how-to-tag-images-in-a-labeling-project"></a>ラベル付けプロジェクトで画像にタグを付ける方法

プロジェクト管理者が Azure Machine Learning でラベル付けプロジェクトを作成したら、ラベル付けツールを使用して Machine Learning プロジェクトのデータをすぐに準備できます。 

> [!div class="checklist"]
> * ラベル付けプロジェクトにアクセスする方法
> * ラベル付けツール
> * 特定のラベル付けタスクにツールを使用する方法

## <a name="prerequisites"></a>前提条件

* 実行中のデータにラベル付けするプロジェクトのラベル付けポータルの URL
* [Microsoft アカウント](https://account.microsoft.com/account)または
* 組織およびプロジェクトの Azure Active Directory アカウント

> [!Note]
> プロジェクト管理者は、 **[プロジェクトの詳細]** ページの **[詳細]** タブでラベル付けポータルの URL を確認できます。 

## <a name="logging-in-to-the-projects-labeling-portal"></a>プロジェクトのラベル付けポータルへのログイン

プロジェクト管理者から提供されたラベル付けポータルの URL にアクセスします。 

管理者があなたをチームに追加したときに使用したメール アカウントを使ってログインします。 ほとんどのユーザーの場合、ログインには Microsoft アカウントを使います。 ラベル付けプロジェクトに Azure Active Directory が使用されている場合は、その方法でログインします。 

## <a name="understanding-the-labeling-task"></a>ラベル付けタスクの概要

サインインすると、プロジェクトの概要ページが表示されます。 

最初に行うことは、 **[詳細な指示の表示]** です。 これらの手順はプロジェクトに固有のものであり、直面しているデータの種類、意思決定方法、その他の関連情報について説明します。 完了したら、プロジェクト ページに戻って **[Start labeling]\(ラベル付けの開始\)** を選択します。

## <a name="common-features-of-the-labeling-task"></a>ラベル付けタスクの一般的な機能

画像のラベル付けタスクでは、プロジェクト管理者が指定したセットから適切な 1 つまたは複数のタグを選択する必要があります。 キーボードの数字キーを使用して、最初の 9 個のタグの中から選択できます。  

画像分類タスクを使用すると、複数の画像を同時に表示できます。 画像領域の上にあるアイコンを使用して、さまざまなレイアウトを選択できます。 表示されているすべての画像を同時に選択するには **[すべて選択]** ボタンを押します。 個々の写真を選択するには、画像領域の右上にある円形の選択ボタンを使用します。 タグを適用する画像を少なくとも 1 つ選択する必要があります。 複数の画像を選択した場合、タグを選択すると、選択した各写真にそのタグが適用されます。

ここでは、2x2 レイアウトを選択し、"Mammal" (哺乳類) というタグを熊とシャチの画像に適用します。 サメの画像には既に "Cartilaginous fish" (軟骨魚類) というタグが付けられ、イグアナにはまだタグが付けられていません。

![複数の画像のレイアウトと選択](media/how-to-label-images/layouts.png)

> [!Important] 
> ラベルなしのデータの新しいページがある場合にのみ、レイアウトを切り替えます。 レイアウトを切り替えると、ページの進行中のタグ付け作業はクリアされます。 

Azure では、ページ上のすべての画像にタグを付け終わると、 **[送信]** ボタンが有効になります。 **[送信]** を押して作業内容を保存します。 

手元にあるデータのタグを送信すると、Azure では作業キューの新しい画像セットを使ってページが更新されます。  

## <a name="tagging-images-for-multi-class-classification"></a>複数クラス分類のための画像のタグ付け

プロジェクトの種類が [Image Classification Multi-Class]\(画像分類の複数クラス\) の場合は、画像全体に 1 つのタグを割り当てます。 いつでも **[指示]** ページを選択し、 **[詳細な指示の表示]** に移動してプロジェクト固有のガイダンスを確認できます。 

前に説明したように、画像を表示するために複数のレイアウトから選択することができます。 画像を選択してタグを割り当てた後に間違ったことに気付いた場合は、修正することができます。 画像の下に表示されているラベルで、`X` のターゲットをクリックすると、タグがクリアされます。 また、画像を選択して別のクラスを選択した場合、タグは新しく選択した値に切り替わります。

## <a name="tagging-images-for-multi-label-classification"></a>複数ラベル分類のための画像のタグ付け

プロジェクトの種類が [Image Classification Multi-Label]\(画像分類の複数ラベル\) の場合は、1 つ "_または複数の_" タグを画像に適用します。 いつでも **[指示]** ページを選択し、 **[詳細な指示の表示]** に移動してプロジェクト固有のガイダンスを確認できます。 

ラベルを付ける画像を選択し、タグをクリックします。 タグを選択すると、選択したすべての画像に適用され、選択が解除されます。 さらにタグを適用するには、画像を再び選択する必要があります。 このアニメーションは、複数ラベルのタグ付けページを示しています。

* "Ocean" (海洋) タグを適用するために **[すべて選択]** が使用されています
* 1 つの画像が選択され、"Closeup" (クローズアップ) というタグが付けられています
* 3 つの画像が選択され、"Wide angle" (ワイド アングル) というタグが付けられています

![複数ラベル フローを示すアニメーション](media/how-to-label-images/multilabel.gif)

誤りを修正するには、`X` をクリックして個々のタグをクリアするか、画像を選択し、タグを選択します。これで、選択したすべての画像からタグがクリアされます。 このシナリオを次に示します。[Land]\(陸\) をクリックすると、選択した 2 つの画像からそのタグがクリアされます。

![複数の選択解除を示すスクリーンショット](media/how-to-label-images/multiple-deselection.png)

Azure では、各画像に少なくとも 1 つのタグを適用した後にのみ **[送信]** ボタンが有効になります。 **[送信]** を押して作業内容を保存します。

## <a name="tagging-images-and-bounding-boxes-for-object-detection"></a>オブジェクト検出のための画像と境界ボックスのタグ付け

プロジェクトの種類が [Object Identification (Bounding Boxes)]\(オブジェクトの識別 (境界ボックス)\) の場合、画像内の 1 つ以上の境界ボックスを指定し、そのボックスにタグを適用します。 各画像には複数の境界ボックスがあり、それぞれに 1 つのタグがあります。 **[詳細な指示の表示]** を使用して、複数の境界ボックスの追加がプロジェクトに適しているかどうかを判断します。

1. 作成する境界ボックスのタグを選択します
1. **四角形のボックス** ツール ![四角形のボックス ツール](media/how-to-label-images/rectangular-box-tool.png) を選択するか、R キーを押します 
1. ターゲットをクリックして斜めにドラッグすると、大まかな境界ボックスを作成できます
    * 境界ボックスを調整するには、ボックスの端または角をクリックしてドラッグします

![基本的な境界ボックスの作成のスクリーンショット](media/how-to-label-images/bounding-box-sequence.png)

境界ボックスを削除する場合は、作成後に境界ボックスの横に表示される X 形のターゲットをクリックします。

既存の境界ボックスのタグを再割り当てすることはできません。 タグの割り当てを間違った場合は、境界ボックスを削除し、新しく作成して正しいタグを指定する必要があります。

既定では、既存の境界ボックスが編集される可能性があります。 **領域のロック/ロック解除**ツール ![領域のロック/ロック解除ツール](media/how-to-label-images/lock-bounding-boxes-tool.png) または L キーを使用して、その動作を切り替えます。 領域がロックされている場合は、新しい境界ボックスの形状または位置のみを変更できます。

**領域操作**ツール ![領域操作ツール](media/how-to-label-images/regions-tool.png) または M キーを使用して、既存の境界ボックスを調整します。 図形を調整するには、端または角をクリックしてドラッグします。 内側をクリックすると、境界ボックス全体をドラッグすることができます。 領域を編集できない場合は、**領域のロック/ロック解除**ツールを切り替えた可能性があります。 

**テンプレートベースのボックス** ツール ![テンプレートベースのボックス ツール](media/how-to-label-images/template-box-tool.png) または T キーを使用して、同じサイズの複数の境界ボックスを作成します。 画像に境界ボックスがなく、テンプレートベースのボックスをアクティブにすると、ツールによって 50x50 ピクセルのボックスが生成されます。 境界ボックスを作成し、テンプレートベースのボックスをアクティブにした場合、新しい境界ボックスは最後に作成したもののサイズになります。 テンプレートベースのボックスは、配置後にサイズを変更できます。 テンプレートベースのボックスのサイズを変更すると、そのボックスのサイズのみが変更されます。 

現在の画像に含まれる "_すべて_" の境界ボックスを削除する場合は、**すべての領域の削除**ツール ![すべての領域の削除ツール](media/how-to-label-images/delete-regions-tool.png)を選択できます。 

画像の境界ボックスを作成したら、 **[送信]** を押して作業内容を保存します。 **[送信]** ボタンを押さない限り、進行中の作業は保存されません。 

## <a name="finishing-up"></a>仕上げ 

タグを付けたデータのページを送信すると、Azure によって作業キューから新しいラベルなしのデータが割り当てられます。 ラベルなしのデータがなくなると、その旨のメッセージが表示され、ポータルのホーム ページに戻るリンクが表示されます。 

これ以上ラベル付けする必要がないことがわかっている場合は、ラベル付けポータルの右上にある名前を選択し、 **[サインアウト]** を選択します。 サインアウトしない場合、最終的に Azure によって "タイムアウト" され、データは別のラベラーに割り当てられます。 

## <a name="next-steps"></a>次の手順

* [Azure で画像分類モデルをトレーニングする](https://docs.microsoft.com/azure/machine-learning/service/tutorial-train-models-with-aml)方法を確認します
* [Azure と Faster R-CNN 手法を使用したオブジェクト検出](https://www.microsoft.com/developerblog/2017/10/24/bird-detection-with-azure-ml-workbench/)について読みます