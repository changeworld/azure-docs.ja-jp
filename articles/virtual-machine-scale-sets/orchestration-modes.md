---
title: Azure の仮想マシン スケール セットのオーケストレーション モードについての詳細情報
description: Azure の仮想マシン スケール セットのオーケストレーション モードについての詳細情報。
author: shandilvarun
ms.service: virtual-machine-scale-sets
ms.workload: infrastructure-services
ms.topic: conceptual
ms.date: 10/23/2019
ms.author: vashan
ms.openlocfilehash: 4a0be30f181921461ad0bacea6f18ce439d22353
ms.sourcegitcommit: 5397b08426da7f05d8aa2e5f465b71b97a75550b
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/19/2020
ms.locfileid: "76279059"
---
# <a name="orchestration-mode-preview"></a>オーケストレーション モード (プレビュー)

仮想マシン スケール セットは、プラットフォームによって管理される仮想マシンの論理グループを提供します。 スケール セットを使用して、仮想マシン構成モデルを作成し、CPU またはメモリの負荷に基づいて追加のインスタンスを自動的に追加または削除し、最新の OS バージョンに自動的にアップグレードします。 従来、スケール セットでは、スケール セットの作成時に提供された VM 構成モデルを使用して仮想マシンを作成できます。スケール セットで管理できるのは、構成モデルに基づいて暗黙的に作成された仮想マシンのみです。

スケール セットのオーケストレーション モード (プレビュー) では、スケール セットがスケール セット構成モデルの外部で明示的に作成された仮想マシンを調整するか、構成モデルに基づいて暗黙的に作成された仮想マシン インスタンスを調整するかを選択できるようになりました。 スケール セットのオーケストレーション モードは、これらの VM を障害ドメインおよび Availability Zones にデプロイすることによって高可用性を実現する VM インフラストラクチャを設計するのにも役立ちます。


仮想マシン スケール セットでは、次の 2 つの異なるオーケストレーション モードがサポートされます。

- ScaleSetVM - スケール セットに追加される仮想マシン インスタンスは、スケール セットの構成モデルに基づきます。 仮想マシン インスタンスのライフサイクル (作成、更新、削除) は、スケール セットによって管理されます。
- VM (仮想マシン) - スケール セット外で作成された仮想マシンは、スケール セットに明示的に追加できます。 
 

> [!IMPORTANT]
> オーケストレーション モードは、スケール セットを作成するときに定義され、後で変更または更新することはできません。 
> 
> 仮想マシン スケール セットのこの機能は、現在パブリック プレビュー段階です。
> このプレビュー バージョンはサービス レベル アグリーメントなしで提供されています。運用環境のワークロードに使用することはお勧めできません。 特定の機能はサポート対象ではなく、機能が制限されることがあります。 
> 詳しくは、[Microsoft Azure プレビューの追加使用条件](https://azure.microsoft.com/support/legal/preview-supplemental-terms/)に関するページをご覧ください。


## <a name="orchestration-modes"></a>オーケストレーション モード

|                             | “orchestrationMode”: “VM” (VirtualMachine) | “orchestrationMode”: “ScaleSetVM” (VirtualMachineScaleSetVM) |
|-----------------------------|--------------------------------------------|--------------------------------------------------------------|
| VM 構成モデル      | なし                                       | 必須 |
| スケール セットへの新しい VM の追加  | VM は、VM が作成されるときにスケール セットに明示的に追加されます。 | VM は、VM 構成モデル、インスタンス数、自動スケーリング規則に基づいて暗黙的に作成され、スケール セットに追加されます | |
| VM を削除する                   | VM は個別に削除する必要があります。スケール セットに VM が含まれている場合、スケール セットは削除されません。 | VM は個別に削除できます。スケール セットを削除すると、すべての VM インスタンスが削除されます。  |
| VM をアタッチまたはデタッチする           | サポートされていません                              | サポートされていません |
| インスタンスのライフサイクル (作成から削除まで) | VM とその成果物 (ディスク、NIC など) は個別に管理できます。 | インスタンスとその成果物 (ディスク、NIC など) は、それらを作成するスケール セット インスタンスに対して暗黙的です。 これらをスケール セット外で個別にデタッチまたは管理することはできません |
| 障害ドメイン               | 障害ドメインを定義できます。 リージョン サポートに基づく場合は 2 つまたは 3 つ、可用性ゾーンの場合は 5 つです。 | 1 から 5 までの障害ドメインを定義できます |
| 更新ドメイン              | 更新ドメインは自動的に障害ドメインにマップされます | 更新ドメインは自動的に障害ドメインにマップされます |
| 可用性ゾーン          | 1 つの可用性ゾーンのリージョンのデプロイまたは VM をサポートします | リージョンのデプロイまたは複数の可用性ゾーンをサポートします。ゾーン バランス戦略を定義できます |
| Autoscale                   | サポートされていません                              | サポートされています |
| OS のアップグレード                  | サポートされていません                              | サポートされています |
| モデルの更新               | サポートされていません                              | サポートされています |
| インスタンス制御            | 完全な VM 制御。 VM は、すべての Azure VM 管理機能 (Azure Policy、Azure Backup、Azure Site Recovery など) をサポートする完全修飾 URI を持ちます | VM は、スケール セットの依存リソースです。 インスタンスを管理する際は、スケール セットを通じてのみアクセスできます。 |
| インスタンス モデル              | Microsoft.Compute/VirtualMachines モデル定義。 | Microsoft.Compute/VirtualMachineScaleSets/VirtualMachines モデル定義。 |
| 容量                    | 空のスケール セットを作成できます。最大 200 台の VM をスケール セットに追加できます | インスタンス数が 0 から 1,000 個のスケール セットを定義できます |
| [詳細ビュー]                        | サポートされています                                  | サポートされています |
| 1 つの配置グループ == false | サポートされていません                          | サポートされています |


## <a name="next-steps"></a>次のステップ

詳細については、[可用性オプションの概要](availability.md)に関するページを参照してください。
