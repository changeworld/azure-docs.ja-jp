---
title: インクルード ファイル
description: インクルード ファイル
services: storage
author: roygara
ms.service: storage
ms.topic: include
ms.date: 12/27/2019
ms.author: rogarana
ms.custom: include file
ms.openlocfilehash: b7c097306ba46d4f0024aecc55994508e2d8a090
ms.sourcegitcommit: f28ebb95ae9aaaff3f87d8388a09b41e0b3445b5
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/29/2021
ms.locfileid: "96011722"
---
Azure ファイル共有内のデータを損失や破損から保護するため、すべての Azure ファイル共有では、各ファイルが書き込まれるときに複数のコピーが格納されます。 ワークロードの要件に応じて、冗長性のレベルをさらに高めることができます。 現在、Azure Files では次のデータ冗長性オプションがサポートされています。

- **ローカル冗長**: ローカル冗長ストレージ (LRS と呼ばれることもあります) は、すべてのファイルが Azure ストレージ クラスター内に 3 回格納されることを意味します。 これにより、不良ディスク ドライブなどのハードウェア障害によるデータの損失を防ぐことができます。
- **ゾーン冗長**: ゾーン冗長ストレージ (ZRS と呼ばれることもあります) は、すべてのファイルが 3 つの異なる Azure ストレージ クラスターに 3 回格納されることを意味します。 ローカル冗長ストレージと同様に、ゾーン冗長では、ファイルごとに 3 つのコピーが用意されます。ただしこれらのコピーは、異なる Azure "*可用性ゾーン*" の 3 つの独立したストレージ クラスターで物理的に分離されます。 可用性ゾーンは、Azure リージョン内の一意の物理的な場所です。 それぞれのゾーンは、独立した電源、冷却手段、ネットワークを備えた 1 つまたは複数のデータセンターで構成されています。 3 つの可用性ゾーンすべてのストレージ クラスターに書き込まれるまで、ストレージへの書き込みは受け入れられません。 
- **geo 冗長**: geo 冗長ストレージ (GRS と呼ばれることもあります) では、ローカル冗長ストレージと同じように、プライマリ リージョンの Azure ストレージ クラスター内にファイルが 3 回保存されます。 その後、すべての書き込みが Microsoft で定義されたセカンダリ リージョンに非同期的にレプリケートされます。 geo 冗長ストレージでは、データの 6 つのコピーが 2 つの Azure リージョンに分散して作成されます。 自然災害や他の同様の出来事で Azure リージョンが完全に失われた場合など、重大な障害が発生した場合は、Microsoft によってフェールオーバーが実行され、セカンダリが実質的にプライマリになってすべての操作を提供します。 プライマリ リージョンとセカンダリ リージョンの間のレプリケーションは非同期であるため、重大な障害が発生した場合、セカンダリ リージョンにまだレプリケートされていないデータは失われます。 geo 冗長ストレージ アカウントのフェールオーバーは、手動で実行することもできます。
- **geo ゾーン冗長**: geo ゾーン冗長ストレージ (GZRS と呼ばれることもあります) では、ゾーン冗長ストレージと同じように、プライマリ リージョン内の 3 つの異なるストレージ クラスターにファイルが 3 回保存されます。 その後、すべての書き込みが Microsoft で定義されたセカンダリ リージョンに非同期的にレプリケートされます。 geo ゾーン冗長ストレージのフェールオーバー プロセスは、geo 冗長ストレージの場合と同じように動作します。

Standard Azure ファイル共有では 4 種類の冗長性がすべてサポートされていますが、Premium Azure ファイル共有では、ローカル冗長ストレージとゾーン冗長ストレージのみがサポートされています。

汎用バージョン 2 (GPv2) のストレージ アカウントでは、Azure Files ではサポートされていない 2 つの追加の冗長オプションが提供されています。読み取りアクセス geo 冗長ストレージ (RA-GRS と呼ばれることもあります) と、読み取りアクセス geo ゾーン冗長ストレージ (RA-GZRS と呼ばれることもあります) です。 これらのオプション セットを使用して、ストレージ アカウントで Azure ファイル共有をプロビジョニングできますが、Azure Files ではセカンダリ リージョンからの読み取りはサポートされていません。 読み取りアクセス geo 冗長ストレージ アカウントまたは読み取りアクセス geo ゾーン冗長ストレージ アカウントにデプロイされた Azure ファイル共有は、それぞれ、geo 冗長ストレージまたは geo ゾーン冗長ストレージとして課金されます。