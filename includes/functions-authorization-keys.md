---
author: ggailey777
ms.service: azure-functions
ms.topic: include
ms.date: 05/06/2020
ms.author: glenga
ms.openlocfilehash: 617608f382d3331e59ae92c9eb272347c736b768
ms.sourcegitcommit: f28ebb95ae9aaaff3f87d8388a09b41e0b3445b5
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/29/2021
ms.locfileid: "91828870"
---
関数を使用すると、開発中に HTTP 関数のエンドポイントにアクセスするのをより困難にするようにキーを使用できます。 HTTP によってトリガーされる関数で HTTP アクセス レベルが `anonymous` に設定されている場合を除き、要求には API アクセス キーが含まれている必要があります。 

キーからは既定のセキュリティ メカニズムが与えられますが、運用環境で HTTP エンドポイントをセキュリティで保護する追加オプションの検討もお勧めします。 たとえば、パブリック アプリで共有シークレットを配布することは通常、良い習慣ではありません。 関数がパブリック クライアントから呼び出される場合、別のセキュリティ メカニズムの実装を検討することをお勧めします。 詳細については、[運用環境で HTTP エンドポイントを保護する](../articles/azure-functions/functions-bindings-http-webhook-trigger.md#secure-an-http-endpoint-in-production)を参照してください。

関数キー値を更新したら、関数が呼び出されるすべてのクライアントに更新後のキー値を手動で再配布する必要があります。  

#### <a name="authorization-scopes-function-level"></a>承認スコープ (関数レベル)

関数レベルのキーには、2 つのアクセス スコープがあります。

* **関数**:これらのキーは、それらが定義されている特定の関数にのみ適用されます。 API キーとして使用した場合は、その関数だけがアクセスできます。

* **[Host]\(ホスト\)** : ホスト スコープのキーは、関数アプリ内のすべての関数にアクセスするために使用できます。 API キーとして使用した場合は、関数アプリ内のすべての関数がアクセスできます。 

各キーには、参照用に名前が付けられており、関数レベルおよびホスト レベルで "default" という名前の既定のキーがあります。 関数キーが、ホスト キーよりも優先されます。 2 つのキーが同じ名前で定義されている場合は、関数キーが使用されます。

#### <a name="master-key-admin-level"></a>マスターキー (管理レベル) 

各関数アプリには、`_master`という管理レベルのホスト キーもあります。 マスター キーは、アプリ内のすべての関数へのホスト レベルのアクセスを提供するだけでなく、ランタイム REST API への管理アクセスも提供します。 このキーを取り消すことはできません。 アクセス レベルを `admin` に設定すると、要求でマスター キーを使用する必要があります。その他のキーを使用するとアクセス エラーになります。

> [!CAUTION]  
> マスター キーによって付与された関数 app の権限が昇格しているため、このキーを第三者と共有したり、ネイティブ クライアント アプリケーションに配布したりしないでください。 管理者アクセス レベルを選択する場合は注意が必要です。
